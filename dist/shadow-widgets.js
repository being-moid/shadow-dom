/*! For license information please see shadow-widgets.js.LICENSE.txt */
(()=>{"use strict";var e={d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p:"/"},n={};e.r(n),e.d(n,{hasBrowserEnv:()=>Fu,hasStandardBrowserEnv:()=>zu,hasStandardBrowserWebWorkerEnv:()=>Bu,navigator:()=>Mu,origin:()=>Uu});const t=window,r=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,i=Symbol(),o=new WeakMap;class a{constructor(e,n,t){if(this._$cssResult$=!0,t!==i)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(r&&void 0===e){const t=void 0!==n&&1===n.length;t&&(e=o.get(n)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),t&&o.set(n,e))}return e}toString(){return this.cssText}}const s=e=>new a("string"==typeof e?e:e+"",void 0,i),c=(e,...n)=>{const t=1===e.length?e[0]:n.reduce(((n,t,r)=>n+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(t)+e[r+1]),e[0]);return new a(t,e,i)},l=r?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let n="";for(const t of e.cssRules)n+=t.cssText;return s(n)})(e):e;var d;const u=window,p=u.trustedTypes,h=p?p.emptyScript:"",f=u.reactiveElementPolyfillSupport,m={toAttribute(e,n){switch(n){case Boolean:e=e?h:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,n){let t=e;switch(n){case Boolean:t=null!==e;break;case Number:t=null===e?null:Number(e);break;case Object:case Array:try{t=JSON.parse(e)}catch(e){t=null}}return t}},v=(e,n)=>n!==e&&(n==n||e==e),g={attribute:!0,type:String,converter:m,reflect:!1,hasChanged:v},y="finalized";class b extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var n;this.finalize(),(null!==(n=this.h)&&void 0!==n?n:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((n,t)=>{const r=this._$Ep(t,n);void 0!==r&&(this._$Ev.set(r,t),e.push(r))})),e}static createProperty(e,n=g){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(e,n),!n.noAccessor&&!this.prototype.hasOwnProperty(e)){const t="symbol"==typeof e?Symbol():"__"+e,r=this.getPropertyDescriptor(e,t,n);void 0!==r&&Object.defineProperty(this.prototype,e,r)}}static getPropertyDescriptor(e,n,t){return{get(){return this[n]},set(r){const i=this[e];this[n]=r,this.requestUpdate(e,i,t)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||g}static finalize(){if(this.hasOwnProperty(y))return!1;this[y]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const e=this.properties,n=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const t of n)this.createProperty(t,e[t])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const t=new Set(e.flat(1/0).reverse());for(const e of t)n.unshift(l(e))}else void 0!==e&&n.push(l(e));return n}static _$Ep(e,n){const t=n.attribute;return!1===t?void 0:"string"==typeof t?t:"string"==typeof e?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var n,t;(null!==(n=this._$ES)&&void 0!==n?n:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(t=e.hostConnected)||void 0===t||t.call(e))}removeController(e){var n;null===(n=this._$ES)||void 0===n||n.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,n)=>{this.hasOwnProperty(n)&&(this._$Ei.set(n,this[n]),delete this[n])}))}createRenderRoot(){var e;const n=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,n)=>{r?e.adoptedStyleSheets=n.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):n.forEach((n=>{const r=document.createElement("style"),i=t.litNonce;void 0!==i&&r.setAttribute("nonce",i),r.textContent=n.cssText,e.appendChild(r)}))})(n,this.constructor.elementStyles),n}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var n;return null===(n=e.hostConnected)||void 0===n?void 0:n.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var n;return null===(n=e.hostDisconnected)||void 0===n?void 0:n.call(e)}))}attributeChangedCallback(e,n,t){this._$AK(e,t)}_$EO(e,n,t=g){var r;const i=this.constructor._$Ep(e,t);if(void 0!==i&&!0===t.reflect){const o=(void 0!==(null===(r=t.converter)||void 0===r?void 0:r.toAttribute)?t.converter:m).toAttribute(n,t.type);this._$El=e,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._$El=null}}_$AK(e,n){var t;const r=this.constructor,i=r._$Ev.get(e);if(void 0!==i&&this._$El!==i){const e=r.getPropertyOptions(i),o="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(t=e.converter)||void 0===t?void 0:t.fromAttribute)?e.converter:m;this._$El=i,this[i]=o.fromAttribute(n,e.type),this._$El=null}}requestUpdate(e,n,t){let r=!0;void 0!==e&&(((t=t||this.constructor.getPropertyOptions(e)).hasChanged||v)(this[e],n)?(this._$AL.has(e)||this._$AL.set(e,n),!0===t.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,t))):r=!1),!this.isUpdatePending&&r&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,n)=>this[n]=e)),this._$Ei=void 0);let n=!1;const t=this._$AL;try{n=this.shouldUpdate(t),n?(this.willUpdate(t),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var n;return null===(n=e.hostUpdate)||void 0===n?void 0:n.call(e)})),this.update(t)):this._$Ek()}catch(e){throw n=!1,this._$Ek(),e}n&&this._$AE(t)}willUpdate(e){}_$AE(e){var n;null===(n=this._$ES)||void 0===n||n.forEach((e=>{var n;return null===(n=e.hostUpdated)||void 0===n?void 0:n.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,n)=>this._$EO(n,this[n],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}var w;b[y]=!0,b.elementProperties=new Map,b.elementStyles=[],b.shadowRootOptions={mode:"open"},null==f||f({ReactiveElement:b}),(null!==(d=u.reactiveElementVersions)&&void 0!==d?d:u.reactiveElementVersions=[]).push("1.6.3");const x=window,S=x.trustedTypes,k=S?S.createPolicy("lit-html",{createHTML:e=>e}):void 0,E="$lit$",P=`lit$${(Math.random()+"").slice(9)}$`,O="?"+P,C=`<${O}>`,A=document,T=()=>A.createComment(""),D=e=>null===e||"object"!=typeof e&&"function"!=typeof e,I=Array.isArray,j="[ \t\n\f\r]",N=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,L=/-->/g,R=/>/g,_=RegExp(`>|${j}(?:([^\\s"'>=/]+)(${j}*=${j}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),F=/'/g,M=/"/g,z=/^(?:script|style|textarea|title)$/i,B=e=>(n,...t)=>({_$litType$:e,strings:n,values:t}),U=B(1),V=(B(2),Symbol.for("lit-noChange")),q=Symbol.for("lit-nothing"),H=new WeakMap,G=A.createTreeWalker(A,129,null,!1);function $(e,n){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==k?k.createHTML(n):n}const Y=(e,n)=>{const t=e.length-1,r=[];let i,o=2===n?"<svg>":"",a=N;for(let n=0;n<t;n++){const t=e[n];let s,c,l=-1,d=0;for(;d<t.length&&(a.lastIndex=d,c=a.exec(t),null!==c);)d=a.lastIndex,a===N?"!--"===c[1]?a=L:void 0!==c[1]?a=R:void 0!==c[2]?(z.test(c[2])&&(i=RegExp("</"+c[2],"g")),a=_):void 0!==c[3]&&(a=_):a===_?">"===c[0]?(a=null!=i?i:N,l=-1):void 0===c[1]?l=-2:(l=a.lastIndex-c[2].length,s=c[1],a=void 0===c[3]?_:'"'===c[3]?M:F):a===M||a===F?a=_:a===L||a===R?a=N:(a=_,i=void 0);const u=a===_&&e[n+1].startsWith("/>")?" ":"";o+=a===N?t+C:l>=0?(r.push(s),t.slice(0,l)+E+t.slice(l)+P+u):t+P+(-2===l?(r.push(void 0),n):u)}return[$(e,o+(e[t]||"<?>")+(2===n?"</svg>":"")),r]};class J{constructor({strings:e,_$litType$:n},t){let r;this.parts=[];let i=0,o=0;const a=e.length-1,s=this.parts,[c,l]=Y(e,n);if(this.el=J.createElement(c,t),G.currentNode=this.el.content,2===n){const e=this.el.content,n=e.firstChild;n.remove(),e.append(...n.childNodes)}for(;null!==(r=G.nextNode())&&s.length<a;){if(1===r.nodeType){if(r.hasAttributes()){const e=[];for(const n of r.getAttributeNames())if(n.endsWith(E)||n.startsWith(P)){const t=l[o++];if(e.push(n),void 0!==t){const e=r.getAttribute(t.toLowerCase()+E).split(P),n=/([.?@])?(.*)/.exec(t);s.push({type:1,index:i,name:n[2],strings:e,ctor:"."===n[1]?Z:"?"===n[1]?ne:"@"===n[1]?te:X})}else s.push({type:6,index:i})}for(const n of e)r.removeAttribute(n)}if(z.test(r.tagName)){const e=r.textContent.split(P),n=e.length-1;if(n>0){r.textContent=S?S.emptyScript:"";for(let t=0;t<n;t++)r.append(e[t],T()),G.nextNode(),s.push({type:2,index:++i});r.append(e[n],T())}}}else if(8===r.nodeType)if(r.data===O)s.push({type:2,index:i});else{let e=-1;for(;-1!==(e=r.data.indexOf(P,e+1));)s.push({type:7,index:i}),e+=P.length-1}i++}}static createElement(e,n){const t=A.createElement("template");return t.innerHTML=e,t}}function W(e,n,t=e,r){var i,o,a,s;if(n===V)return n;let c=void 0!==r?null===(i=t._$Co)||void 0===i?void 0:i[r]:t._$Cl;const l=D(n)?void 0:n._$litDirective$;return(null==c?void 0:c.constructor)!==l&&(null===(o=null==c?void 0:c._$AO)||void 0===o||o.call(c,!1),void 0===l?c=void 0:(c=new l(e),c._$AT(e,t,r)),void 0!==r?(null!==(a=(s=t)._$Co)&&void 0!==a?a:s._$Co=[])[r]=c:t._$Cl=c),void 0!==c&&(n=W(e,c._$AS(e,n.values),c,r)),n}class Q{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var n;const{el:{content:t},parts:r}=this._$AD,i=(null!==(n=null==e?void 0:e.creationScope)&&void 0!==n?n:A).importNode(t,!0);G.currentNode=i;let o=G.nextNode(),a=0,s=0,c=r[0];for(;void 0!==c;){if(a===c.index){let n;2===c.type?n=new K(o,o.nextSibling,this,e):1===c.type?n=new c.ctor(o,c.name,c.strings,this,e):6===c.type&&(n=new re(o,this,e)),this._$AV.push(n),c=r[++s]}a!==(null==c?void 0:c.index)&&(o=G.nextNode(),a++)}return G.currentNode=A,i}v(e){let n=0;for(const t of this._$AV)void 0!==t&&(void 0!==t.strings?(t._$AI(e,t,n),n+=t.strings.length-2):t._$AI(e[n])),n++}}class K{constructor(e,n,t,r){var i;this.type=2,this._$AH=q,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=t,this.options=r,this._$Cp=null===(i=null==r?void 0:r.isConnected)||void 0===i||i}get _$AU(){var e,n;return null!==(n=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==n?n:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return void 0!==n&&11===(null==e?void 0:e.nodeType)&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=W(this,e,n),D(e)?e===q||null==e||""===e?(this._$AH!==q&&this._$AR(),this._$AH=q):e!==this._$AH&&e!==V&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):(e=>I(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]))(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==q&&D(this._$AH)?this._$AA.nextSibling.data=e:this.$(A.createTextNode(e)),this._$AH=e}g(e){var n;const{values:t,_$litType$:r}=e,i="number"==typeof r?this._$AC(e):(void 0===r.el&&(r.el=J.createElement($(r.h,r.h[0]),this.options)),r);if((null===(n=this._$AH)||void 0===n?void 0:n._$AD)===i)this._$AH.v(t);else{const e=new Q(i,this),n=e.u(this.options);e.v(t),this.$(n),this._$AH=e}}_$AC(e){let n=H.get(e.strings);return void 0===n&&H.set(e.strings,n=new J(e)),n}T(e){I(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let t,r=0;for(const i of e)r===n.length?n.push(t=new K(this.k(T()),this.k(T()),this,this.options)):t=n[r],t._$AI(i),r++;r<n.length&&(this._$AR(t&&t._$AB.nextSibling,r),n.length=r)}_$AR(e=this._$AA.nextSibling,n){var t;for(null===(t=this._$AP)||void 0===t||t.call(this,!1,!0,n);e&&e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){var n;void 0===this._$AM&&(this._$Cp=e,null===(n=this._$AP)||void 0===n||n.call(this,e))}}class X{constructor(e,n,t,r,i){this.type=1,this._$AH=q,this._$AN=void 0,this.element=e,this.name=n,this._$AM=r,this.options=i,t.length>2||""!==t[0]||""!==t[1]?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=q}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,n=this,t,r){const i=this.strings;let o=!1;if(void 0===i)e=W(this,e,n,0),o=!D(e)||e!==this._$AH&&e!==V,o&&(this._$AH=e);else{const r=e;let a,s;for(e=i[0],a=0;a<i.length-1;a++)s=W(this,r[t+a],n,a),s===V&&(s=this._$AH[a]),o||(o=!D(s)||s!==this._$AH[a]),s===q?e=q:e!==q&&(e+=(null!=s?s:"")+i[a+1]),this._$AH[a]=s}o&&!r&&this.j(e)}j(e){e===q?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class Z extends X{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===q?void 0:e}}const ee=S?S.emptyScript:"";class ne extends X{constructor(){super(...arguments),this.type=4}j(e){e&&e!==q?this.element.setAttribute(this.name,ee):this.element.removeAttribute(this.name)}}class te extends X{constructor(e,n,t,r,i){super(e,n,t,r,i),this.type=5}_$AI(e,n=this){var t;if((e=null!==(t=W(this,e,n,0))&&void 0!==t?t:q)===V)return;const r=this._$AH,i=e===q&&r!==q||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,o=e!==q&&(r===q||i);i&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n,t;"function"==typeof this._$AH?this._$AH.call(null!==(t=null===(n=this.options)||void 0===n?void 0:n.host)&&void 0!==t?t:this.element,e):this._$AH.handleEvent(e)}}class re{constructor(e,n,t){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=t}get _$AU(){return this._$AM._$AU}_$AI(e){W(this,e)}}const ie=x.litHtmlPolyfillSupport;var oe,ae;null==ie||ie(J,K),(null!==(w=x.litHtmlVersions)&&void 0!==w?w:x.litHtmlVersions=[]).push("2.8.0");class se extends b{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,n;const t=super.createRenderRoot();return null!==(e=(n=this.renderOptions).renderBefore)&&void 0!==e||(n.renderBefore=t.firstChild),t}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,n,t)=>{var r,i;const o=null!==(r=null==t?void 0:t.renderBefore)&&void 0!==r?r:n;let a=o._$litPart$;if(void 0===a){const e=null!==(i=null==t?void 0:t.renderBefore)&&void 0!==i?i:null;o._$litPart$=a=new K(n.insertBefore(T(),e),e,void 0,null!=t?t:{})}return a._$AI(e),a})(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return V}}se.finalized=!0,se._$litElement$=!0,null===(oe=globalThis.litElementHydrateSupport)||void 0===oe||oe.call(globalThis,{LitElement:se});const ce=globalThis.litElementPolyfillSupport;function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}var de,ue,pe,he;function fe(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,me(r.key),r)}}function me(e){var n=function(e){if("object"!=le(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=le(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==le(n)?n:n+""}function ve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ve=function(){return!!e})()}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(e)}function ye(e,n){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},ye(e,n)}function be(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}null==ce||ce({LitElement:se}),(null!==(ae=globalThis.litElementVersions)&&void 0!==ae?ae:globalThis.litElementVersions=[]).push("3.3.3");var we,xe,Se,ke,Ee,Pe,Oe=c(de||(de=be(['\n  :host {\n    display: block;\n    position: fixed;\n    z-index: 1000;\n  }\n\n  :host([position="bottom-right-1"]) {\n    bottom: 2rem;\n    right: 2rem;\n  }\n\n  :host([position="bottom-right-2"]) {\n    bottom: 6rem;\n    right: 2rem;\n  }\n\n  :host([position="bottom-right-3"]) {\n    bottom: 10rem;\n    right: 2rem;\n  }\n\n  :host([position="bottom-left-1"]) {\n    bottom: 2rem;\n    left: 2rem;\n  }\n\n  :host([position="bottom-left-2"]) {\n    bottom: 6rem;\n    left: 2rem;\n  }\n\n  :host([position="bottom-left-3"]) {\n    bottom: 10rem;\n    left: 2rem;\n  }\n\n  button {\n    width: 3.5rem;\n    height: 3.5rem;\n    border-radius: 9999px;\n    background: #8500d8;\n    border: none;\n    color: white;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all 0.2s ease;\n    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  }\n\n  button:hover {\n    transform: scale(1.1);\n    background: #6a00ad;\n  }\n\n  button:disabled {\n    background: #9CA3AF;\n    cursor: not-allowed;\n    transform: none;\n  }\n\n  svg {\n    width: 1.5rem;\n    height: 1.5rem;\n  }\n']))),Ce=function(e){function n(){var e,t,r,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=this,r=n,r=ge(r),e=function(e,n){if(n&&("object"==le(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,ve()?Reflect.construct(r,i||[],ge(t).constructor):r.apply(t,i))).position="bottom-right",e.glowing=!1,e.disabled=!1,e.type="coverage",e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&ye(e,n)}(n,e),function(e,n,t){return n&&fe(e.prototype,n),t&&fe(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"render",value:function(){return U(ue||(ue=be(['\n      <button @click="','">\n        ',"\n      </button>\n    "])),this._handleClick,"prior-auth"===this.type?U(pe||(pe=be(['\n          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" \n              d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />\n          </svg>\n        ']))):U(he||(he=be(['\n          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />\n          </svg>\n        ']))))}},{key:"_handleClick",value:function(e){this.disabled||(console.log("".concat("coverage"===this.type?"Coverage":"Prior Auth"," button clicked")),this.dispatchEvent(new CustomEvent("click",{bubbles:!0,composed:!0,detail:{originalEvent:e,type:this.type}})))}}],[{key:"properties",get:function(){return{position:{type:String,reflect:!0},glowing:{type:Boolean,reflect:!0},disabled:{type:Boolean,reflect:!0},type:{type:String,reflect:!0}}}},{key:"styles",get:function(){return Oe}}])}(se);function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Te(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function De(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ie(r.key),r)}}function Ie(e){var n=function(e){if("object"!=Ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Ae(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ae(n)?n:n+""}function je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(je=function(){return!!e})()}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}function Le(e,n){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},Le(e,n)}function Re(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}customElements.get("floating-button")||customElements.define("floating-button",Ce);var _e,Fe,Me,ze=c(we||(we=Re(['\n  :host {\n    display: block;\n  }\n  \n  .multi-select {\n    position: relative;\n    width: 100%;\n  }\n  \n  .select-button {\n    width: 100%;\n    padding: 0.75rem;\n    background: white;\n    border: 1px solid #E5E7EB;\n    border-radius: 0.5rem;\n    text-align: left;\n    color: #374151;\n    font-size: 0.875rem;\n    cursor: pointer;\n    position: relative;\n    min-height: 42px;\n  }\n  \n  .select-button:after {\n    content: \'\';\n    position: absolute;\n    right: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    border-left: 5px solid transparent;\n    border-right: 5px solid transparent;\n    border-top: 5px solid #374151;\n  }\n  \n  .dropdown {\n    position: absolute;\n    top: 100%;\n    left: 0;\n    right: 0;\n    background: white;\n    border: 1px solid #E5E7EB;\n    border-radius: 0.5rem;\n    margin-top: 0.25rem;\n    z-index: 10;\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n    display: none;\n  }\n  \n  .dropdown.show {\n    display: block;\n  }\n  \n  .search-input {\n    width: 100%;\n    padding: 0.75rem;\n    border: none;\n    border-bottom: 1px solid #E5E7EB;\n    font-size: 0.875rem;\n  }\n  \n  .search-input:focus {\n    outline: none;\n    border-bottom-color: #463AA1;\n  }\n\n  .options-container {\n    max-height: 400px; /* Set a reasonable max height */\n    overflow-y: auto;\n  }\n  \n  .option {\n    padding: 0.75rem;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    border-bottom: 1px solid #F3F4F6;\n  }\n  \n  .option:last-child {\n    border-bottom: none;\n  }\n  \n  .option:hover {\n    background-color: #F3F4F6;\n  }\n  \n  .option input[type="checkbox"] {\n    margin: 0;\n    width: 16px;\n    height: 16px;\n    border-radius: 4px;\n    border: 2px solid #D1D5DB;\n  }\n  \n  .option input[type="checkbox"]:checked {\n    background-color: #463AA1;\n    border-color: #463AA1;\n  }\n  \n  .no-results {\n    padding: 0.75rem;\n    color: #6B7280;\n    font-size: 0.875rem;\n    text-align: center;\n  }\n  \n  .placeholder {\n    color: #9CA3AF;\n  }\n']))),Be=function(e){function n(){var e,t,r,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=this,r=n,r=Ne(r),e=function(e,n){if(n&&("object"==Ae(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,je()?Reflect.construct(r,i||[],Ne(t).constructor):r.apply(t,i))).options=[],e.placeholder="Select items...",e.selected=[],e.isOpen=!1,e.name="",e.searchText="",e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Le(e,n)}(n,e),function(e,n,t){return n&&De(e.prototype,n),t&&De(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"toggleDropdown",value:function(){this.isOpen=!this.isOpen}},{key:"handleOptionClick",value:function(e,n){var t;n.stopPropagation(),t=-1===this.selected.indexOf(e)?[].concat(function(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return Te(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Te(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.selected),[e]):this.selected.filter((function(n){return n!==e})),this.selected=t,this.dispatchEvent(new CustomEvent("change",{detail:{value:this.selected,name:this.name},bubbles:!0,composed:!0}))}},{key:"handleSearch",value:function(e){this.searchText=e.target.value.toLowerCase(),this.requestUpdate()}},{key:"render",value:function(){var e=this,n=this.options.filter((function(n){var t;return n.label.toLowerCase().includes((null===(t=e.searchText)||void 0===t?void 0:t.toLowerCase())||"")}));return U(xe||(xe=Re(['\n      <div class="multi-select">\n        <button\n          type="button"\n          class="select-button"\n          @click="','"\n          aria-haspopup="listbox"\n        >\n          ','\n        </button>\n        \n        <div class="dropdown ','">\n          <input\n            type="text"\n            class="search-input"\n            placeholder="Search..."\n            @input="','"\n            @click="','"\n            .value="','"\n          />\n          \n          <div class="options-container">\n            ',"\n          </div>\n        </div>\n      </div>\n    "])),this.toggleDropdown,this.selected.length?this.selected.map((function(n){var t;return null===(t=e.options.find((function(e){return e.value===n})))||void 0===t?void 0:t.label})).join(", "):U(Se||(Se=Re(['<span class="placeholder">',"</span>"])),this.placeholder),this.isOpen?"show":"",this.handleSearch,(function(e){return e.stopPropagation()}),this.searchText||"",n.length?n.map((function(n){return U(ke||(ke=Re(['\n              <div class="option" @click="','">\n                <input\n                  type="checkbox"\n                  .checked="','"\n                  @click="','"\n                  @change="','"\n                />\n                <span>',"</span>\n              </div>\n            "])),(function(t){return e.handleOptionClick(n.value,t)}),e.selected.includes(n.value),(function(e){return e.stopPropagation()}),(function(t){return e.handleOptionClick(n.value,t)}),n.label)})):U(Ee||(Ee=Re(['\n              <div class="no-results">No services found</div>\n            ']))))}}],[{key:"properties",get:function(){return{options:{type:Array},placeholder:{type:String},selected:{type:Array},isOpen:{type:Boolean},name:{type:String},searchText:{type:String}}}},{key:"styles",get:function(){return c(Pe||(Pe=Re(["\n      ","\n      \n      .search-input {\n        width: 100%;\n        padding: 0.5rem;\n        border: none;\n        border-bottom: 1px solid #E5E7EB;\n        margin-bottom: 0.5rem;\n        font-size: 0.875rem;\n      }\n\n      .search-input:focus {\n        outline: none;\n        border-bottom-color: #463AA1;\n      }\n\n      .no-results {\n        padding: 0.5rem 0.75rem;\n        color: #6B7280;\n        font-size: 0.875rem;\n      }\n    "])),ze)}}])}(se);function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function Ve(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qe(r.key),r)}}function qe(e){var n=function(e){if("object"!=Ue(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Ue(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ue(n)?n:n+""}function He(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(He=function(){return!!e})()}function Ge(e){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ge(e)}function $e(e,n){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},$e(e,n)}function Ye(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}customElements.get("multi-select")||customElements.define("multi-select",Be);var Je,We,Qe=c(_e||(_e=Ye(["\n  :host {\n    display: block;\n    background: white;\n    border-radius: 0.5rem;\n    overflow: hidden;\n  }\n\n  .table-container {\n    width: 100%;\n    overflow-x: auto;\n  }\n\n  table {\n    width: 100%;\n    border-collapse: collapse;\n  }\n\n  th {\n    background-color: #E9D5FF;\n    color: #4B5563;\n    font-weight: 600;\n    text-align: left;\n    padding: 0.75rem 1rem;\n  }\n\n  td {\n    padding: 0.75rem 1rem;\n    border-bottom: 1px solid #E5E7EB;\n  }\n\n  tr:nth-child(even) {\n    background-color: #F9FAFB;\n  }\n\n  .number-column {\n    width: 50px;\n  }\n\n  .service-column {\n    width: 200px;\n  }\n\n  .select-column {\n    width: 400px;\n  }\n\n  .amount-column {\n    width: 150px;\n  }\n\n  .amount-input {\n    width: 100%;\n    padding: 0.5rem;\n    border: 1px solid #D1D5DB;\n    border-radius: 0.25rem;\n    text-align: right;\n  }\n"]))),Ke=function(e){function n(){var e,t,r,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=this,r=n,r=Ge(r),e=function(e,n){if(n&&("object"==Ue(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,He()?Reflect.construct(r,i||[],Ge(t).constructor):r.apply(t,i))).services=[{id:1,name:"E & M Codes",items:["Item 1","Item 2","Item 3"]},{id:2,name:"CPT Services",items:["Service 1","Service 2","Service 3"]},{id:3,name:"Laboratory",items:["Lab 1","Lab 2","Lab 3"]},{id:4,name:"Radiology",items:["X-Ray","MRI","CT Scan"]},{id:5,name:"Dental",items:["Cleaning","Filling","Crown"]},{id:6,name:"HCPCS",items:["Code 1","Code 2","Code 3"]},{id:7,name:"Room & Board",items:["Single","Double","Suite"]},{id:8,name:"Pharmacy",items:["Med 1","Med 2","Med 3"]},{id:9,name:"HA Service Codes",items:["HA1","HA2","HA3"]},{id:10,name:"DRG",items:["DRG1","DRG2","DRG3"]},{id:11,name:"Kitchen Services",items:["Meal 1","Meal 2","Meal 3"]},{id:12,name:"Endoscopy",items:["Endo 1","Endo 2","Endo 3"]},{id:13,name:"Orthodontic",items:["Ortho 1","Ortho 2","Ortho 3"]},{id:14,name:"Maternity",items:["Mat 1","Mat 2","Mat 3"]},{id:15,name:"Surgical Packages",items:["Surgery 1","Surgery 2","Surgery 3"]}],e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&$e(e,n)}(n,e),function(e,n,t){return n&&Ve(e.prototype,n),t&&Ve(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"handleSelectionChange",value:function(e,n){console.log("Service ".concat(e," selection changed:"),n.detail.value)}},{key:"handleAmountChange",value:function(e,n){console.log("Service ".concat(e," amount changed:"),n.target.value)}},{key:"render",value:function(){var e=this;return U(Fe||(Fe=Ye(['\n      <div class="table-container">\n        <table>\n          <thead>\n            <tr>\n              <th class="number-column">No.</th>\n              <th class="service-column">Service Types</th>\n              <th class="select-column"></th>\n              <th class="amount-column">Out Deductible</th>\n            </tr>\n          </thead>\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>\n    "])),this.services.map((function(n){return U(Me||(Me=Ye(["\n              <tr>\n                <td>","</td>\n                <td>",'</td>\n                <td>\n                  <multi-select\n                    .options="','"\n                    placeholder="MULTI SELECT OF ITEMS WHICH WILL CALCULATE SUM AT NEXT COL"\n                    .name="','"\n                    @change="','"\n                  ></multi-select>\n                </td>\n                <td>\n                  <input\n                    type="number"\n                    class="amount-input"\n                    value="0.00"\n                    step="0.01"\n                    @input="','"\n                  />\n                </td>\n              </tr>\n            '])),n.id,n.name,n.items,n.id,(function(t){return e.handleSelectionChange(n.id,t)}),(function(t){return e.handleAmountChange(n.id,t)}))})))}}],[{key:"properties",get:function(){return{services:{type:Array}}}},{key:"styles",get:function(){return Qe}}])}(se);function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function Ze(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,en(r.key),r)}}function en(e){var n=function(e){if("object"!=Xe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Xe(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xe(n)?n:n+""}function nn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nn=function(){return!!e})()}function tn(e){return tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tn(e)}function rn(e,n){return rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},rn(e,n)}function on(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}customElements.get("service-table")||customElements.define("service-table",Ke);var an,sn,cn,ln,dn,un,pn=c(Je||(Je=on(["\n  :host {\n    display: block;\n  }\n\n  .modal-backdrop {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n  }\n\n  .modal-content {\n    background: white;\n    border-radius: 0.5rem;\n    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1);\n    width: 90%;\n    max-width: 1200px;\n    max-height: 90vh;\n    overflow-y: auto;\n    position: relative;\n  }\n\n  .modal-header {\n    padding: 1rem;\n    border-bottom: 1px solid #E5E7EB;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .modal-title {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: #111827;\n  }\n\n  .close-button {\n    background: none;\n    border: none;\n    font-size: 1.5rem;\n    color: #6B7280;\n    cursor: pointer;\n    padding: 0.5rem;\n    line-height: 1;\n  }\n\n  .close-button:hover {\n    color: #374151;\n  }\n\n  .modal-body {\n    padding: 1rem;\n  }\n\n  .modal-footer {\n    padding: 1rem;\n    border-top: 1px solid #E5E7EB;\n    display: flex;\n    justify-content: flex-end;\n    gap: 0.5rem;\n  }\n\n  .button {\n    padding: 0.5rem 1rem;\n    border-radius: 0.375rem;\n    font-weight: 500;\n    cursor: pointer;\n    border: 1px solid transparent;\n  }\n\n  .button-primary {\n    background-color: #4F46E5;\n    color: white;\n  }\n\n  .button-primary:hover {\n    background-color: #4338CA;\n  }\n\n  .button-secondary {\n    background-color: white;\n    border-color: #D1D5DB;\n    color: #374151;\n  }\n\n  .button-secondary:hover {\n    background-color: #F9FAFB;\n  }\n"]))),hn=function(e){function n(){var e,t,r,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=this,r=n,r=tn(r),e=function(e,n){if(n&&("object"==Xe(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,nn()?Reflect.construct(r,i||[],tn(t).constructor):r.apply(t,i))).isOpen=!1,e.title="Plan Details",e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&rn(e,n)}(n,e),function(e,n,t){return n&&Ze(e.prototype,n),t&&Ze(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"close",value:function(){this.isOpen=!1,this.dispatchEvent(new CustomEvent("close"))}},{key:"handleBackdropClick",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"save",value:function(){console.log("Saving..."),this.close()}},{key:"render",value:function(){return this.isOpen?U(We||(We=on(['\n      <div class="modal-backdrop" @click="','">\n        <div class="modal-content">\n          <div class="modal-header">\n            <h2 class="modal-title">','</h2>\n            <button class="close-button" @click="','">&times;</button>\n          </div>\n          \n          <div class="modal-body">\n            <service-table></service-table>\n          </div>\n          \n          <div class="modal-footer">\n            <button class="button button-secondary" @click="','">Cancel</button>\n            <button class="button button-primary" @click="','">Save Changes</button>\n          </div>\n        </div>\n      </div>\n    '])),this.handleBackdropClick,this.title,this.close,this.close,this.save):null}}],[{key:"properties",get:function(){return{isOpen:{type:Boolean},title:{type:String}}}},{key:"styles",get:function(){return pn}}])}(se);function fn(e){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(e)}function mn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vn(r.key),r)}}function vn(e){var n=function(e){if("object"!=fn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=fn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fn(n)?n:n+""}function gn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gn=function(){return!!e})()}function yn(e){return yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yn(e)}function bn(e,n){return bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},bn(e,n)}function wn(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}customElements.get("plan-modal")||customElements.define("plan-modal",hn);var xn=c(an||(an=wn(["\n  :host {\n    display: block;\n  }\n\n  .modal-backdrop {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n  }\n\n  .modal-content {\n    background: white;\n    border-radius: 0.5rem;\n    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1);\n    width: 90%;\n    max-width: 1200px;\n    max-height: 90vh;\n    overflow-y: auto;\n    position: relative;\n  }\n\n  .modal-header {\n    padding: 1rem;\n    border-bottom: 1px solid #E5E7EB;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background: #312e81;\n    color: white;\n    border-top-left-radius: 0.5rem;\n    border-top-right-radius: 0.5rem;\n  }\n\n  .modal-title {\n    font-size: 1.25rem;\n    font-weight: 600;\n  }\n\n  .close-button {\n    background: none;\n    border: none;\n    font-size: 1.5rem;\n    color: white;\n    cursor: pointer;\n    padding: 0.5rem;\n    line-height: 1;\n  }\n\n  .close-button:hover {\n    color: #E5E7EB;\n  }\n\n  .modal-body {\n    padding: 1rem;\n  }\n\n  .tabs {\n    display: flex;\n    border-bottom: 2px solid #E5E7EB;\n    margin-bottom: 1rem;\n  }\n\n  .tab {\n    padding: 0.75rem 1.5rem;\n    cursor: pointer;\n    border-bottom: 2px solid transparent;\n    margin-bottom: -2px;\n    color: #6B7280;\n    font-weight: 500;\n  }\n\n  .tab.active {\n    color: #312e81;\n    border-bottom-color: #312e81;\n  }\n\n  .tab:hover:not(.active) {\n    color: #4B5563;\n  }\n\n  .data-grid {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: 1rem;\n  }\n\n  .data-field {\n    background: #F9FAFB;\n    padding: 1rem;\n    border-radius: 0.375rem;\n    border: 1px solid #E5E7EB;\n  }\n\n  .field-label {\n    font-size: 0.875rem;\n    color: #6B7280;\n    margin-bottom: 0.25rem;\n  }\n\n  .field-value {\n    font-size: 1rem;\n    color: #111827;\n    font-weight: 500;\n  }\n\n  .nphies-logo {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    width: 100px;\n    height: auto;\n  }\n"]))),Sn=function(e){function n(){var e,t,r,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=this,r=n,r=yn(r),e=function(e,n){if(n&&("object"==fn(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,gn()?Reflect.construct(r,i||[],yn(t).constructor):r.apply(t,i))).isOpen=!1,e.activeTab="coverage",e.patientData={},e.insuranceData={},e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&bn(e,n)}(n,e),function(e,n,t){return n&&mn(e.prototype,n),t&&mn(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"close",value:function(){this.isOpen=!1,this.dispatchEvent(new CustomEvent("close"))}},{key:"handleBackdropClick",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"setTab",value:function(e){this.activeTab=e}},{key:"renderPatientInfo",value:function(){var e=this.patientData,n=e.fullName,t=void 0===n?"":n,r=e.patientType,i=void 0===r?"":r;return U(sn||(sn=wn(['\n      <div class="data-grid">\n        <div class="data-field">\n          <div class="field-label">FULL NAME</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="data-field">\n          <div class="field-label">PATIENT TYPE</div>\n          <div class="field-value">',"</div>\n        </div>\n      </div>\n    "])),t,i)}},{key:"renderInsuranceInfo",value:function(){var e=this.insuranceData,n=e.insuranceCompany,t=void 0===n?"":n,r=e.contractNumber,i=void 0===r?"":r,o=e.memberID,a=void 0===o?"":o,s=e.policyNumber,c=void 0===s?"":s,l=e.coveragePlan,d=void 0===l?"":l;return U(cn||(cn=wn(['\n      <div class="data-grid">\n        <div class="data-field">\n          <div class="field-label">INSURANCE COMPANY</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="data-field">\n          <div class="field-label">CONTRACT#</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="data-field">\n          <div class="field-label">MEMBER ID</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="data-field">\n          <div class="field-label">POLICY#</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="data-field">\n          <div class="field-label">INSURANCE COVERAGE PLAN</div>\n          <div class="field-value">',"</div>\n        </div>\n      </div>\n    "])),t,i,a,c,d)}},{key:"render",value:function(){var e=this;return this.isOpen?U(ln||(ln=wn(['\n      <div class="modal-backdrop" @click="','">\n        <div class="modal-content">\n          <div class="modal-header">\n            <h2 class="modal-title">Coverage Eligibility Verification Center</h2>\n            <button class="close-button" @click="','">&times;</button>\n          </div>\n          \n          <div class="modal-body">\n            <div class="tabs">\n              <div \n                class="tab ','"\n                @click="','"\n              >\n                COVERAGE\n              </div>\n              <div \n                class="tab ','"\n                @click="','"\n              >\n                BENEFITS / PLAN COPAYS\n              </div>\n            </div>\n\n            ',"\n          </div>\n        </div>\n      </div>\n    "])),this.handleBackdropClick,this.close,"coverage"===this.activeTab?"active":"",(function(){return e.setTab("coverage")}),"benefits"===this.activeTab?"active":"",(function(){return e.setTab("benefits")}),"coverage"===this.activeTab?U(dn||(dn=wn(["\n                  <h3>PATIENT'S INFORMATION</h3>\n                  ","\n                  <h3>INSURANCE INFORMATION</h3>\n                  ","\n                "])),this.renderPatientInfo(),this.renderInsuranceInfo()):U(un||(un=wn(["\n                  <h3>BENEFITS AND PLAN COPAYS</h3>\n                  <p>Benefits information will be displayed here.</p>\n                "])))):null}}],[{key:"properties",get:function(){return{isOpen:{type:Boolean},activeTab:{type:String},patientData:{type:Object},insuranceData:{type:Object}}}},{key:"styles",get:function(){return xn}}])}(se);customElements.get("data-view-modal")||customElements.define("data-view-modal",Sn);const kn=e.p+"images/df462f679e243eb8e0c3.svg",En=e=>n=>"function"==typeof n?((e,n)=>(customElements.define(e,n),n))(e,n):((e,n)=>{const{kind:t,elements:r}=n;return{kind:t,elements:r,finisher(n){customElements.define(e,n)}}})(e,n),Pn=(e,n)=>"method"===n.kind&&n.descriptor&&!("value"in n.descriptor)?{...n,finisher(t){t.createProperty(n.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:n.key,initializer(){"function"==typeof n.initializer&&(this[n.key]=n.initializer.call(this))},finisher(t){t.createProperty(n.key,e)}};function On(e){return(n,t)=>void 0!==t?((e,n,t)=>{n.constructor.createProperty(t,e)})(e,n,t):Pn(e,n)}function Cn(e){return On({...e,state:!0})}var An;null===(An=window.HTMLSlotElement)||void 0===An||An.prototype.assignedElements;var Tn="http://localhost:5263",Dn={BASEURL:Tn,INSURANCE_COMPANY:{BASE:"".concat(Tn,"/api/insurancecompany"),PAGED:"".concat(Tn,"/api/insurancecompany/getpagedasync"),CONTRACTS:function(e){return"".concat(Tn,"/api/insurancecompany/contracts/").concat(e)},CONTRACT_PLANS:function(e){return"".concat(Tn,"/api/insurancecompany/contracts/").concat(e,"/plans")}},INSURANCE_PLAN:{BASE:"".concat(Tn,"/api/InsurancePlan"),MapNPHIESCoverageBenefit:"".concat(Tn,"/api/InsurancePlan/MapNPHIESCoverageBenefit"),BULK_INSERT:"".concat(Tn,"/api/InsuranceSlab/BulkInsert")},FHIR:{SendMessage:"".concat(Tn,"/api/fhir/send")},INSURANCE_CONTRACT:{BASE:"".concat(Tn,"/api/InsuranceContract"),BULK_INSERT:"".concat(Tn,"/api/InsuranceSlab/BulkInsert")},INSURANCE_POLICY:{PAGED:"".concat(Tn,"/api/InsurancePolicy/getpagedasync")},PATIENT:{PAGED:"".concat(Tn,"/api/PatientPatientInformation/getpagedasync"),SEARCH:"".concat(Tn,"/api/PatientPatientInformation/Search"),Eligblities:"".concat(Tn,"/api/PatientCoverageEligiblityVerfication/getpagedasync"),Family:"".concat(Tn,"/api/PatientPatientinformation/family")},VISIT:{PAGED:"".concat(Tn,"/api/Visitmanagementvisit/getpagedasync"),DETAILS:"".concat(Tn,"/api/Visitmanagementvisit/GetDetails"),EPISODE_OF_CARE:"".concat(Tn,"/api/VisitmanagementEpisode")},FACILITY:{PAGED:"".concat(Tn,"/api/buildingmanagementfacility/getpagedasync")},PREAUTHORIZATION:{PAGED:"".concat(Tn,"/api/PreAuthorization/GetPagedAsync")},ELIGIBILITY:{VERIFY:"".concat(Tn,"/api/Eligibility/VerifyCoverage/secondstep")},PRIOR_AUTH:{SUBMIT:"".concat(Tn,"/api/PriorAuth/Submit"),DENTAL_SUBMIT:"".concat(Tn,"/api/priorauth/dental/submit")},SERVICE_TYPE:{PAGED:"".concat(Tn,"/api/listofvaluesservicetype/getpagedasync")},SERVICE_DIRECTORY:{PAGED:"".concat(Tn,"/api/mpdirservicedirectory/getpagedasync")},ICD10:{PAGED:"".concat(Tn,"/api/listofvaluesicd10/getpagedasync")},DIAGNOSIS:{SEARCH_ICDS:"".concat(Tn,"/api/Diagnosis/SearchICDs"),PAGED:"".concat(Tn,"/api/Diagnosis/GetPagedAsync")},MEDICATION:{PAGED:"".concat(Tn,"/api/IclinicsPlanofcarePrescriptiondetailsitem/GetPagedAsync"),SEARCH:"".concat(Tn,"/api/Medication/Search")},CARE_TEAM:{PAGED:"".concat(Tn,"/api/HrEmployee/GetPagedAsync"),SEARCH:"".concat(Tn,"/api/HrEmployee/Search")},VITALS:{OUTPATIENT_BMI:"".concat(Tn,"/api/IclinicsBmi/GetPagedAsync"),INPATIENT_BMI:"".concat(Tn,"/api/IpdNursingBmi/GetPagedAsync")},MASTER_PRICE_SERVICE_DIRECTORY:{AUTOCOMPLETE_SERVICES:"".concat(Tn,"/api/MasterPriceServiceDirectory/AutocompleteServices"),SEARCH_SERVICES:"".concat(Tn,"/api/MasterPriceServiceDirectory/SearchServices")},MPDIR_SERVICE_PRICE:{PAGED:"".concat(Tn,"/api/MpdirServiceprice/GetPagedAsync")},MPDIR_SERVICE_DIRECTORY_PRICELIST:{PAGED:"".concat(Tn,"/api/MpdirServicedirectoryPricelist/GetPagedAsync")}};const In=Dn;function jn(e){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(e)}var Nn,Ln,Rn,_n,Fn,Mn,zn,Bn,Un,Vn,qn,Hn,Gn;function $n(){$n=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==jn(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(jn(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function Yn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Jn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Yn(Object(t),!0).forEach((function(n){Wn(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Wn(e,n,t){return(n=Xn(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Qn(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function Kn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xn(r.key),r)}}function Xn(e){var n=function(e){if("object"!=jn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=jn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jn(n)?n:n+""}function Zn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Zn=function(){return!!e})()}function et(e){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},et(e)}function nt(e,n){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},nt(e,n)}function tt(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var rt,it,ot,at,st,ct,lt,dt,ut,pt,ht,ft,mt,vt,gt,yt,bt,wt,xt,St,kt,Et,Pt=c(Nn||(Nn=tt(["\n  :host {\n    display: block;\n    position: relative;\n  }\n\n  .search-container {\n    position: relative;\n    width: 100%;\n  }\n\n  .search-input {\n    width: 100%;\n    padding: 1.25rem 1rem 1.25rem 3rem;\n    border: 1px solid var(--gray-200);\n    border-radius: 12px;\n    background: white;\n    font-size: 1rem;\n    color: var(--gray-900);\n    background-image: url('","');\n    background-repeat: no-repeat;\n    background-position: 1rem center;\n    background-size: 1.25rem;\n    transition: all 0.2s ease;\n  }\n\n  .search-input:focus {\n    outline: none;\n    border-color: var(--primary);\n    box-shadow: 0 0 0 3px rgba(133, 0, 216, 0.1);\n  }\n\n  .search-input::placeholder {\n    color: var(--gray-400);\n  }\n\n  .dropdown {\n    position: absolute;\n    top: calc(100% + 0.5rem);\n    left: 0;\n    right: 0;\n    background: white;\n    border: 1px solid var(--gray-200);\n    border-radius: 12px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    z-index: 100;\n    max-height: 400px;\n    overflow-y: auto;\n  }\n\n  .search-result {\n    padding: 1.25rem;\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    border-bottom: 1px solid var(--gray-100);\n  }\n\n  .search-result:last-child {\n    border-bottom: none;\n  }\n\n  .search-result:hover {\n    background-color: var(--gray-50);\n  }\n\n  .patient-avatar {\n    width: 48px;\n    height: 48px;\n    border-radius: 24px;\n    background: var(--gray-100);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: var(--primary);\n    font-size: 1.5rem;\n    font-weight: 500;\n  }\n\n  .result-info {\n    flex: 1;\n  }\n\n  .result-title {\n    color: var(--gray-900);\n    font-weight: 600;\n    font-size: 1rem;\n    margin-bottom: 0.25rem;\n  }\n\n  .result-subtitle {\n    color: var(--gray-600);\n    font-size: 0.875rem;\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n  }\n\n  .meta-item {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .meta-icon {\n    width: 16px;\n    height: 16px;\n    color: var(--gray-400);\n  }\n\n  .result-badges {\n    display: flex;\n    gap: 0.5rem;\n    margin-top: 0.5rem;\n  }\n\n  .badge {\n    padding: 0.25rem 0.75rem;\n    border-radius: 9999px;\n    font-size: 0.75rem;\n    font-weight: 500;\n    text-transform: uppercase;\n  }\n\n  .badge-verified {\n    background-color: var(--success);\n    color: white;\n  }\n\n  .badge-pending {\n    background-color: var(--warning);\n    color: white;\n  }\n\n  .badge-error {\n    background-color: var(--error);\n    color: white;\n  }\n\n  .loader-container {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 2rem;\n    gap: 0.75rem;\n  }\n\n  .loader {\n    width: 24px;\n    height: 24px;\n    border: 2px solid var(--gray-200);\n    border-top: 2px solid var(--primary);\n    border-radius: 50%;\n    animation: spin 0.8s linear infinite;\n  }\n\n  .loader-text {\n    color: var(--gray-600);\n    font-size: 0.875rem;\n  }\n\n  .no-results {\n    padding: 2rem;\n    text-align: center;\n    color: var(--gray-500);\n  }\n\n  .no-results-icon {\n    font-size: 2rem;\n    margin-bottom: 0.5rem;\n  }\n\n  .no-results-text {\n    font-size: 0.875rem;\n    margin-bottom: 0.25rem;\n  }\n\n  .no-results-subtext {\n    font-size: 0.75rem;\n    color: var(--gray-400);\n  }\n\n  @keyframes spin {\n    to { transform: rotate(360deg); }\n  }\n"])),s(kn));function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function Ct(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function At(){At=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Ot(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(Ot(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function Tt(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function Dt(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,It(r.key),r)}}function It(e){var n=function(e){if("object"!=Ot(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Ot(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ot(n)?n:n+""}function jt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jt=function(){return!!e})()}function Nt(e){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nt(e)}function Lt(e,n){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},Lt(e,n)}function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function _t(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Ft(){Ft=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Rt(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(Rt(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function Mt(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function zt(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){Mt(o,r,i,a,s,"next",e)}function s(e){Mt(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Bt(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ut(r.key),r)}}function Ut(e){var n=function(e){if("object"!=Rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Rt(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rt(n)?n:n+""}function Vt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vt=function(){return!!e})()}function qt(e){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qt(e)}function Ht(e,n){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},Ht(e,n)}En("patient-search")(function(e){function n(){var e,t,r,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=this,r=n,r=et(r),e=function(e,n){if(n&&("object"==jn(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,Zn()?Reflect.construct(r,i||[],et(t).constructor):r.apply(t,i))).searchQuery="",e.suggestions=[],e.isLoading=!1,e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&nt(e,n)}(n,e),function(e,n,t){return n&&Kn(e.prototype,n),t&&Kn(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"render",value:function(){var e=this;return U(Ln||(Ln=tt(['\n      <div class="search-container">\n        <input\n          type="text"\n          class="search-input"\n          placeholder="Search by patient PIN, name or national ID..."\n          .value="','"\n          @input="','"\n        >\n        ',"\n      </div>\n    "])),this.searchQuery,this.handleInputChange,this.searchQuery.length>=3?U(Rn||(Rn=tt(['\n          <div class="dropdown">\n            ',"\n          </div>\n        "])),this.isLoading?U(_n||(_n=tt(['\n              <div class="loader-container">\n                <div class="loader"></div>\n                <span>Searching patients...</span>\n              </div>\n            ']))):this.suggestions.length>0?U(Fn||(Fn=tt(["\n              ","\n            "])),this.suggestions.map((function(n){var t,r,i;return U(Mn||(Mn=tt(['\n                <div class="search-result" @click="','">\n                  <div class="result-info">\n                    <div class="result-header">\n                      <span class="result-title">',"</span>\n                      ",'\n                    </div>\n                    <div class="result-details">\n                      <div class="detail-item">\n                        <span class="detail-icon"></span>\n                        <span class="detail-label">MRN:</span>\n                        <span class="detail-value">','</span>\n                      </div>\n                      <div class="detail-item">\n                        <span class="detail-icon"></span>\n                        <span class="detail-label">National ID:</span>\n                        <span class="detail-value">',"</span>\n                      </div>\n                      ","\n                    </div>\n                    ","\n                  </div>\n                </div>\n              "])),(function(){return e.selectPatient(n)}),e.formatPatientName(n),(null===(t=n.patientInsurances)||void 0===t?void 0:t.length)>0?U(zn||(zn=tt(['\n                        <span class="badge badge-verified"> Insured</span>\n                      ']))):U(Bn||(Bn=tt(['\n                        <span class="badge badge-warning">Self Pay</span>\n                      ']))),n.pinNo,n.nic,n.cellPhoneNo?U(Un||(Un=tt(['\n                        <div class="detail-item">\n                          <span class="detail-icon"></span>\n                          <span class="detail-label">Mobile:</span>\n                          <span class="detail-value">',"</span>\n                        </div>\n                      "])),n.cellPhoneNo):"",(null===(r=n.patientInsurances)||void 0===r?void 0:r.length)>0?U(Vn||(Vn=tt(['\n                      <div class="result-status">\n                        <span class="status-tag status-insured">\n                          <span class="status-icon"></span>\n                          Insured - ',"\n                        </span>\n                      </div>\n                    "])),(null===(i=n.patientInsurances[0].payer)||void 0===i?void 0:i.companyName)||"N/A"):U(qn||(qn=tt(['\n                      <div class="result-status">\n                        <span class="status-tag status-self-pay">\n                          <span class="status-icon"></span>\n                          Self Pay\n                        </span>\n                      </div>\n                    ']))))}))):U(Hn||(Hn=tt(['\n              <div class="no-results">\n                <div class="no-results-icon"></div>\n                <div class="no-results-text">No matching patients found</div>\n                <div class="no-results-hint">Try searching with a different term</div>\n              </div>\n            '])))):"")}},{key:"getInitials",value:function(e){return e.split(" ").map((function(e){return e[0]})).join("").toUpperCase().slice(0,2)}},{key:"handleInputChange",value:(t=function(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){Qn(o,r,i,a,s,"next",e)}function s(e){Qn(o,r,i,a,s,"throw",e)}a(void 0)}))}}($n().mark((function e(n){var t,r;return $n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.searchQuery=n.target.value.trim(),!(this.searchQuery.length>=3)){e.next=22;break}return this.isLoading=!0,e.prev=3,e.next=6,fetch(In.PATIENT.PAGED,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filters:"(pinNo|firstName|middleName|lastName|nic|cellPhoneNo)_=".concat(this.searchQuery),page:1,pageSize:50})});case 6:return t=e.sent,e.next=9,t.json();case 9:(r=e.sent)&&r.dynamicResult?this.suggestions=r.dynamicResult.map((function(e){return Jn(Jn({},e),{},{mrn:e.pinNo,name:[e.firstName,e.middleName,e.lastName].filter((function(e){return e&&""!==e.trim()})).join(" "),nationalId:e.nic,mobile:e.cellPhoneNo,fullData:e})})):this.suggestions=[],e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error fetching patients:",e.t0),this.suggestions=[];case 17:return e.prev=17,this.isLoading=!1,e.finish(17);case 20:e.next=23;break;case 22:this.suggestions=[];case 23:this.requestUpdate();case 24:case"end":return e.stop()}}),e,this,[[3,13,17,20]])}))),function(e){return t.apply(this,arguments)})},{key:"selectPatient",value:function(e){var n,t,r,i,o,a,s,c,l=e.fullData,d=l.patientInsurances&&l.patientInsurances.length>0?l.patientInsurances[0]:null,u=l.insuranceCoverages&&l.insuranceCoverages.length>0,p=d?{company:(null===(n=d.payer)||void 0===n?void 0:n.companyName)||"N/A",contractNumber:d.memberId||"N/A",memberID:d.memberId||"N/A",policyNumber:d.memberId||"N/A",coveragePlan:(null===(t=d.fkPlan)||void 0===t?void 0:t.planName)||"N/A",planDetails:d.fkPlan||null,contractDetails:(null===(r=d.fkPlan)||void 0===r?void 0:r.fkContract)||null,isNphiesEnabled:(null===(i=d.payer)||void 0===i?void 0:i.isNphiesEnabled)||!1}:null,h={type:d?"Primary":"Self Pay",dependent:"No",relationship:1===(null==d?void 0:d.fkRelationId)?"Self":"Other",startDate:(null==d?void 0:d.startDate)||"N/A",endDate:(null==d?void 0:d.expiryDate)||"N/A",payorReference:(null==d?void 0:d.payerId)||"N/A",groupNumber:(null==d?void 0:d.workCompanyId)||"N/A",groupName:(null==p||null===(o=p.contractDetails)||void 0===o?void 0:o.contractName)||"N/A",planNumber:(null==d?void 0:d.fkPlanId)||"N/A",planName:(null==p||null===(a=p.planDetails)||void 0===a?void 0:a.planName)||"N/A",network:"In-Network",subrogation:"Not Covered",lastEligibilityVerificationDate:(null===(s=l.insuranceCoverages)||void 0===s?void 0:s.length)>0?l.insuranceCoverages[0].lastEligiblityVerifcationDate:null,isNphiesVerified:u};this.dispatchEvent(new CustomEvent("patient-selected",{detail:Jn(Jn({},e),{},{insuranceInfo:p,coverageDetails:h,patientType:(null===(c=l.patientType)||void 0===c?void 0:c.patientTypeName)||"Self Pay",isNphiesVerified:u,insuranceCoverages:l.insuranceCoverages||[]}),bubbles:!0,composed:!0})),this.searchQuery="",this.suggestions=[]}},{key:"formatPatientName",value:function(e){return[e.firstName,e.middleName,e.lastName].filter((function(e){return e&&""!==e.trim()})).join(" ")}}],[{key:"properties",get:function(){return{searchQuery:{type:String},suggestions:{type:Array},isLoading:{type:Boolean}}}},{key:"styles",get:function(){return[Pt,c(Gn||(Gn=tt(["\n        .result-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 0.5rem;\n        }\n\n        .result-details {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 1rem;\n          margin-bottom: 0.5rem;\n        }\n\n        .detail-item {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          color: var(--gray-600);\n          font-size: 0.875rem;\n        }\n\n        .detail-icon {\n          font-size: 1rem;\n        }\n\n        .detail-label {\n          font-weight: 500;\n          color: var(--gray-700);\n        }\n\n        .detail-value {\n          color: var(--gray-900);\n        }\n\n        .result-status {\n          margin-top: 0.5rem;\n        }\n\n        .status-tag {\n          display: inline-flex;\n          align-items: center;\n          gap: 0.375rem;\n          padding: 0.25rem 0.75rem;\n          border-radius: 9999px;\n          font-size: 0.75rem;\n          font-weight: 500;\n        }\n\n        .status-insured {\n          background-color: var(--success);\n          color: white;\n        }\n\n        .status-self-pay {\n          background-color: var(--error);\n          color: white;\n        }\n\n        .status-icon {\n          font-size: 1rem;\n        }\n\n        .badge {\n          padding: 0.25rem 0.75rem;\n          border-radius: 9999px;\n          font-size: 0.75rem;\n          font-weight: 500;\n          background-color: var(--primary-light);\n          color: white;\n        }\n\n        .badge-verified {\n          background-color: var(--success);\n        }\n\n        .no-results {\n          text-align: center;\n          padding: 2rem;\n        }\n\n        .no-results-icon {\n          font-size: 2rem;\n          margin-bottom: 0.5rem;\n          color: var(--gray-400);\n        }\n\n        .no-results-text {\n          color: var(--gray-700);\n          font-weight: 500;\n          margin-bottom: 0.25rem;\n        }\n\n        .no-results-hint {\n          color: var(--gray-500);\n          font-size: 0.875rem;\n        }\n      "])))]}}]);var t}(se)),En("insurance-plan-manager")((rt=function(e){function n(){var e,t,r,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=this,r=n,r=Nt(r),e=function(e,n){if(n&&("object"==Ot(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,jt()?Reflect.construct(r,i||[],Nt(t).constructor):r.apply(t,i))).contractId=0,e.loading=!1,e.error=null,e.isNewContract=!1,e.newPlan={planName:"",planCode:"",startDate:"",endDate:"",createdby:1,rowStatus:1},e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Lt(e,n)}(n,e),function(e,n,t){return n&&Dt(e.prototype,n),t&&Dt(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"handleSubmit",value:(t=function(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){Tt(o,r,i,a,s,"next",e)}function s(e){Tt(o,r,i,a,s,"throw",e)}a(void 0)}))}}(At().mark((function e(n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),this.isNewContract||this.contractId){e.next=4;break}return this.error="No contract selected",e.abrupt("return");case 4:if(e.prev=4,this.loading=!0,!this.isNewContract){e.next=10;break}this.dispatchEvent(new CustomEvent("plan-data",{detail:this.newPlan,bubbles:!0,composed:!0})),e.next=17;break;case 10:return e.next=12,fetch(In.INSURANCE_CONTRACT.BASE,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.contractId,insurancePlans:[this.newPlan]})});case 12:if(e.sent.ok){e.next=15;break}throw new Error("Failed to create plan");case 15:this.resetForm(),this.dispatchEvent(new CustomEvent("plan-created",{detail:{contractId:this.contractId},bubbles:!0,composed:!0}));case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),this.error=e.t0.message;case 22:return e.prev=22,this.loading=!1,e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[4,19,22,25]])}))),function(e){return t.apply(this,arguments)})},{key:"resetForm",value:function(){this.newPlan={planName:"",planCode:"",startDate:"",endDate:"",createdby:1,rowStatus:1}}},{key:"render",value:function(){var e=this;return U(it||(it=Ct(['\n      <div class="form-section">\n        <h4 class="form-section-title">Plan Details</h4>\n        \n        ',"\n        \n        <form @submit=",'>\n          <div class="form-grid">\n            <div class="form-field-wrapper">\n              <input \n                type="text" \n                class="form-input"\n                .value=',"\n                @input=",'\n                required\n              />\n              <label class="form-label">Plan Name</label>\n            </div>\n            \n            <div class="form-field-wrapper">\n              <input \n                type="text" \n                class="form-input"\n                .value=',"\n                @input=",'\n                required\n              />\n              <label class="form-label">Plan Code</label>\n            </div>\n            \n            <div class="form-field-wrapper">\n              <input \n                type="date" \n                class="form-input"\n                .value=',"\n                @input=",'\n                required\n              />\n              <label class="form-label">Start Date</label>\n            </div>\n            \n            <div class="form-field-wrapper">\n              <input \n                type="date" \n                class="form-input"\n                .value=',"\n                @input=",'\n                required\n              />\n              <label class="form-label">End Date</label>\n            </div>\n          </div>\n          \n          ',"\n        </form>\n      </div>\n    "])),this.error?U(ot||(ot=Ct(['<div class="error">',"</div>"])),this.error):"",this.handleSubmit,this.newPlan.planName,(function(n){return e.newPlan.planName=n.target.value}),this.newPlan.planCode,(function(n){return e.newPlan.planCode=n.target.value}),this.newPlan.startDate,(function(n){return e.newPlan.startDate=n.target.value}),this.newPlan.endDate,(function(n){return e.newPlan.endDate=n.target.value}),this.isNewContract?"":U(at||(at=Ct(['\n            <button \n              type="submit" \n              class="primary-button"\n              ?disabled=',"\n            >\n              ","\n            </button>\n          "])),this.loading||!this.contractId,this.loading?U(st||(st=Ct(['\n                <span class="loading"></span>\n                Creating...\n              ']))):"Add Plan"))}}],[{key:"properties",get:function(){return{contractId:{type:Number},loading:{type:Boolean},error:{type:String},newPlan:{type:Object},isNewContract:{type:Boolean}}}}]);var t}(se),rt.styles=c(ct||(ct=Ct(["\n    :host {\n      display: block;\n      font-family: system-ui, -apple-system, sans-serif;\n    }\n\n    .form-section {\n      margin-bottom: 2rem;\n    }\n\n    .form-section-title {\n      color: #1F2937;\n      font-size: 1.25rem;\n      font-weight: 600;\n      margin: 0 0 1.5rem 0;\n    }\n\n    .form-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n      gap: 1.5rem;\n      margin-bottom: 1.5rem;\n    }\n\n    .form-field-wrapper {\n      position: relative;\n      margin-bottom: 1.25rem;\n    }\n\n    .form-label {\n      position: absolute;\n      top: -0.75rem;\n      left: 0.75rem;\n      padding: 0 0.25rem;\n      background: white;\n      color: #6B7280;\n      font-size: 0.875rem;\n      font-weight: 500;\n      transition: all 0.2s ease;\n    }\n\n    .form-input {\n      width: 100%;\n      padding: 0.75rem;\n      border: 1px solid #E5E7EB;\n      border-radius: 0.375rem;\n      font-size: 0.875rem;\n      color: #1F2937;\n      background: white;\n      transition: all 0.2s ease;\n    }\n\n    .form-input:focus {\n      outline: none;\n      border-color: #463AA1;\n      box-shadow: 0 0 0 3px rgba(70, 58, 161, 0.1);\n    }\n\n    .form-input::placeholder {\n      color: #9CA3AF;\n    }\n\n    .error {\n      color: #EF4444;\n      font-size: 0.875rem;\n      margin-top: 0.5rem;\n      padding: 0.5rem;\n      background: #FEE2E2;\n      border-radius: 0.375rem;\n    }\n\n    .success {\n      color: #059669;\n      font-size: 0.875rem;\n      margin-top: 0.5rem;\n      padding: 0.5rem;\n      background: #ECFDF5;\n      border-radius: 0.375rem;\n    }\n\n    .primary-button {\n      background: #463AA1;\n      color: white;\n      padding: 0.75rem 1.5rem;\n      border: none;\n      border-radius: 0.5rem;\n      font-weight: 600;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      width: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      gap: 0.5rem;\n    }\n\n    .primary-button:disabled {\n      background: #9CA3AF;\n      cursor: not-allowed;\n    }\n\n    .primary-button:hover:not(:disabled) {\n      background: #3c319c;\n      transform: translateY(-1px);\n    }\n\n    @keyframes spin {\n      to { transform: rotate(360deg); }\n    }\n\n    .loading {\n      display: inline-block;\n      width: 1rem;\n      height: 1rem;\n      border: 2px solid #E5E7EB;\n      border-top-color: #463AA1;\n      border-radius: 50%;\n      animation: spin 0.75s linear infinite;\n    }\n  "]))),rt)),En("insurance-contract-manager")((lt=function(e){function n(){var e,t,r,i;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=this,r=n,r=qt(r),e=function(e,n){if(n&&("object"==Rt(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,Vt()?Reflect.construct(r,i||[],qt(t).constructor):r.apply(t,i))).insuranceCompanyId=0,e.contracts=[],e.selectedContractId=null,e.selectedPlanId=null,e.plans=[],e.loading=!1,e.loadingContracts=!1,e.loadingPlans=!1,e.error=null,e.mode="existing",e.insuranceCompanies=[];var o=new Date,a=new Date;return a.setFullYear(o.getFullYear()+1),e.newContract={fkCompanyId:0,contractName:"",contractDate:o.toISOString().split("T")[0],rowStatus:1,createdby:1,insurancePlans:[{planName:"",planCode:"",planCategory:"",startDate:o.toISOString().split("T")[0],endDate:a.toISOString().split("T")[0],createdby:1,rowStatus:1,maxDeductable:0,level:1,copayOnGross:0,copayAmount:0,annualLimit:0}]},e.addEventListener("plan-created",e.handlePlanCreated),e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Ht(e,n)}(n,e),function(e,n,t){return n&&Bt(e.prototype,n),t&&Bt(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"firstUpdated",value:(c=zt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadInsuranceCompanies();case 2:if(!this.insuranceCompanyId){e.next=5;break}return e.next=5,this.fetchContracts();case 5:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"loadInsuranceCompanies",value:(s=zt(Ft().mark((function e(){var n,t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,fetch(In.INSURANCE_COMPANY.PAGED,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({page:1,pageSize:1e3})});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Failed to fetch insurance companies");case 7:return e.next=9,n.json();case 9:(t=e.sent).isSuccessfull&&(this.insuranceCompanies=t.dynamicResult),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),this.error=e.t0.message;case 16:return e.prev=16,this.loading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[0,13,16,19]])}))),function(){return s.apply(this,arguments)})},{key:"fetchContracts",value:(a=zt(Ft().mark((function e(){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loadingContracts=!0,this.contracts=[],this.selectedContractId=null,this.selectedPlanId=null,this.plans=[],e.next=8,fetch(In.INSURANCE_COMPANY.CONTRACTS(this.insuranceCompanyId));case 8:if((n=e.sent).ok){e.next=11;break}throw new Error("Failed to fetch contracts");case 11:return e.next=13,n.json();case 13:this.contracts=e.sent,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),this.error=e.t0.message;case 19:return e.prev=19,this.loadingContracts=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[0,16,19,22]])}))),function(){return a.apply(this,arguments)})},{key:"toggleMode",value:function(){this.mode="existing"===this.mode?"new":"existing",this.selectedContractId=null,this.selectedPlanId=null,this.resetForm()}},{key:"render",value:function(){var e=this;return U(dt||(dt=_t(['\n      <div class="form-container">\n        ','\n        \n        <div class="form-section">\n          <h4 class="form-section-title">Insurance Company</h4>\n          <div class="form-field-wrapper">\n            ','\n          </div>\n        </div>\n\n        <div class="form-section ','">\n          <h4 class="form-section-title">Select Contract</h4>\n          <div class="form-field-wrapper">\n            ',"\n          </div>\n\n          ","\n        </div>\n      </div>\n    "])),this.error?U(ut||(ut=_t(['<div class="error">',"</div>"])),this.error):"",this.loading?U(pt||(pt=_t(['\n              <div class="skeleton skeleton-select"></div>\n            ']))):U(ht||(ht=_t(['\n              <select \n                class="form-select"\n                .value=',"\n                @change=",'\n              >\n                <option value="">Select Insurance Company</option>\n                ','\n              </select>\n              <label class="form-label">Insurance Company</label>\n            '])),this.insuranceCompanyId,(function(n){e.insuranceCompanyId=n.target.value,n.target.value?e.fetchContracts():(e.contracts=[],e.selectedContractId=null,e.selectedPlanId=null,e.plans=[])}),Array.isArray(this.insuranceCompanies)?this.insuranceCompanies.map((function(e){return U(ft||(ft=_t(["\n                  <option value=",">","</option>\n                "])),e.id,e.companyName)})):""),this.insuranceCompanyId?"":"loading-overlay",this.loadingContracts?U(mt||(mt=_t(['\n              <div class="skeleton skeleton-select"></div>\n            ']))):U(vt||(vt=_t(['\n              <select \n                class="form-select"\n                .value=',"\n                @change=","\n                ?disabled=",'\n              >\n                <option value="">Select Contract</option>\n                ','\n              </select>\n              <label class="form-label">Contract</label>\n            '])),this.selectedContractId,this.handleContractSelect,!this.insuranceCompanyId,Array.isArray(this.contracts)?this.contracts.map((function(e){return U(gt||(gt=_t(["\n                  <option value=",">","</option>\n                "])),e.id,e.contractName)})):""),this.selectedContractId?U(yt||(yt=_t(['\n            <div class="plans-list">\n              <h4 class="form-section-title">Available Plans</h4>\n              ',"\n            </div>\n          "])),this.loadingPlans?U(bt||(bt=_t(['\n                <div class="skeleton skeleton-plan"></div>\n                <div class="skeleton skeleton-plan"></div>\n                <div class="skeleton skeleton-plan"></div>\n              ']))):U(wt||(wt=_t(["\n                ","\n              "])),Array.isArray(this.plans)&&0===this.plans.length?U(xt||(xt=_t(["\n                      <insurance-plan-manager\n                        .contractId=","\n                      ></insurance-plan-manager>\n                    "])),this.selectedContractId):U(St||(St=_t(["\n                      ","\n                    "])),Array.isArray(this.plans)?this.plans.map((function(n){return U(kt||(kt=_t(['\n                        <div \n                          class="plan-item ','"\n                          @click=',"\n                        >\n                          <strong>","</strong>\n                          <div>Code: ","</div>\n                          <div>Valid: "," - ","</div>\n                        </div>\n                      "])),n.id===e.selectedPlanId?"selected":"",(function(){return e.handlePlanSelect(n)}),n.planName,n.planCode,new Date(n.startDate).toLocaleDateString(),new Date(n.endDate).toLocaleDateString())})):""))):"")}},{key:"handlePlanData",value:function(e){console.log("Plan Data Received:",e.detail);var n=e.detail;this.newContract.insurancePlans=[{planName:n.planName,planCode:n.planCode,startDate:n.startDate,endDate:n.endDate,planCategory:n.planCategory||"A",rowStatus:1,createdBy:1,level:1,copayAmount:n.copayAmount||0,copayOnGross:n.copayOnGross||0,maxDeductable:n.maxDeductable||0,annualLimit:n.annualLimit||0,planNameIdpayer:n.planName,fkPolicyId:null,insuranceSlabs:[]}],console.log("Updated Contract Plans:",this.newContract.insurancePlans)}},{key:"handleContractSubmit",value:(o=zt(Ft().mark((function e(n){var t,r,i,o,a,s;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,this.loading=!0,this.newContract.contractName){e.next=5;break}throw new Error("Contract name is required");case 5:if(this.insuranceCompanyId){e.next=7;break}throw new Error("Please select an insurance company");case 7:return t=this.newContract.insurancePlans[0],r={fkCompanyId:parseInt(this.insuranceCompanyId),contractName:this.newContract.contractName,contractDate:this.newContract.contractDate,rowStatus:1,createdby:1,insurancePlans:[{planName:t.planName,planCode:t.planCode,planNameIdpayer:t.planName,planCategory:t.planCategory||"A",copayAmount:t.copayAmount,annualLimit:t.annualLimit,maxDeductable:t.maxDeductable,level:1,copayOnGross:t.copayOnGross,expiryDate:t.endDate,rowStatus:1,createdBy:1}]},console.log("Submitting contract payload:",r),e.next=12,fetch(In.INSURANCE_CONTRACT.BASE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 12:if((i=e.sent).ok){e.next=15;break}throw new Error("Failed to create contract");case 15:return e.next=17,i.json();case 17:if(!(o=e.sent).isSuccessfull){e.next=27;break}return e.next=21,this.fetchContracts();case 21:this.resetForm(),this.handleContractSelect({target:{value:o.dynamicResult.id}}),a=new CustomEvent("show-notification",{bubbles:!0,composed:!0,detail:{message:"Contract and plan created successfully",type:"success"}}),this.dispatchEvent(a),e.next=28;break;case 27:throw new Error(o.errorMessage||"Failed to create contract");case 28:e.next=35;break;case 30:e.prev=30,e.t0=e.catch(1),this.error=e.t0.message,s=new CustomEvent("show-notification",{bubbles:!0,composed:!0,detail:{message:e.t0.message,type:"error"}}),this.dispatchEvent(s);case 35:return e.prev=35,this.loading=!1,e.finish(35);case 38:case"end":return e.stop()}}),e,this,[[1,30,35,38]])}))),function(e){return o.apply(this,arguments)})},{key:"handleContractSelect",value:(i=zt(Ft().mark((function e(n){var t,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.target.value,this.selectedContractId=t,this.selectedPlanId=null,this.plans=[],!t){e.next=9;break}return e.next=7,this.fetchPlans(t);case 7:r=this.contracts.find((function(e){return e.id.toString()===t})),this.dispatchEvent(new CustomEvent("contract-selected",{detail:{contract:r},bubbles:!0,composed:!0}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"handlePlanSelect",value:function(e){var n=this;this.selectedPlanId=e.id;var t=this.contracts.find((function(e){return e.id.toString()===n.selectedContractId}));this.dispatchEvent(new CustomEvent("contract-selected",{detail:{contract:t,plan:e},bubbles:!0,composed:!0}))}},{key:"handlePlanCreated",value:(r=zt(Ft().mark((function e(n){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=n.detail.contractId)!==this.selectedContractId){e.next=4;break}return e.next=4,this.fetchPlans(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"fetchPlans",value:(t=zt(Ft().mark((function e(n){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loadingPlans=!0,this.plans=[],e.next=5,fetch(In.INSURANCE_COMPANY.CONTRACT_PLANS(n));case 5:if((t=e.sent).ok){e.next=8;break}throw new Error("Failed to fetch plans");case 8:return e.next=10,t.json();case 10:this.plans=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),this.error=e.t0.message;case 16:return e.prev=16,this.loadingPlans=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[0,13,16,19]])}))),function(e){return t.apply(this,arguments)})},{key:"resetForm",value:function(){var e=new Date,n=new Date;n.setFullYear(e.getFullYear()+1),this.newContract={fkCompanyId:this.insuranceCompanyId,contractName:"",contractDate:e.toISOString().split("T")[0],rowStatus:1,createdby:1,insurancePlans:[{planName:"",planCode:"",planCategory:"",startDate:e.toISOString().split("T")[0],endDate:n.toISOString().split("T")[0],createdby:1,rowStatus:1,maxDeductable:0,level:1,copayOnGross:0,copayAmount:0,annualLimit:0}]};var t=this.shadowRoot.querySelector("insurance-plan-manager");t&&t.resetForm()}}],[{key:"properties",get:function(){return{insuranceCompanyId:{type:Number},contracts:{type:Array},selectedContractId:{type:String},selectedPlanId:{type:String},plans:{type:Array},loading:{type:Boolean},loadingContracts:{type:Boolean},loadingPlans:{type:Boolean},error:{type:String},newContract:{type:Object},mode:{type:String},insuranceCompanies:{type:Array}}}}]);var t,r,i,o,a,s,c}(se),lt.styles=c(Et||(Et=_t(['\n    :host {\n      display: block;\n      font-family: system-ui, -apple-system, sans-serif;\n    }\n\n    .form-container {\n      background: white;\n      border-radius: 0.75rem;\n      padding: 2rem;\n    }\n\n    .form-section {\n      margin-bottom: 2rem;\n    }\n\n    .form-section-title {\n      color: #1F2937;\n      font-size: 1.25rem;\n      font-weight: 600;\n      margin: 0 0 1.5rem 0;\n    }\n\n    .form-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n      gap: 1.5rem;\n      margin-bottom: 1.5rem;\n    }\n\n    .form-field-wrapper {\n      position: relative;\n      margin-bottom: 1.25rem;\n    }\n\n    .form-label {\n      position: absolute;\n      top: -0.75rem;\n      left: 0.75rem;\n      padding: 0 0.25rem;\n      background: white;\n      color: #6B7280;\n      font-size: 0.875rem;\n      font-weight: 500;\n      transition: all 0.2s ease;\n    }\n\n    .form-input, .form-select {\n      width: 100%;\n      padding: 0.75rem;\n      border: 1px solid #E5E7EB;\n      border-radius: 0.375rem;\n      font-size: 0.875rem;\n      color: #1F2937;\n      background: white;\n      transition: all 0.2s ease;\n    }\n\n    .form-input:focus, .form-select:focus {\n      outline: none;\n      border-color: #463AA1;\n      box-shadow: 0 0 0 3px rgba(70, 58, 161, 0.1);\n    }\n\n    .form-input::placeholder {\n      color: #9CA3AF;\n    }\n\n    .mode-toggle {\n      display: flex;\n      align-items: center;\n      gap: 1rem;\n      margin-bottom: 2rem;\n      padding: 1rem;\n      background: #F9FAFB;\n      border-radius: 0.5rem;\n    }\n\n    .toggle-switch {\n      position: relative;\n      display: inline-block;\n      width: 60px;\n      height: 34px;\n    }\n\n    .toggle-switch input {\n      opacity: 0;\n      width: 0;\n      height: 0;\n    }\n\n    .toggle-slider {\n      position: absolute;\n      cursor: pointer;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background-color: #ccc;\n      transition: .4s;\n      border-radius: 34px;\n    }\n\n    .toggle-slider:before {\n      position: absolute;\n      content: "";\n      height: 26px;\n      width: 26px;\n      left: 4px;\n      bottom: 4px;\n      background-color: white;\n      transition: .4s;\n      border-radius: 50%;\n    }\n\n    input:checked + .toggle-slider {\n      background-color: #463AA1;\n    }\n\n    input:checked + .toggle-slider:before {\n      transform: translateX(26px);\n    }\n\n    .toggle-label {\n      font-size: 0.875rem;\n      font-weight: 500;\n      color: #374151;\n    }\n\n    .error {\n      color: #EF4444;\n      font-size: 0.875rem;\n      margin-top: 0.5rem;\n      padding: 0.5rem;\n      background: #FEE2E2;\n      border-radius: 0.375rem;\n    }\n\n    .success {\n      color: #059669;\n      font-size: 0.875rem;\n      margin-top: 0.5rem;\n      padding: 0.5rem;\n      background: #ECFDF5;\n      border-radius: 0.375rem;\n    }\n\n    .primary-button {\n      background: #463AA1;\n      color: white;\n      padding: 0.75rem 1.5rem;\n      border: none;\n      border-radius: 0.5rem;\n      font-weight: 600;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      width: 100%;\n    }\n\n    .primary-button:disabled {\n      background: #9CA3AF;\n      cursor: not-allowed;\n    }\n\n    .primary-button:hover:not(:disabled) {\n      background: #3c319c;\n      transform: translateY(-1px);\n    }\n\n    @keyframes spin {\n      to { transform: rotate(360deg); }\n    }\n\n    .loading {\n      display: inline-block;\n      width: 1rem;\n      height: 1rem;\n      border: 2px solid #E5E7EB;\n      border-top-color: #463AA1;\n      border-radius: 50%;\n      animation: spin 0.75s linear infinite;\n      margin-right: 0.5rem;\n    }\n\n    .plans-list {\n      margin-top: 1.5rem;\n    }\n\n    .plan-item {\n      padding: 1rem;\n      border: 1px solid #E5E7EB;\n      border-radius: 0.375rem;\n      margin-bottom: 0.75rem;\n      cursor: pointer;\n      transition: all 0.2s ease;\n    }\n\n    .plan-item:hover {\n      border-color: #463AA1;\n      background: #F8FAFC;\n    }\n\n    .plan-item.selected {\n      border-color: #463AA1;\n      background: #EEF2FF;\n    }\n\n    .plan-item strong {\n      display: block;\n      color: #1F2937;\n      font-size: 1rem;\n      margin-bottom: 0.25rem;\n    }\n\n    .plan-item div {\n      color: #6B7280;\n      font-size: 0.875rem;\n    }\n\n    .skeleton {\n      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\n      background-size: 200% 100%;\n      animation: loading 1.5s infinite;\n      border-radius: 0.375rem;\n    }\n\n    .skeleton-select {\n      width: 100%;\n      height: 2.75rem;\n    }\n\n    .skeleton-plan {\n      height: 5rem;\n      margin-bottom: 0.75rem;\n    }\n\n    @keyframes loading {\n      0% {\n        background-position: 200% 0;\n      }\n      100% {\n        background-position: -200% 0;\n      }\n    }\n\n    .loading-overlay {\n      position: relative;\n      pointer-events: none;\n      opacity: 0.7;\n    }\n\n    .loading-overlay::after {\n      content: "";\n      position: absolute;\n      inset: 0;\n      background: rgba(255, 255, 255, 0.5);\n    }\n  ']))),lt));const Gt=e.p+"images/17644cb660fdef3a2a64.png",$t=e.p+"images/cc7f1de500abfb70ff1c.png",Yt=e.p+"images/d8082fb12c787cfe1d66.png",Jt=e.p+"images/1b658f7b91162d39bc19.svg",Wt=e.p+"images/569925d19f647b2691a0.svg";function Qt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var Kt,Xt,Zt,er,nr,tr,rr,ir,or,ar,sr,cr,lr,dr,ur,pr,hr,fr,mr,vr,gr,yr,br,wr,xr,Sr,kr,Er,Pr,Or,Cr,Ar,Tr,Dr,Ir,jr,Nr,Lr,Rr,_r,Fr,Mr,zr,Br,Ur,Vr,qr,Hr,Gr,$r,Yr,Jr,Wr,Qr,Kr,Xr,Zr={1:{name:"Medical Care",description:"Medical Care."},2:{name:"Surgical",description:"Surgical."},3:{name:"Consultation",description:"Consultation."},4:{name:"Diagnostic XRay",description:"Diagnostic XRay."},5:{name:"Diagnostic Lab",description:"Diagnostic Lab."},6:{name:"Renal Supplies",description:"Renal Supplies excluding Dialysis."},7:{name:"Diagnostic Dental",description:"Diagnostic Dental."},8:{name:"Periodontics",description:"Periodontics."},9:{name:"Restorative",description:"Restorative."},10:{name:"Endodontics",description:"Endodontics."},11:{name:"Maxillofacial Prosthetics",description:"Maxillofacial Prosthetics."},12:{name:"Adjunctive Dental Services",description:"Adjunctive Dental Services."},13:{name:"Health Benefit Plan Coverage",description:"Health Benefit Plan Coverage."},14:{name:"Dental Care",description:"Dental Care."},15:{name:"Dental Crowns",description:"Dental Crowns."},16:{name:"Dental Accident",description:"Dental Accident."},17:{name:"Hospital Room and Board",description:"Hospital Room and Board."},18:{name:"Major Medical",description:"Major Medical."},19:{name:"Medically Related Transportation",description:"Medically Related Transportation."},20:{name:"In-vitro Fertilization",description:"In-vitro Fertilization."},21:{name:"MRI Scan",description:"MRI Scan."},22:{name:"Donor Procedures",description:"Donor Procedures such as organ harvest."},23:{name:"Maternity",description:"Maternity."},24:{name:"Renal Dialysis",description:"Renal dialysis."},25:{name:"Medical Coverage",description:"Medical Coverage."},26:{name:"Dental Coverage",description:"Dental Coverage."},27:{name:"Hearing Coverage",description:"Hearing Coverage."},28:{name:"Vision Coverage",description:"Vision Coverage."},29:{name:"Mental Health",description:"Mental Health"},30:{name:"OP Medical",description:"OP Medical"},31:{name:"Max Copay",description:"Max Copay"},32:{name:"Medical Equipment",description:"Medical Equipment"}},ei={1:["5"],3:["17"],6:["1","2","18"],7:["56"],9:["32"],13:["4","21"],14:["7","8","9","10","11","12","14","15","16","26"],15:["1","3","30"],16:["2"],19:["37"],20:["23"],21:["2","18"]},ni=function(e){var n;return(null===(n=Zr[e])||void 0===n?void 0:n.name)||e},ti=function(e){return ei[e]||[]},ri=function(e,n){var t=ti(n);if(e.categoryCode&&t.includes(e.categoryCode))return!0;var r,i="".concat(e.name," ").concat(e.description).toLowerCase(),o=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return Qt(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Qt(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw o}}}}(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=Zr[a];if(s){var c="".concat(s.name," ").concat(s.description).toLowerCase();if(i.includes(c)||c.includes(i))return!0}}}catch(e){o.e(e)}finally{o.f()}return!1};function ii(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return oi(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oi(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw o}}}}function oi(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function ai(e){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ai(e)}function si(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ci(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?si(Object(t),!0).forEach((function(n){li(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):si(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function li(e,n,t){return(n=fi(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function di(){di=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==ai(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(ai(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function ui(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function pi(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){ui(o,r,i,a,s,"next",e)}function s(e){ui(o,r,i,a,s,"throw",e)}a(void 0)}))}}function hi(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fi(r.key),r)}}function fi(e){var n=function(e){if("object"!=ai(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=ai(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ai(n)?n:n+""}function mi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mi=function(){return!!e})()}function vi(e){return vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vi(e)}function gi(e,n){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},gi(e,n)}function yi(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var bi,wi,xi,Si,ki,Ei,Pi,Oi,Ci,Ai,Ti,Di,Ii,ji,Ni,Li,Ri,_i,Fi,Mi,zi,Bi,Ui,Vi,qi,Hi=c(Kt||(Kt=yi(["\n  :host {\n    display: block;\n    font-family: system-ui, -apple-system, sans-serif;\n    max-width: 1200px;\n    margin: 0 auto;\n    background: white;\n    border-radius: 0.75rem;\n    box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);\n  }\n\n  .wrapper {\n    background: white;\n    border-radius: 0.75rem;\n    position: relative;\n    width: 100%;\n    overflow: scroll;\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n  }\n\n\n\n  .header {\n    background: #463AA1;\n    color: white;\n    padding: 1.5rem 2rem;\n    font-size: 1.75rem;\n    font-weight: 500;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-top-left-radius: 0.75rem;\n    border-top-right-radius: 0.75rem;\n    position: relative;\n  }\n\n  .close-button {\n    position: absolute;\n    top: 1.5rem;\n    right: 1.5rem;\n    background: rgba(255, 255, 255, 0.1);\n    border: none;\n    color: white;\n    cursor: pointer;\n    padding: 0.5rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 0.375rem;\n    transition: all 0.2s ease;\n    z-index: 10;\n  }\n\n  .close-button:hover {\n    background: rgba(255, 255, 255, 0.2);\n    transform: scale(1.1);\n  }\n\n  .close-button svg {\n    width: 1.5rem;\n    height: 1.5rem;\n    stroke: currentColor;\n    stroke-width: 2;\n  }\n\n  .nphies-logo {\n    width: 140px;\n    height: auto;\n    content: url('","');\n  }\n\n  .tabs {\n    display: flex;\n    background: #463AA1;\n    padding: 0 2rem;\n  }\n\n  .tab {\n    padding: 1rem 2.5rem;\n    color: white;\n    cursor: pointer;\n    background: transparent;\n    border-top-left-radius: 0.5rem;\n    border-top-right-radius: 0.5rem;\n    font-weight: 500;\n    transition: all 0.2s ease;\n  }\n\n  .tab.active {\n    background: white;\n    color: #463AA1;\n  }\n\n  .content {\n    padding: 2rem 0;\n    background: white;\n    border-bottom-left-radius: 0.75rem;\n    border-bottom-right-radius: 0.75rem;\n    position: relative;\n    width: 100%;\n    overflow-x: hidden;\n  }\n\n  .search-wrapper {\n    padding: 0 2rem;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  .patient-info {\n    padding: 0 2rem;\n    display: grid;\n    grid-template-columns: 1fr auto;\n    gap: 3rem;\n    margin-bottom: 3rem;\n    align-items: start;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  .info-grid {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: 1rem;\n  }\n\n  .images-container {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    align-items: center;\n  }\n\n  .info-field {\n    background: white;\n    padding: 1rem;\n    border-radius: 0.5rem;\n    border: 1px solid #E5E7EB;\n  }\n\n  .field-label {\n    font-size: 0.75rem;\n    color: #6B7280;\n    margin-bottom: 0.5rem;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    text-transform: uppercase;\n  }\n\n  .field-value {\n    font-size: 0.875rem;\n    color: #111827;\n    font-weight: 600;\n    text-transform: uppercase;\n  }\n\n  .avatar {\n    width: 140px;\n    height: 140px;\n    border-radius: 0.5rem;\n    content: url('","');\n    object-fit: cover;\n  }\n\n  .barcode {\n    width: 140px;\n    height: auto;\n    content: url('","');\n    object-fit: contain;\n  }\n\n  .verify-button {\n    margin: 2rem 2rem 0 auto;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 0.75rem 2.5rem;\n    background: #463AA1;\n    color: white;\n    border: none;\n    border-radius: 0.5rem;\n    cursor: pointer;\n    font-weight: 600;\n    text-transform: uppercase;\n    transition: all 0.2s ease;\n    position: relative;\n  }\n\n  .verify-button:disabled {\n    background: #6B7280;\n    cursor: default;\n  }\n\n  .verify-button .loader {\n    width: 1.25rem;\n    height: 1.25rem;\n    border: 2px solid white;\n    border-top-color: transparent;\n    border-radius: 50%;\n    animation: spin 0.8s linear infinite;\n    margin-right: 0.5rem;\n  }\n\n  @keyframes spin {\n    to { transform: rotate(360deg); }\n  }\n\n  .section-header {\n    padding: 0 2rem;\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    margin-bottom: 1.5rem;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  .section-title {\n    font-size: 1rem;\n    font-weight: 600;\n    color: #111827;\n    text-transform: uppercase;\n    margin: 0;\n  }\n\n  .verified-badge {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    display: inline-flex;\n    align-items: center;\n    gap: 0.375rem;\n    padding: 0.375rem 0.75rem;\n    background-color: #DEF7EC;\n    color: #03543F;\n    border-radius: 9999px;\n    font-size: 0.75rem;\n    font-weight: 500;\n    transition: all 0.2s ease;\n    z-index: 1;\n  }\n\n  .verified-badge svg {\n    width: 0.875rem;\n    height: 0.875rem;\n  }\n\n  .company-info {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n  }\n\n  .company-icon {\n    width: 1.5rem;\n    height: 1.5rem;\n    content: url('","');\n  }\n\n  .insurance-grid {\n    padding: 0 2rem;\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 1rem;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  .coverage-details-grid {\n    padding: 0 2rem;\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 1rem;\n    margin-bottom: 2rem;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  @keyframes slideIn {\n    from {\n      opacity: 0;\n      transform: translateX(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateX(0);\n    }\n  }\n\n  .animate-in {\n    animation: slideIn 0.3s ease-out forwards;\n  }\n\n  .mapping-status {\n    margin-left: 0.5rem;\n  }\n\n  .benefits-mapping-grid {\n    padding: 0 2rem;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  .mapping-row {\n    display: grid;\n    grid-template-columns: 1fr 2fr 1fr;\n    gap: 1.5rem;\n    padding: 1rem;\n    border: 1px solid #E5E7EB;\n    border-radius: 0.5rem;\n    margin-bottom: 1rem;\n    background: white;\n  }\n\n  .service-type {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .benefit-selector select {\n    width: 100%;\n    padding: 0.5rem;\n    border: 1px solid #E5E7EB;\n    border-radius: 0.375rem;\n    font-size: 0.875rem;\n    min-height: 100px;\n  }\n\n  .benefit-selector option {\n    padding: 0.5rem;\n    border-bottom: 1px solid #F3F4F6;\n  }\n\n  .total-allowed {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n    align-items: flex-end;\n  }\n\n  .total-allowed .field-value {\n    font-size: 1.125rem;\n    color: #059669;\n  }\n\n  .mapped-benefits-list {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .mapped-benefit {\n    display: flex;\n    justify-content: space-between;\n    padding: 0.5rem;\n    background: #F9FAFB;\n    border-radius: 0.25rem;\n    font-size: 0.875rem;\n  }\n\n  .mapped-benefit span:last-child {\n    color: #059669;\n    font-weight: 600;\n  }\n\n  .benefits-grid {\n    padding: 0 2rem;\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 1rem;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  .primary-button {\n    background: #059669;\n  }\n\n  .primary-button:hover {\n    background: #047857;\n  }\n\n  .map-benefits-button {\n    margin: 1rem 2rem;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 0.75rem 2.5rem;\n    background: #059669;\n    color: white;\n    border: none;\n    border-radius: 0.5rem;\n    cursor: pointer;\n    font-weight: 600;\n    text-transform: uppercase;\n    transition: all 0.2s ease;\n  }\n\n  .map-benefits-button:hover {\n    background: #047857;\n  }\n\n  .back-button {\n    margin: 1rem 2rem;\n    padding: 0.5rem 1rem;\n    background: #F3F4F6;\n    border: none;\n    border-radius: 0.5rem;\n    cursor: pointer;\n    font-size: 0.875rem;\n  }\n\n  .verification-form {\n    padding: 0 2rem;\n    display: flex;\n    flex-direction: column;\n    gap: 1.5rem;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  .form-section {\n    background-color: #ffffff;\n    border-radius: 0.75rem;\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n    padding: 1.5rem;\n    margin-bottom: 1.5rem;\n    transition: transform 0.2s ease, box-shadow 0.2s ease;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  .form-section:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 12px -2px rgba(0, 0, 0, 0.12), 0 4px 6px -2px rgba(0, 0, 0, 0.08);\n  }\n\n  .form-section-title {\n    font-size: 1.125rem;\n    font-weight: 600;\n    color: #111827;\n    margin-bottom: 1.25rem;\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    text-transform: uppercase;\n  }\n\n  .form-section-title::before {\n    content: '';\n    width: 4px;\n    height: 1.25rem;\n    background: #463AA1;\n    border-radius: 2px;\n    display: block;\n  }\n\n  .form-group {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .input-group {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .input-group label {\n    font-size: 0.875rem;\n    font-weight: 500;\n    color: #374151;\n  }\n\n  .input-group input,\n  .input-group select {\n    padding: 0.75rem 1rem;\n    font-size: 0.875rem;\n    color: #111827;\n    background-color: #F9FAFB;\n    border: 1px solid #E5E7EB;\n    border-radius: 0.5rem;\n    transition: all 0.2s ease;\n  }\n\n  .input-group input:hover,\n  .input-group select:hover {\n    background-color: #F3F4F6;\n  }\n\n  .input-group input:focus,\n  .input-group select:focus {\n    outline: none;\n    border-color: #463AA1;\n    box-shadow: 0 0 0 3px rgba(70, 58, 161, 0.1);\n    background-color: #ffffff;\n  }\n\n  .secondary-button {\n    background: #F3F4F6;\n    color: #374151;\n    border: none;\n    padding: 0.5rem 1rem;\n    border-radius: 0.375rem;\n    font-size: 0.875rem;\n    cursor: pointer;\n    transition: all 0.2s ease;\n  }\n\n  .secondary-button:hover {\n    background: #E5E7EB;\n  }\n\n  /* Modern Form Styles */\n  .form-container {\n    width: 100%;\n    padding: 0 2rem;\n    box-sizing: border-box;\n  }\n\n  .form-field-wrapper {\n    position: relative;\n    margin-bottom: 1.5rem;\n  }\n\n  .form-input {\n    width: 100%;\n    padding: 0.75rem 1rem;\n    font-size: 0.875rem;\n    color: #111827;\n    background-color: #F9FAFB;\n    border: 1px solid #E5E7EB;\n    border-radius: 0.5rem;\n    transition: all 0.2s ease;\n  }\n\n  .form-input:hover {\n    background-color: #F3F4F6;\n  }\n\n  .form-input:focus {\n    outline: none;\n    border-color: #463AA1;\n    box-shadow: 0 0 0 3px rgba(70, 58, 161, 0.1);\n    background-color: #ffffff;\n  }\n\n  .form-label {\n    position: absolute;\n    top: -0.75rem;\n    left: 0.75rem;\n    padding: 0 0.25rem;\n    font-size: 0.75rem;\n    color: #6B7280;\n    background-color: #ffffff;\n    transition: all 0.2s ease;\n  }\n\n  .form-input:focus + .form-label {\n    color: #463AA1;\n    font-weight: 500;\n  }\n\n  .form-select {\n    appearance: none;\n    width: 100%;\n    padding: 0.75rem 1rem;\n    font-size: 0.875rem;\n    color: #111827;\n    background-color: #F9FAFB;\n    border: 1px solid #E5E7EB;\n    border-radius: 0.5rem;\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236B7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\");\n    background-repeat: no-repeat;\n    background-position: right 0.75rem center;\n    background-size: 1rem;\n    transition: all 0.2s ease;\n  }\n\n  .form-select:hover {\n    background-color: #F3F4F6;\n  }\n\n  .form-select:focus {\n    outline: none;\n    border-color: #463AA1;\n    box-shadow: 0 0 0 3px rgba(70, 58, 161, 0.1);\n    background-color: #ffffff;\n  }\n\n  .insurance-toggle {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 20px;\n  }\n\n  .insurance-text {\n    font-size: 0.875rem;\n    color: #374151;\n  }\n\n  .toggle-button {\n    padding: 0.5rem 1rem;\n    font-size: 0.875rem;\n    font-weight: 500;\n    color: #374151;\n    background-color: #F3F4F6;\n    border: 1px solid #E5E7EB;\n    border-radius: 0.375rem;\n    cursor: pointer;\n    transition: all 0.2s ease;\n  }\n\n  .toggle-button:hover {\n    background-color: #E5E7EB;\n    transform: translateY(-1px);\n  }\n\n  .toggle-button:focus {\n    outline: none;\n    box-shadow: 0 0 0 3px rgba(70, 58, 161, 0.1);\n  }\n\n  .action-button {\n    padding: 0.75rem 1.5rem;\n    font-size: 0.875rem;\n    font-weight: 600;\n    border-radius: 0.5rem;\n    transition: all 0.2s ease;\n    display: inline-flex;\n    align-items: center;\n    gap: 0.5rem;\n    cursor: pointer;\n    border: none;\n  }\n\n  .primary-action {\n    background-color: #463AA1;\n    color: #ffffff;\n  }\n\n  .primary-action:hover {\n    background-color: #3c319c;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 6px -1px rgba(70, 58, 161, 0.2);\n  }\n\n  .primary-action:active {\n    transform: translateY(0);\n  }\n\n  .secondary-action {\n    background-color: #F3F4F6;\n    color: #374151;\n  }\n\n  .secondary-action:hover {\n    background-color: #E5E7EB;\n    transform: translateY(-1px);\n  }\n\n  .button-loader {\n    width: 1rem;\n    height: 1rem;\n    border: 2px solid rgba(255, 255, 255, 0.3);\n    border-top-color: #ffffff;\n    border-radius: 50%;\n    animation: spin 0.8s linear infinite;\n  }\n\n  .form-input.dirty, .form-select.dirty {\n    border-color: #F59E0B;\n    background-color: #FFFBEB;\n  }\n\n  .form-input.dirty:focus, .form-select.dirty:focus {\n    border-color: #F59E0B;\n    box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);\n  }\n\n  /* Grid Layout */\n  .form-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: 1.5rem;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  @media (min-width: 768px) {\n    .form-grid {\n      grid-template-columns: repeat(2, 1fr);\n    }\n  }\n\n  .insurance-toggle {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 20px;\n  }\n\n  .insurance-text {\n    font-size: 0.875rem;\n    color: #374151;\n  }\n\n  .toggle-button {\n    padding: 0.5rem 1rem;\n    font-size: 0.875rem;\n    font-weight: 500;\n    color: #374151;\n    background-color: #F3F4F6;\n    border: 1px solid #E5E7EB;\n    border-radius: 0.375rem;\n    cursor: pointer;\n    transition: all 0.2s ease;\n  }\n\n  .toggle-button:hover {\n    background-color: #E5E7EB;\n    transform: translateY(-1px);\n  }\n\n  .toggle-button:focus {\n    outline: none;\n    box-shadow: 0 0 0 3px rgba(70, 58, 161, 0.1);\n  }\n\n  .section-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 1.5rem;\n    padding-bottom: 1rem;\n    border-bottom: 1px solid #E5E7EB;\n  }\n\n  .verified-badge {\n    display: inline-flex;\n    align-items: center;\n    gap: 0.375rem;\n    padding: 0.375rem 0.75rem;\n    background-color: #DEF7EC;\n    color: #03543F;\n    border-radius: 9999px;\n    font-size: 0.75rem;\n    font-weight: 500;\n    transition: all 0.2s ease;\n  }\n\n  .verified-badge:hover {\n    background-color: #BCF0DA;\n  }\n\n  /* Add box-sizing to all elements */\n  *, *::before, *::after {\n    box-sizing: border-box;\n  }\n\n  /* Ensure form inputs don't overflow */\n  .form-input,\n  .form-select,\n  .input-group input,\n  .input-group select {\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  /* Fix grid layouts for better responsiveness */\n  .form-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: 1.5rem;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  @media (max-width: 768px) {\n    .insurance-grid,\n    .coverage-details-grid,\n    .benefits-grid {\n      grid-template-columns: 1fr;\n    }\n\n    .patient-info {\n      grid-template-columns: 1fr;\n    }\n  }\n\n  @keyframes successPulse {\n    0% { transform: scale(1); }\n    50% { transform: scale(1.1); background-color: #059669; }\n    100% { transform: scale(1); }\n  }\n\n  @keyframes errorShake {\n    0%, 100% { transform: translateX(0); }\n    25% { transform: translateX(-10px); }\n    75% { transform: translateX(10px); }\n  }\n\n  .success-animation {\n    animation: successPulse 0.5s ease-in-out;\n    background-color: #059669 !important;\n  }\n\n  .error-animation {\n    animation: errorShake 0.5s ease-in-out;\n    background-color: #EF4444 !important;\n  }\n\n  .error-message {\n    color: #EF4444;\n    font-size: 0.875rem;\n    margin-top: 0.5rem;\n    text-align: center;\n    font-weight: 500;\n    padding: 0.5rem;\n    background-color: #FEE2E2;\n    border-radius: 0.375rem;\n    margin: 1rem 2rem;\n  }\n\n  .mapped-benefits-list {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    margin-bottom: 1rem;\n  }\n\n  .mapped-benefit {\n    background: var(--surface-color, #ffffff);\n    border: 1px solid var(--border-color, #e5e7eb);\n    border-radius: 0.5rem;\n    padding: 1rem;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n  }\n\n  .benefit-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 0.75rem;\n    padding-bottom: 0.75rem;\n    border-bottom: 1px solid var(--border-color, #e5e7eb);\n  }\n\n  .benefit-name {\n    font-weight: 600;\n    color: var(--text-primary, #111827);\n  }\n\n  .benefit-amount {\n    font-weight: 600;\n    color: var(--text-success, #059669);\n  }\n\n  .benefit-details {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n    gap: 0.5rem;\n  }\n\n  .benefit-detail {\n    display: flex;\n    flex-direction: column;\n    gap: 0.25rem;\n  }\n\n  .detail-label {\n    font-size: 0.875rem;\n    color: var(--text-secondary, #6b7280);\n  }\n\n  .detail-value {\n    font-weight: 500;\n    color: var(--text-primary, #111827);\n  }\n\n  .total-allowed {\n    margin-top: 1rem;\n    padding-top: 1rem;\n    border-top: 1px solid var(--border-color, #e5e7eb);\n    font-weight: 600;\n    color: var(--text-primary, #111827);\n    text-align: right;\n  }\n\n  .benefit-selector select {\n    width: 100%;\n    min-height: 150px;\n    padding: 0.5rem;\n    border: 1px solid var(--border-color, #e5e7eb);\n    border-radius: 0.375rem;\n    background-color: var(--surface-color, #ffffff);\n    color: var(--text-primary, #111827);\n  }\n\n  .benefit-selector select option {\n    padding: 0.5rem;\n    border-bottom: 1px solid var(--border-color, #e5e7eb);\n  }\n\n  .benefit-selector select option:last-child {\n    border-bottom: none;\n  }\n\n  .benefits-mapping-grid {\n    display: flex;\n    flex-direction: column;\n    gap: 1.5rem;\n    margin: 1.5rem 0;\n  }\n\n  .mapping-row {\n    display: grid;\n    grid-template-columns: 1fr 2fr 1fr;\n    gap: 1rem;\n    align-items: start;\n    padding: 1rem;\n    background: var(--surface-color, #ffffff);\n    border: 1px solid var(--border-color, #e5e7eb);\n    border-radius: 0.5rem;\n  }\n\n  .service-type {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .service-type .field-label {\n    font-weight: 600;\n    color: var(--text-primary, #111827);\n  }\n\n  .service-type .field-value {\n    font-size: 0.875rem;\n    color: var(--text-secondary, #6b7280);\n  }\n\n  .benefits-section {\n    padding: 0 2rem;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  .benefits-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 1rem;\n    background: #F9FAFB;\n    border-bottom: 1px solid #E5E7EB;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n  }\n\n  .auto-map-all-button {\n    position: relative;\n    padding: 0.75rem 1.5rem;\n    background: linear-gradient(135deg, #463AA1, #5B4FC7);\n    color: white;\n    border: none;\n    border-radius: 0.5rem;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    margin-bottom: 1rem;\n    width: 100%;\n    text-align: center;\n    box-shadow: 0 4px 6px -1px rgba(70, 58, 161, 0.1);\n    overflow: hidden;\n  }\n\n  .auto-map-all-button::after {\n    content: '';\n    position: absolute;\n    top: -50%;\n    left: -50%;\n    width: 200%;\n    height: 200%;\n    background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);\n    transform: rotate(45deg);\n    animation: glowEffect 3s infinite;\n  }\n\n  .auto-map-all-button:hover {\n    background: linear-gradient(135deg, #5B4FC7, #463AA1);\n    transform: translateY(-2px);\n    box-shadow: 0 6px 8px -2px rgba(70, 58, 161, 0.2);\n  }\n\n  .auto-map-all-button:disabled {\n    background: #9CA3AF;\n    cursor: not-allowed;\n    transform: none;\n  }\n\n  .auto-map-all-button .progress {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    height: 3px;\n    background: rgba(255, 255, 255, 0.5);\n    transition: width 0.3s ease;\n  }\n\n  .mapping-status {\n    font-size: 0.875rem;\n    color: #6B7280;\n    margin-top: 0.5rem;\n    text-align: center;\n  }\n\n  .service-tabs {\n    display: flex;\n    gap: 0.5rem;\n    overflow-x: auto;\n    padding-bottom: 1rem;\n    margin-bottom: 1rem;\n    border-bottom: 1px solid #E5E7EB;\n  }\n\n  .service-tab {\n    padding: 0.5rem 1rem;\n    background: #F3F4F6;\n    border: 1px solid #E5E7EB;\n    border-radius: 0.5rem;\n    font-size: 0.875rem;\n    color: #374151;\n    cursor: pointer;\n    white-space: nowrap;\n    transition: all 0.2s ease;\n  }\n\n  .service-tab:hover {\n    background: #E5E7EB;\n  }\n\n  .service-tab.active {\n    background: #463AA1;\n    color: white;\n    border-color: #463AA1;\n  }\n\n  .benefits-table-container {\n    background: white;\n    border: 1px solid #E5E7EB;\n    border-radius: 0.75rem;\n    overflow: hidden;\n  }\n\n  .benefits-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 1rem;\n    background: #F9FAFB;\n    border-bottom: 1px solid #E5E7EB;\n  }\n\n  .benefits-search {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 0.5rem;\n    background: white;\n    border: 1px solid #E5E7EB;\n    border-radius: 0.5rem;\n    width: 300px;\n  }\n\n  .benefits-search input {\n    border: none;\n    outline: none;\n    width: 100%;\n    font-size: 0.875rem;\n  }\n\n  .benefits-table {\n    width: 100%;\n    border-collapse: collapse;\n  }\n\n  .benefits-table th {\n    padding: 0.75rem 1rem;\n    text-align: left;\n    font-size: 0.75rem;\n    font-weight: 600;\n    text-transform: uppercase;\n    color: #6B7280;\n    background: #F9FAFB;\n    border-bottom: 1px solid #E5E7EB;\n  }\n\n  .benefits-table td {\n    padding: 1rem;\n    font-size: 0.875rem;\n    border-bottom: 1px solid #E5E7EB;\n  }\n\n  .benefit-row {\n    transition: background-color 0.2s ease;\n  }\n\n  .benefit-row:hover {\n    background-color: #F9FAFB;\n  }\n\n  .benefit-row.mapped {\n    background-color: #F0FDF4;\n  }\n\n  .benefit-name {\n    font-weight: 500;\n    color: #111827;\n  }\n\n  .benefit-description {\n    color: #6B7280;\n    font-size: 0.75rem;\n  }\n\n  .benefit-amount {\n    font-weight: 600;\n    color: #059669;\n  }\n\n  .benefit-action {\n    display: flex;\n    gap: 0.5rem;\n    justify-content: flex-end;\n  }\n\n  .map-button {\n    padding: 0.5rem 1rem;\n    background: #463AA1;\n    color: white;\n    border: none;\n    border-radius: 0.375rem;\n    font-size: 0.75rem;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.2s ease;\n  }\n\n  .map-button:hover {\n    background-color: #3c319c;\n  }\n\n  .unmap-button {\n    padding: 0.5rem 1rem;\n    background: #FEE2E2;\n    color: #991B1B;\n    border: none;\n    border-radius: 0.375rem;\n    font-size: 0.75rem;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.2s ease;\n  }\n\n  .unmap-button:hover {\n    background-color: #FEE2E2;\n  }\n\n  .summary-cards {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n    gap: 1rem;\n    margin-bottom: 1.5rem;\n  }\n\n  .summary-card {\n    background: white;\n    border: 1px solid #E5E7EB;\n    border-radius: 0.5rem;\n    padding: 1rem;\n  }\n\n  .summary-label {\n    font-size: 0.75rem;\n    color: #6B7280;\n    margin-bottom: 0.5rem;\n  }\n\n  .summary-value {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: #111827;\n  }\n\n  .summary-subtext {\n    font-size: 0.75rem;\n    color: #059669;\n    margin-top: 0.25rem;\n  }\n\n  .contract-setup-section {\n    padding: 0 2rem;\n    margin-top: 2rem;\n  }\n\n  .contract-actions {\n    margin-top: 2rem;\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  .primary-button {\n    background: #463AA1;\n    color: white;\n    padding: 0.75rem 1.5rem;\n    border: none;\n    border-radius: 0.5rem;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.2s ease;\n  }\n\n  .primary-button:disabled {\n    background: #9CA3AF;\n    cursor: not-allowed;\n  }\n\n  .primary-button:hover:not(:disabled) {\n    background: #3c319c;\n    transform: translateY(-1px);\n  }\n\n  .auto-map-button {\n    padding: 0.75rem 1.5rem;\n    background: #059669;\n    color: white;\n    border: none;\n    border-radius: 0.375rem;\n    margin-right: 1rem;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    position: relative;\n    overflow: hidden;\n    font-weight: 600;\n  }\n\n  .auto-map-button::after {\n    content: '';\n    position: absolute;\n    top: -50%;\n    left: -50%;\n    width: 200%;\n    height: 200%;\n    background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);\n    transform: rotate(45deg);\n    animation: glowEffect 3s infinite;\n  }\n\n  @keyframes glowEffect {\n    0% {\n      transform: rotate(45deg) translateX(-100%) translateY(-100%);\n    }\n    50% {\n      transform: rotate(45deg) translateX(0%) translateY(0%);\n    }\n    100% {\n      transform: rotate(45deg) translateX(100%) translateY(100%);\n    }\n  }\n\n  .auto-map-button:hover {\n    background: #047857;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 6px -1px rgba(5, 150, 105, 0.2);\n  }\n\n  .benefits-actions {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n  }\n\n  .benefit-row.recommended {\n    background-color: #F0FDF4;\n  }\n\n  .map-button.recommended {\n    background-color: #059669;\n  }\n\n  .category-name {\n    position: relative;\n    cursor: help;\n  }\n\n  .category-name:hover::after {\n    content: attr(title);\n    position: absolute;\n    bottom: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n    padding: 0.5rem;\n    background: #374151;\n    color: white;\n    border-radius: 0.25rem;\n    font-size: 0.75rem;\n    white-space: nowrap;\n    z-index: 10;\n  }\n\n  .overall-progress {\n    grid-column: span 2;\n    background: #F0F9FF;\n    border: 1px solid #BAE6FD;\n  }\n\n  .progress-stats {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n    margin: 0.5rem 0;\n  }\n\n  .progress-item {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    font-size: 0.875rem;\n  }\n\n  .progress-label {\n    color: #6B7280;\n    min-width: 4rem;\n  }\n\n  .progress-value {\n    font-weight: 600;\n    color: #0369A1;\n  }\n\n  .progress-remaining {\n    color: #6B7280;\n    font-size: 0.75rem;\n  }\n\n  .progress-bar {\n    height: 0.5rem;\n    background: #E0F2FE;\n    border-radius: 0.25rem;\n    overflow: hidden;\n    margin-top: 0.5rem;\n  }\n\n  .progress-fill {\n    height: 100%;\n    background: #0EA5E9;\n    border-radius: 0.25rem;\n    transition: width 0.3s ease;\n  }\n\n  .summary-cards {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: 1rem;\n    margin-bottom: 1.5rem;\n  }\n\n  .loading-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(255, 255, 255, 0.9);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n  }\n\n  .loading-spinner {\n    width: 4rem;\n    height: 4rem;\n    border: 4px solid #E5E7EB;\n    border-top: 4px solid #463AA1;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n    margin-bottom: 1rem;\n  }\n\n  .loading-text {\n    color: #1F2937;\n    font-size: 1.125rem;\n    font-weight: 500;\n  }\n\n  @keyframes spin {\n    to { transform: rotate(360deg); }\n  }\n"])),s(Gt),s($t),s(Yt),s(Wt)),Gi=function(e){function n(){var e,t,r,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=this,r=n,r=vi(r),e=function(e,n){if(n&&("object"==ai(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,mi()?Reflect.construct(r,i||[],vi(t).constructor):r.apply(t,i))).activeTab="coverage",e.isMappingLoader=!1,e.selectedPatient=null,e.isVerifying=!1,e.isVerified=!1,e.isMappingComplete=!1,e.serviceTypes=[{id:1,name:"E & M Codes",mapped:[]},{id:2,name:"CPT Services",mapped:[]},{id:3,name:"Laboratory",mapped:[]},{id:4,name:"Radiology",mapped:[]},{id:5,name:"Dental",mapped:[]},{id:6,name:"HCPCS",mapped:[]},{id:7,name:"Room & Board",mapped:[]},{id:8,name:"Pharmacy",mapped:[]},{id:9,name:"HA Service Codes",mapped:[]},{id:10,name:"DRG",mapped:[]},{id:11,name:"Kitchen Services",mapped:[]},{id:12,name:"Endoscopy",mapped:[]},{id:13,name:"Orthodontic",mapped:[]},{id:14,name:"Maternity",mapped:[]},{id:15,name:"Surgical Packages",mapped:[]}],e.mappedBenefits={},e.insuranceInfo=null,e.coverageDetails=null,e.providerInfo={licenseNumber:"PR-FHIR",name:"Saudi General Clinic",type:"5",active:!0},e.locationInfo={licenseNumber:"GACH",name:"Test Provider",active:!0},e.servicePeriod={startDate:(new Date).toISOString(),endDate:(new Date).toISOString().split("T")[0]+"T23:59:59"},e.facilities=[],e.insuranceCompanies=[],e.selectedFacility=null,e.selectedInsuranceCompany=null,e.selectedContract=null,e.selectedPlan=null,e.isManualMode=!1,e.manualFormData={facilityLicense:"",orgLicense:"",organizationLicenseNumber:"",locationLicenseNumber:"",insuranceLicenseNumber:"",occupation:"",maritalStatus:""},e.dirtyFields={},e.mappedBenefitIds=new Set,e.activeServiceTypeId=1,e.benefitSearchQuery="",e.isLoading=!1,e.isAutoMapping=!1,e.autoMappingProgress=0,e.lastAutoMapResult="",e.loadFacilities(),e.loadInsuranceCompanies(),e.addEventListener("switch-tab",e.switchTab),e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&gi(e,n)}(n,e),function(e,n,t){return n&&hi(e.prototype,n),t&&hi(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"loadFacilities",value:(p=pi(di().mark((function e(){var n,t,r,i=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Dn.FACILITY.PAGED,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filters:"",page:1,pageSize:10})});case 3:return n=e.sent,e.next=6,n.json();case 6:(t=e.sent).isSuccessfull&&(this.facilities=t.dynamicResult,this.selectedPatient&&this.selectedPatient.facilityId&&(r=this.facilities.find((function(e){return e.id===i.selectedPatient.facilityId})),r&&(this.selectedFacility=r))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error loading facilities:",e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return p.apply(this,arguments)})},{key:"loadInsuranceCompanies",value:(u=pi(di().mark((function e(){var n,t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Dn.INSURANCE_COMPANY.PAGED,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:1,pageSize:100})});case 3:return n=e.sent,e.next=6,n.json();case 6:(t=e.sent).isSuccessfull&&t.dynamicResult&&(this.insuranceCompanies=t.dynamicResult),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching insurance companies:",e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return u.apply(this,arguments)})},{key:"handleFacilityChange",value:function(e){var n=e.target.value;this.selectedFacility=this.facilities.find((function(e){return e.id===parseInt(n)})),this.requestUpdate()}},{key:"handleInsuranceCompanyChange",value:function(e){var n=e.target.value;this.selectedInsuranceCompany=this.insuranceCompanies.find((function(e){return e.id===parseInt(n)})),this.requestUpdate()}},{key:"toggleManualMode",value:function(){this.isManualMode=!this.isManualMode,this.requestUpdate()}},{key:"handleManualInputChange",value:function(e){var n=e.target,t=n.name,r=n.value;this.manualFormData=ci(ci({},this.manualFormData),{},li({},t,r)),this.dirtyFields=ci(ci({},this.dirtyFields),{},li({},t,!0)),this.requestUpdate()}},{key:"handlePatientSelected",value:(d=pi(di().mark((function e(n){var t,r,i,o,a,s,c,l,d,u,p,h=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.detail,this.selectedPatient=o,this.insuranceInfo=null,this.isVerified=!1,this.availableBenefits=[],console.log("Patient selected:",{patientId:this.selectedPatient.id,hasInsuranceCoverages:Boolean(this.selectedPatient.insuranceCoverages),coveragesLength:null===(t=this.selectedPatient.insuranceCoverages)||void 0===t?void 0:t.length,coverages:this.selectedPatient.insuranceCoverages,isNphiesVerified:this.selectedPatient.isNphiesVerified}),this.selectedPatient.isNphiesVerified&&(null===(r=this.selectedPatient.insuranceCoverages)||void 0===r?void 0:r.length)>0?(console.log("Patient has valid NPHIES verification"),this.isVerified=!0,(u=this.selectedPatient.insuranceCoverages[0]).benefits&&Array.isArray(u.benefits)?(this.availableBenefits=u.benefits.map((function(e){return{id:e.id||e.benefitId,name:e.name||e.benefitName||"Unnamed Benefit",description:e.description||e.benefitDescription||"",allowedMoney:e.allowedMoney||e.maxAmount||0,allowedCurrency:e.currency||"SAR",usedMoney:e.usedAmount||0,usedCurrency:e.currency||"SAR",categoryCode:e.categoryCode||e.category||"GEN",networkCode:e.networkCode||e.network||"IN"}})),console.log("Transformed benefits:",this.availableBenefits)):console.warn("No benefits found in insurance coverage"),this.insuranceInfo={companyName:(null===(a=this.selectedPatient.insuranceInfo)||void 0===a?void 0:a.company)||"",companyCode:"",memberId:(null===(s=this.selectedPatient.insuranceInfo)||void 0===s?void 0:s.memberID)||"",policyNumber:(null===(c=this.selectedPatient.insuranceInfo)||void 0===c?void 0:c.policyNumber)||"",startDate:(null===(l=this.selectedPatient.coverageDetails)||void 0===l?void 0:l.startDate)||"",endDate:(null===(d=this.selectedPatient.coverageDetails)||void 0===d?void 0:d.endDate)||"",isVerified:!0,isNphiesVerified:!0,coverageDetails:this.selectedPatient.coverageDetails||{}}):(console.log("Patient is not NPHIES verified - requires verification"),this.isVerified=!1),this.selectedPatient.facilityId&&(null===(i=this.facilities)||void 0===i?void 0:i.length)>0&&(p=this.facilities.find((function(e){return e.id===h.selectedPatient.facilityId})),p&&(this.selectedFacility=p)),this.requestUpdate();case 9:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"switchTab",value:(l=pi(di().mark((function e(n){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"object"===ai(n)&&n.detail?this.activeTab=n.detail.tab:this.activeTab=n,"coverage"===this.activeTab&&(this.isVerified=!1,this.isVerifying=!1,this.selectedPatient=null,this.insuranceInfo=null,this.coverageDetails=null,this.requestUpdate());case 2:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"handleVerify",value:(s=pi(di().mark((function e(){var n,t,r,i,o,a,s=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isVerifying=!0,e.prev=1,n=this.prepareVerificationPayload(),console.log("Verification Payload:",n),e.next=6,fetch(Dn.ELIGIBILITY.VERIFY,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 6:return t=e.sent,e.next=9,t.json();case 9:if(r=e.sent,console.log("Verification Result:",r),!(r.isSuccessfull&&r.dynamicResult&&Array.isArray(r.dynamicResult)&&r.dynamicResult.length>0)){e.next=19;break}this.isVerified=!0,this.availableBenefits=r.dynamicResult.map((function(e){return{id:e.id,categoryCode:e.categoryCode,categorySystem:e.categorySystem,name:e.name||"Health Benefit Plan Coverage",description:e.description||"Policy Maximum Annual Limit and Approval limit",networkCode:e.networkCode,networkSystem:e.networkSystem,unitCode:e.unitCode,unitSystem:e.unitSystem,termCode:e.termCode,termSystem:e.termSystem,allowedMoney:e.allowedMoney||0,allowedCurrency:e.allowedCurrency||"SAR",usedMoney:e.usedMoney||0,usedCurrency:e.usedCurrency||"SAR",benefitTypeCode:e.benefitTypeCode,benefitTypeSystem:e.benefitTypeSystem}})),this.shadowRoot.querySelector(".verify-button").classList.add("success-animation"),setTimeout((function(){s.activeTab="contract",s.requestUpdate()}),1500),e.next=22;break;case 19:throw i="Verification failed",!r.isSuccessfull||r.dynamicResult&&r.dynamicResult.length?r.errorMessage&&(i=r.errorMessage):i="No benefits data found. The response was unidentified or incomplete.",new Error(i);case 22:e.next=34;break;case 24:e.prev=24,e.t0=e.catch(1),console.error("Verification failed:",e.t0),(o=this.shadowRoot.querySelector(".verify-button")).classList.add("error-animation"),(a=document.createElement("div")).className="error-message",a.textContent=e.t0.message||"Verification failed. Please try again.",o.parentNode.insertBefore(a,o.nextSibling),setTimeout((function(){a.remove(),o.classList.remove("error-animation")}),5e3);case 34:return e.prev=34,this.isVerifying=!1,e.finish(34);case 37:case"end":return e.stop()}}),e,this,[[1,24,34,37]])}))),function(){return s.apply(this,arguments)})},{key:"startBenefitMapping",value:function(){this.activeTab="benefits"}},{key:"getAvailableBenefitsForType",value:function(e){var n=this;if(!this.availableBenefits)return[];console.log("All available benefits:",this.availableBenefits);var t=this.availableBenefits.filter((function(t){var r,i=null===(r=n.serviceTypes.find((function(n){return n.id===e})))||void 0===r||null===(r=r.mapped)||void 0===r?void 0:r.some((function(e){return e.id===t.id})),o=n.serviceTypes.filter((function(n){return n.id!==e})).some((function(e){var n;return null===(n=e.mapped)||void 0===n?void 0:n.some((function(e){return e.id===t.id}))}));return console.log("Benefit ".concat(t.id," (").concat(t.name,"):"),{isMappedToCurrentType:i,isMappedToOtherType:o,isAvailable:!o||i}),!o||i}));return console.log("Available benefits for service type ".concat(e,":"),t),t}},{key:"handleBenefitMapping",value:function(e,n){var t,r;console.log("Handling benefit mapping:",{serviceTypeId:e,selectedBenefits:n,previousMappedBenefits:null===(t=this.serviceTypes.find((function(n){return n.id===e})))||void 0===t?void 0:t.mapped});var i=this.serviceTypes.find((function(n){return n.id===e})),o=new Set((null===(r=i.mapped)||void 0===r?void 0:r.map((function(e){return e.id})))||[]),a=new Set(n.map((function(e){return e.id})));console.log("Mapping changes:",{previouslyMapped:Array.from(o),newlyMapped:Array.from(a),unmappedBenefits:Array.from(o).filter((function(e){return!a.has(e)})),newlyAddedBenefits:Array.from(a).filter((function(e){return!o.has(e)}))}),this.serviceTypes=this.serviceTypes.map((function(t){return t.id===e?ci(ci({},t),{},{mapped:n}):t})),this.mappedBenefitIds=new Set(this.serviceTypes.flatMap((function(e){var n;return(null===(n=e.mapped)||void 0===n?void 0:n.map((function(e){return e.id})))||[]}))),console.log("Updated state:",{serviceTypes:this.serviceTypes,mappedBenefitIds:Array.from(this.mappedBenefitIds),availableBenefits:this.availableBenefits}),this.requestUpdate()}},{key:"calculateTotalAllowed",value:function(e){return e&&Array.isArray(e)?e.reduce((function(e,n){return e+(n.allowedMoney||0)}),0):0}},{key:"handleBack",value:function(){this.selectedPatient=null,this.isVerified=!1,this.isMappingComplete=!1}},{key:"renderPatientInfo",value:function(){var e=this;if(!this.selectedPatient)return null;var n=this.validateNationalId(this.selectedPatient.nationalId);return U(Xt||(Xt=yi(['\n      <div class="form-container">\n        <div class="form-section">\n          <h4 class="form-section-title">Patient Information</h4>\n          <div class="patient-info">\n            <div class="info-grid">\n              <div class="info-field">\n                <div class="field-label">\n                  <img src="','" class="user-icon" alt="">\n                  FULL NAME\n                </div>\n                <div class="field-value">','</div>\n              </div>\n              <div class="info-field">\n                <div class="field-label">\n                  <img src="','" class="user-icon" alt="">\n                  PATIENT TYPE\n                </div>\n                <div class="field-value">','</div>\n              </div>\n              <div class="info-field">\n                <div class="field-label">\n                  <img src="','" class="user-icon" alt="">\n                  NATIONAL ID / PASSPORT\n                </div>\n                ','\n              </div>\n              <div class="info-field">\n                <div class="field-label">\n                  <img src="','" class="user-icon" alt="">\n                  MOBILE\n                </div>\n                <div class="field-value">','</div>\n              </div>\n            </div>\n            <div class="images-container">\n              <img src="','" class="avatar" alt="Patient Photo">\n              <img src="','" class="barcode" alt="Barcode">\n            </div>\n          </div>\n        </div>\n      </div>\n    '])),Jt,this.selectedPatient.name,Jt,this.selectedPatient.patientType,Jt,n?U(Zt||(Zt=yi(['\n                  <div class="field-value">',"</div>\n                "])),this.selectedPatient.nationalId):U(er||(er=yi(['\n                  <div class="form-field-group">\n                    <input \n                      type="text" \n                      name="nationalId" \n                      .value="','"\n                      @input="','"\n                      class="form-input ','"\n                      placeholder="Enter valid ID"\n                    />\n                    ','\n                    <input \n                      type="text" \n                      name="passportNumber" \n                      .value="','"\n                      @input="','"\n                      class="form-input ','"\n                      placeholder="Enter Passport Number"\n                    />\n                  </div>\n                '])),this.selectedPatient.nationalId||"",this.handleNationalIdChange,this.dirtyFields.nationalId?n?"":"dirty":"",this.dirtyFields.nationalId&&!n?U(nr||(nr=yi(['\n                      <div class="error-message">Patient Identifier shall consist of 10 digits starting with 2 when Iqama ID used</div>\n                    ']))):"",this.selectedPatient.passportNumber||"",(function(n){return e.handleManualInputChange(n)}),this.dirtyFields.passportNumber?"dirty":""),Jt,this.selectedPatient.mobile,$t,Yt)}},{key:"renderInsuranceInfo",value:function(){var e,n,t=null===(e=this.selectedPatient)||void 0===e?void 0:e.insuranceInfo,r=null===(n=this.selectedPatient)||void 0===n?void 0:n.coverageDetails;return U(tr||(tr=yi(['\n      <div class="form-container">\n        <div class="form-section">\n          <h4 class="form-section-title">Insurance Information</h4>\n          <div class="section-header">\n            ',"\n          </div>\n          ","\n        </div>\n      </div>\n    "])),this.isVerified?U(rr||(rr=yi(['\n              <div class="verified-badge">\n                <svg viewBox="0 0 20 20" fill="currentColor">\n                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />\n                </svg>\n                Verified\n              </div>\n            ']))):null,t?U(ir||(ir=yi(['\n            <div class="insurance-grid">\n              <div class="info-field">\n                <div class="field-label">INSURANCE COMPANY</div>\n                <div class="company-info">\n                  <img class="company-icon" alt="">\n                  <div class="field-value">','</div>\n                </div>\n              </div>\n              <div class="info-field">\n                <div class="field-label">CONTRACT#</div>\n                <div class="field-value">','</div>\n              </div>\n              <div class="info-field">\n                <div class="field-label">MEMBER ID</div>\n                <div class="field-value">','</div>\n              </div>\n              <div class="info-field">\n                <div class="field-label">POLICY#</div>\n                <div class="field-value">','</div>\n              </div>\n              <div class="info-field">\n                <div class="field-label">INSURANCE COVERAGE PLAN</div>\n                <div class="field-value">',"</div>\n              </div>\n              ","\n              ","\n            </div>\n            ","\n          "])),t.company,t.contractNumber,t.memberID,t.policyNumber,t.coveragePlan,t.planDetails?U(or||(or=yi(['\n                <div class="info-field">\n                  <div class="field-label">PLAN CATEGORY</div>\n                  <div class="field-value">','</div>\n                </div>\n                <div class="info-field">\n                  <div class="field-label">PLAN CODE</div>\n                  <div class="field-value">','</div>\n                </div>\n                <div class="info-field">\n                  <div class="field-label">ANNUAL LIMIT</div>\n                  <div class="field-value">',"</div>\n                </div>\n              "])),t.planDetails.planCategory||"N/A",t.planDetails.planCode||"N/A",t.planDetails.annualLimit||"N/A"):null,t.contractDetails?U(ar||(ar=yi(['\n                <div class="info-field">\n                  <div class="field-label">CONTRACT NAME</div>\n                  <div class="field-value">','</div>\n                </div>\n                <div class="info-field">\n                  <div class="field-label">CONTRACT DATE</div>\n                  <div class="field-value">',"</div>\n                </div>\n              "])),t.contractDetails.contractName||"N/A",t.contractDetails.contractDate||"N/A"):null,r?U(sr||(sr=yi(['\n              <div class="form-section">\n                <h4 class="form-section-title">Coverage Details</h4>\n                <div class="insurance-grid">\n                  <div class="info-field">\n                    <div class="field-label">TYPE</div>\n                    <div class="field-value">','</div>\n                  </div>\n                  <div class="info-field">\n                    <div class="field-label">DEPENDENT</div>\n                    <div class="field-value">','</div>\n                  </div>\n                  <div class="info-field">\n                    <div class="field-label">RELATIONSHIP</div>\n                    <div class="field-value">','</div>\n                  </div>\n                  <div class="info-field">\n                    <div class="field-label">START DATE</div>\n                    <div class="field-value">','</div>\n                  </div>\n                  <div class="info-field">\n                    <div class="field-label">END DATE</div>\n                    <div class="field-value">','</div>\n                  </div>\n                  <div class="info-field">\n                    <div class="field-label">NETWORK</div>\n                    <div class="field-value">','</div>\n                  </div>\n                  <div class="info-field">\n                    <div class="field-label">SUBROGATION</div>\n                    <div class="field-value">',"</div>\n                  </div>\n                  ","\n                </div>\n              </div>\n            "])),r.type,r.dependent,r.relationship,new Date(r.startDate).toLocaleDateString(),new Date(r.endDate).toLocaleDateString(),r.network,r.subrogation,r.lastEligibilityVerificationDate?U(cr||(cr=yi(['\n                    <div class="info-field">\n                      <div class="field-label">LAST ELIGIBILITY CHECK</div>\n                      <div class="field-value">',"</div>\n                    </div>\n                  "])),new Date(r.lastEligibilityVerificationDate).toLocaleDateString()):null):null):U(lr||(lr=yi(['\n            <div class="insurance-grid">\n              <div class="info-field">\n                <div class="field-label">STATUS</div>\n                <div class="field-value">SELF PAY</div>\n              </div>\n            </div>\n          ']))))}},{key:"renderCoverageDetails",value:function(){var e;if(!this.isVerified||null===(e=this.selectedPatient)||void 0===e||!e.coverageDetails)return null;var n=this.selectedPatient.coverageDetails;return U(dr||(dr=yi(['\n      <div class="section-header">\n        <h3 class="section-title">COVERAGE DETAILS</h3>\n        </div>\n      <div class="coverage-details-grid">\n        <div class="info-field">\n          <div class="field-label">TYPE</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="info-field">\n          <div class="field-label">DEPENDENT</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="info-field">\n          <div class="field-label">RELATIONSHIP</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="info-field">\n          <div class="field-label">START DATE</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="info-field">\n          <div class="field-label">END DATE</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="info-field">\n          <div class="field-label">PAYOR REFERENCE</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="info-field">\n          <div class="field-label">GROUP NUMBER</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="info-field">\n          <div class="field-label">GROUP NAME</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="info-field">\n          <div class="field-label">PLAN NUMBER</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="info-field">\n          <div class="field-label">PLAN NAME</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="info-field">\n          <div class="field-label">NETWORK</div>\n          <div class="field-value">','</div>\n        </div>\n        <div class="info-field">\n          <div class="field-label">SUBROGATION</div>\n          <div class="field-value">',"</div>\n          </div>\n        ","\n      </div>\n    "])),n.type,n.dependent,n.relationship,n.startDate,n.endDate,n.payorReference,n.groupNumber,n.groupName,n.planNumber,n.planName,n.network,n.subrogation,n.lastEligibilityVerificationDate?U(ur||(ur=yi(['\n          <div class="info-field">\n            <div class="field-label">LAST ELIGIBILITY CHECK</div>\n            <div class="field-value">',"</div>\n          </div>\n        "])),new Date(n.lastEligibilityVerificationDate).toLocaleDateString()):null)}},{key:"renderBenefitsMapping",value:function(){var e=this,n=this.serviceTypes.find((function(n){return n.id===e.activeServiceTypeId}))||this.serviceTypes[0],t=this.getAvailableBenefitsForType(n.id),r=n.mapped||[],i=this.calculateTotalAllowed(r),o=ti(n.id),a=this.availableBenefits.length,s=this.serviceTypes.reduce((function(e,n){var t;return e+((null===(t=n.mapped)||void 0===t?void 0:t.length)||0)}),0),c=a-s,l=this.serviceTypes.reduce((function(n,t){return n+e.calculateTotalAllowed(t.mapped||[])}),0),d=this.availableBenefits.reduce((function(e,n){return e+(n.allowedMoney||0)}),0)-l;return U(pr||(pr=yi(['\n      <div class="benefits-section">\n        ','\n        <button \n          class="auto-map-all-button"\n          @click="','"\n          ?disabled="','"\n        >\n          ',"\n        </button>\n        ",'\n\n        <div class="summary-cards">\n          <div class="summary-card">\n            <div class="summary-label">TOTAL MAPPED BENEFITS</div>\n            <div class="summary-value">','</div>\n            <div class="summary-subtext">Out of ',' available</div>\n          </div>\n          <div class="summary-card">\n            <div class="summary-label">TOTAL ALLOWED AMOUNT</div>\n            <div class="summary-value">',' SAR</div>\n            <div class="summary-subtext">For ','</div>\n          </div>\n          <div class="summary-card">\n            <div class="summary-label">SUGGESTED CATEGORIES</div>\n            <div class="summary-value">','</div>\n            <div class="summary-subtext">\n              ','\n            </div>\n          </div>\n          <div class="summary-card overall-progress">\n            <div class="summary-label">OVERALL MAPPING PROGRESS</div>\n            <div class="progress-stats">\n              <div class="progress-item">\n                <span class="progress-label">Benefits:</span>\n                <span class="progress-value">',"/",'</span>\n                <span class="progress-remaining">(',' remaining)</span>\n              </div>\n              <div class="progress-item">\n                <span class="progress-label">Amount:</span>\n                <span class="progress-value">',' SAR</span>\n                <span class="progress-remaining">(',' SAR remaining)</span>\n              </div>\n            </div>\n            <div class="progress-bar">\n              <div class="progress-fill" style="width: ','%"></div>\n            </div>\n          </div>\n        </div>\n\n        <div class="service-tabs">\n          ','\n        </div>\n\n        <div class="benefits-table-container">\n          <div class="benefits-header">\n            <h3 class="section-title">',' Benefits</h3>\n            <div class="benefits-actions">\n              <button \n                class="auto-map-button"\n                @click="','"\n              >\n                Auto Recommended Mapping\n              </button>\n              <div class="benefits-search">\n                <input \n                  type="text" \n                  placeholder="Search benefits..."\n                  @input="','"\n                >\n              </div>\n            </div>\n          </div>\n\n          <table class="benefits-table">\n            <thead>\n              <tr>\n                <th>Benefit</th>\n                <th>Category</th>\n                <th>Network</th>\n                <th>Allowed Amount</th>\n                <th>Used Amount</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              ',"\n            </tbody>\n          </table>\n        </div>\n\n        ","\n      </div>\n    "])),this.isMappingLoader?U(hr||(hr=yi(['\n          <div class="loading-overlay">\n            <div class="loading-spinner"></div>\n            <div class="loading-text">Mapping Benefits...</div>\n          </div>\n        ']))):null,this.autoMapAllServiceTypes,this.isAutoMapping,this.isAutoMapping?U(fr||(fr=yi(['\n            <div class="progress" style="width: ','%"></div>\n            Auto Mapping in Progress... ',"%\n          "])),this.autoMappingProgress,this.autoMappingProgress):U(mr||(mr=yi(["\n            Auto Map All Service Types\n          "]))),this.lastAutoMapResult?U(vr||(vr=yi(['\n          <div class="mapping-status">\n            ',"\n          </div>\n        "])),this.lastAutoMapResult):null,r.length,this.availableBenefits.length,i,n.name,o.length,o.map((function(e){return ni(e)})).join(", "),s,a,c,l.toFixed(2),d.toFixed(2),(s/a*100).toFixed(1),this.serviceTypes.map((function(t){var r;return U(gr||(gr=yi(['\n            <button \n              class="service-tab ','"\n              @click="','"\n            >\n              ',"\n              ","\n            </button>\n          "])),t.id===n.id?"active":"",(function(){return e.setActiveServiceType(t.id)}),t.name,null!==(r=t.mapped)&&void 0!==r&&r.length?U(yr||(yr=yi(['\n                <span class="badge">',"</span>\n              "])),t.mapped.length):"")})),n.name,(function(){return e.autoMapBenefits(n.id)}),this.handleBenefitSearch,t.map((function(t){var i,o,a=r.some((function(e){return e.id===t.id})),s=ni(t.categoryCode),c=(i=t.categoryCode,(null===(o=Zr[i])||void 0===o?void 0:o.description)||""),l=!a&&ri(t,n.id);return U(br||(br=yi(['\n                  <tr class="benefit-row '," ",'">\n                    <td>\n                      <div class="benefit-name">','</div>\n                      <div class="benefit-description">','</div>\n                    </td>\n                    <td>\n                      <div \n                        class="category-name" \n                        title="','"\n                      >\n                        ',"\n                      </div>\n                    </td>\n                    <td>",'</td>\n                    <td class="benefit-amount">'," ",'</td>\n                    <td class="benefit-amount">'," ",'</td>\n                    <td class="benefit-action">\n                      ',"\n                    </td>\n                  </tr>\n                "])),a?"mapped":"",l?"recommended":"",t.name,t.description,c,s,t.networkCode,t.allowedMoney,t.allowedCurrency,t.usedMoney,t.usedCurrency,a?U(wr||(wr=yi(['\n                        <button \n                          class="unmap-button"\n                          @click="','"\n                        >\n                          Unmap\n                        </button>\n                      '])),(function(){return e.unmapBenefit(n.id,t.id)})):U(xr||(xr=yi(['\n                        <button \n                          class="map-button ','"\n                          @click="','"\n                        >\n                          ',"\n                        </button>\n                      "])),l?"recommended":"",(function(){return e.mapBenefit(n.id,t)}),l?"Map (Recommended)":"Map"))})),this.isMappingComplete?null:U(Sr||(Sr=yi(['\n          <button \n            class="map-benefits-button"\n            @click="','"\n          >\n            COMPLETE MAPPING\n          </button>\n        '])),pi(di().mark((function n(){return di().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.completeMappingAndProceed();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))))}},{key:"autoMapAllServiceTypes",value:(a=pi(di().mark((function e(){var n,t,r,i,o;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.availableBenefits&&this.serviceTypes){e.next=2;break}return e.abrupt("return");case 2:this.serviceTypes=this.serviceTypes.map((function(e){return ci(ci({},e),{},{mapped:[]})})),n=new Map,t=ii(this.serviceTypes),e.prev=5,t.s();case 7:if((r=t.n()).done){e.next=15;break}return i=r.value,e.next=11,this.autoMapBenefits(i.id);case 11:(o=e.sent).length>0&&n.set(i.id,o);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),t.e(e.t0);case 20:return e.prev=20,t.f(),e.finish(20);case 23:this.serviceTypes=this.serviceTypes.map((function(e){return ci(ci({},e),{},{mapped:n.get(e.id)||[]})})),this.requestUpdate(),this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:"Benefits have been automatically mapped",type:"success"},bubbles:!0,composed:!0}));case 26:case"end":return e.stop()}}),e,this,[[5,17,20,23]])}))),function(){return a.apply(this,arguments)})},{key:"autoMapBenefits",value:(o=pi(di().mark((function e(n){var t,r;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.serviceTypes.find((function(e){return e.id===n}))){e.next=3;break}return e.abrupt("return",[]);case 3:return t=this.getAvailableBenefitsForType(n),r=t.filter((function(e){return ri(e,n)})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"completeMappingAndProceed",value:(i=pi(di().mark((function e(){var n,t,r,i,o,a,s,c,l,d,u=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isMappingLoader=!0,o=!1,this.serviceTypes.forEach((function(e){u.getAvailableBenefitsForType(e.id).forEach((function(n){var t;!ri(n,e.id)||null!==(t=e.mapped)&&void 0!==t&&t.some((function(e){return e.id===n.id}))||(o=!0)}))})),o&&confirm("There are recommended benefits that have not been mapped. Do you want to auto-map them before proceeding?")&&this.serviceTypes.forEach((function(e){u.autoMapBenefits(e.id)})),a={patientId:null===(n=this.selectedPatient)||void 0===n?void 0:n.id,contractId:null===(t=this.selectedContract)||void 0===t?void 0:t.id,planId:null===(r=this.selectedPlan)||void 0===r?void 0:r.id,insuranceCompanyId:null===(i=this.selectedInsuranceCompany)||void 0===i?void 0:i.id,mapping:this.serviceTypes.map((function(e){return{serviceTypeId:e.id,coverageBenefitIds:e.mapped?e.mapped.map((function(e){return e.id})):[],totalAmount:u.calculateTotalAllowed(e.mapped||[])}})).filter((function(e){return e.coverageBenefitIds.length>0}))},console.log("Submitting mapping payload:",a),e.prev=6,e.next=9,fetch(Dn.INSURANCE_PLAN.MapNPHIESCoverageBenefit,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 9:if((s=e.sent).ok){e.next=12;break}throw new Error("Failed to submit mapping payload");case 12:return e.next=14,s.json();case 14:c=e.sent,console.log("Mapping payload submission result:",c),this.isMappingComplete=!0,this.isMappingLoader=!1,this.requestUpdate(),l=new CustomEvent("show-notification",{bubbles:!0,composed:!0,detail:{message:"Mapping submitted successfully",type:"success"}}),this.dispatchEvent(l),e.next=29;break;case 23:e.prev=23,e.t0=e.catch(6),console.error(e.t0),this.isMappingLoader=!1,d=new CustomEvent("show-notification",{bubbles:!0,composed:!0,detail:{message:e.t0.message,type:"error"}}),this.dispatchEvent(d);case 29:case"end":return e.stop()}}),e,this,[[6,23]])}))),function(){return i.apply(this,arguments)})},{key:"renderMappedBenefits",value:function(){var e,n,t=this;if(!this.isMappingComplete)return null;var r={totalBenefits:0,totalAmount:0,totalUsed:0},i=this.serviceTypes.filter((function(e){var n;return(null===(n=e.mapped)||void 0===n?void 0:n.length)>0}));return i.forEach((function(e){r.totalBenefits+=e.mapped.length,r.totalAmount+=t.calculateTotalAllowed(e.mapped),r.totalUsed+=e.mapped.reduce((function(e,n){return e+(n.usedMoney||0)}),0)})),U(kr||(kr=yi(['\n      <div class="benefits-report">\n        <div class="report-header">\n          <h2>Benefits Coverage Analysis Report</h2>\n          <div class="report-meta">\n            <div class="meta-item">\n              <span class="meta-label">Report Generated:</span>\n              <span class="meta-value">','</span>\n            </div>\n            <div class="meta-item">\n              <span class="meta-label">Patient:</span>\n              <span class="meta-value">','</span>\n            </div>\n            <div class="meta-item">\n              <span class="meta-label">Insurance:</span>\n              <span class="meta-value">','</span>\n            </div>\n          </div>\n        </div>\n\n        <div class="report-summary">\n          <div class="summary-box">\n            <div class="summary-title">Total Benefits Mapped</div>\n            <div class="summary-value">','</div>\n            <div class="summary-subtitle">Across ',' Service Types</div>\n          </div>\n          <div class="summary-box">\n            <div class="summary-title">Total Coverage Amount</div>\n            <div class="summary-value">',' SAR</div>\n            <div class="summary-subtitle">Maximum Available</div>\n          </div>\n          <div class="summary-box">\n            <div class="summary-title">Total Amount Used</div>\n            <div class="summary-value">',' SAR</div>\n            <div class="summary-subtitle">Current Utilization</div>\n          </div>\n        </div>\n\n        <div class="service-type-breakdown">\n          <h3>Service Type Analysis</h3>\n          <div class="breakdown-grid">\n            ',"\n          </div>\n        </div>\n      </div>\n    "])),(new Date).toLocaleString(),null===(e=this.selectedPatient)||void 0===e?void 0:e.name,null===(n=this.selectedPatient)||void 0===n||null===(n=n.insuranceInfo)||void 0===n?void 0:n.company,r.totalBenefits,i.length,r.totalAmount.toLocaleString(),r.totalUsed.toLocaleString(),i.map((function(e){var n=t.calculateTotalAllowed(e.mapped),r=e.mapped.reduce((function(e,n){return e+(n.usedMoney||0)}),0),i=n?(r/n*100).toFixed(1):0;return U(Er||(Er=yi(['\n                <div class="breakdown-card">\n                  <div class="breakdown-header">\n                    <h4>','</h4>\n                    <span class="benefit-count">',' Benefits</span>\n                  </div>\n                  <div class="breakdown-stats">\n                    <div class="stat-row">\n                      <span class="stat-label">Total Coverage:</span>\n                      <span class="stat-value">',' SAR</span>\n                    </div>\n                    <div class="stat-row">\n                      <span class="stat-label">Amount Used:</span>\n                      <span class="stat-value">',' SAR</span>\n                    </div>\n                    <div class="stat-row">\n                      <span class="stat-label">Utilization:</span>\n                      <span class="stat-value ','">\n                        ','%\n                      </span>\n                    </div>\n                  </div>\n                  <div class="benefits-list">\n                    <table class="benefits-detail-table">\n                      <thead>\n                        <tr>\n                          <th>Benefit Name</th>\n                          <th>Category</th>\n                          <th>Network</th>\n                          <th>Coverage</th>\n                          <th>Used</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        ',"\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              "])),e.name,e.mapped.length,n.toLocaleString(),r.toLocaleString(),i>75?"high-utilization":i>50?"medium-utilization":"low-utilization",i,e.mapped.map((function(e){return U(Pr||(Pr=yi(["\n                          <tr>\n                            <td>","</td>\n                            <td>","</td>\n                            <td>","</td>\n                            <td>"," ","</td>\n                            <td>"," ","</td>\n                          </tr>\n                        "])),e.name,e.categoryCode,e.networkCode,e.allowedMoney.toLocaleString(),e.allowedCurrency,e.usedMoney.toLocaleString(),e.usedCurrency)})))})))}},{key:"renderFacilityLicenseFields",value:function(e){var n=this;return e?U(Or||(Or=yi(['\n      <div class="form-grid">\n        ',"\n\n        ","\n      </div>\n    "])),null===e.lisenceNo||void 0===e.lisenceNo||e.lisenceNo?U(Cr||(Cr=yi(['\n          <div class="form-field-wrapper">\n            <input \n              type="text" \n              name="facilityLicense" \n              id="facilityLicense"\n              .value="','"\n              @input="','"\n              class="form-input ','"\n              placeholder=" "\n            />\n            <label \n              for="facilityLicense"\n              class="form-label"\n            >\n              Facility Location License\n            </label>\n          </div>\n        '])),this.manualFormData.facilityLicense||e.lisenceNo||"",(function(e){return n.handleManualInputChange(e)}),this.dirtyFields.facilityLicense?"dirty":""):null,null===e.facilityOrgLicenseNumber||void 0===e.facilityOrgLicenseNumber||e.facilityOrgLicenseNumber?U(Ar||(Ar=yi(['\n          <div class="form-field-wrapper">\n            <input \n              type="text" \n              name="orgLicense" \n              id="orgLicense"\n              .value="','"\n              @input="','"\n              class="form-input ','"\n              placeholder=" "\n            />\n            <label \n              for="orgLicense"\n              class="form-label"\n            >\n              Provider Organization License\n            </label>\n          </div>\n        '])),this.manualFormData.orgLicense||e.facilityOrgLicenseNumber||"",(function(e){return n.handleManualInputChange(e)}),this.dirtyFields.orgLicense?"dirty":""):null):null}},{key:"renderVerificationForm",value:function(){var e,n=this,t=null===(e=this.selectedPatient)||void 0===e?void 0:e.insuranceInfo,r=this.selectedFacility;return U(Tr||(Tr=yi(['\n      <div class="form-container">\n        <div class="form-section">\n          <h4 class="form-section-title">Facility Information</h4>\n          <div class="form-field-wrapper">\n            <select \n              @change="','"\n              class="form-select"\n            >\n              <option value="">Select a facility...</option>\n              ','\n            </select>\n            <label class="form-label">Select Facility</label>\n          </div>\n\n          ','\n        </div>\n\n        <div class="form-section">\n           <h4 class="form-section-title">Edit Insurance Information</h4>\n          ',"\n\n          ",'\n        </div>\n\n        <div class="form-section">\n          <h4 class="form-section-title">Additional Patient Information</h4>\n          <div class="form-grid">\n            <div class="form-field-wrapper">\n              <input \n                type="text" \n                name="occupation" \n                id="occupation"\n                .value="','"\n                @input="','"\n                class="form-input ','" \n                placeholder=" "\n              />\n              <label for="occupation" class="form-label">\n                Occupation\n              </label>\n            </div>\n\n            <div class="form-field-wrapper">\n              <select \n                name="maritalStatus"\n                .value="','"\n                @change="','"\n                class="form-select ','"\n              >\n                <option value="">Select status...</option>\n                <option value="Single">Single</option>\n                <option value="Married">Married</option>\n                <option value="Divorced">Divorced</option>\n                <option value="Widowed">Widowed</option>\n              </select>\n              <label class="form-label">Marital Status</label>\n            </div>\n          </div>\n        </div>\n\n        <div class="form-section">\n          <h4 class="form-section-title">Service Period</h4>\n          <div class="form-grid">\n            <div class="form-field-wrapper">\n              <input \n                type="datetime-local"\n                .value="','"\n                @change="','"\n                class="form-input"\n              />\n              <label class="form-label">Start Date</label>\n            </div>\n\n            <div class="form-field-wrapper">\n              <input \n                type="datetime-local"\n                .value="','"\n                @change="','"\n                class="form-input"\n              />\n              <label class="form-label">End Date</label>\n            </div>\n          </div>\n        </div>\n      </div>\n    '])),this.handleFacilityChange,this.facilities.map((function(e){return U(Dr||(Dr=yi(['\n                <option value="','">',"</option>\n              "])),e.id,e.facilityName)})),r?this.renderFacilityLicenseFields(r):null,t&&!this.isManualMode?U(Ir||(Ir=yi(['\n            <div class="insurance-toggle">\n              <span class="insurance-text">Using existing insurance: ','</span>\n              <button @click="','" class="toggle-button">\n                Use Different Insurance\n              </button>\n            </div>\n          '])),this.selectedPatient.insuranceInfo.company,this.toggleManualMode):U(jr||(jr=yi(['\n            <div class="form-field-wrapper">\n              <select \n                @change="','"\n                class="form-select"\n              >\n                <option value="">Select an insurance company...</option>\n                ','\n              </select>\n              <label class="form-label">Select Insurance Company</label>\n            </div>\n          '])),this.handleInsuranceCompanyChange,this.insuranceCompanies.map((function(e){return U(Nr||(Nr=yi(['\n                  <option value="','">',"</option>\n                "])),e.id,e.companyName)}))),!this.isManualMode&&t||!this.selectedInsuranceCompany?null:U(Lr||(Lr=yi(['\n            <div class="form-field-wrapper">\n              <input \n                type="text" \n                name="insuranceLicense" \n                id="insuranceLicense"\n                .value="','"\n                @input="','"\n                class="form-input ','" \n                placeholder=" "\n              />\n              <label for="insuranceLicense" class="form-label">\n                Insurance License Number\n              </label>\n            </div>\n          '])),this.manualFormData.insuranceLicenseNumber,this.handleManualInputChange,this.dirtyFields.insuranceLicense?"dirty":""),this.manualFormData.occupation,this.handleManualInputChange,this.dirtyFields.occupation?"dirty":"",this.manualFormData.maritalStatus,this.handleManualInputChange,this.dirtyFields.maritalStatus?"dirty":"",this.servicePeriod.startDate.split(".")[0],(function(e){return n.updateServicePeriod(e.target.value,n.servicePeriod.endDate)}),this.servicePeriod.endDate.split(".")[0],(function(e){return n.updateServicePeriod(n.servicePeriod.startDate,e.target.value)}))}},{key:"render",value:function(){var e,n=this;return U(Rr||(Rr=yi(["\n      ",'\n      <div class="wrapper">\n        <div class="header">\n          Coverage Eligibility Verification Center\n          <img src="','" class="nphies-logo" alt="NPHIES">\n          <button class="close-button" @click="','">\n            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />\n            </svg>\n          </button>\n        </div>\n        \n        <div class="tabs">\n          <div class="tab ','"\n               @click="','">\n            COVERAGE\n          </div>\n          <div class="tab ','"\n               @click="','"\n               style="','">\n            CONTRACT\n          </div>\n          <div class="tab ','"\n               @click="','"\n               style="','">\n            BENEFITS / PLAN COPAYS\n          </div>\n        </div>\n\n        <div class="content">\n          ',"\n        </div>\n      </div>\n    "])),this.renderLoadingOverlay(),Gt,this.handleClose,"coverage"===this.activeTab?"active":"",(function(){return n.switchTab("coverage")}),"contract"===this.activeTab?"active":"",(function(){return n.isVerified?n.switchTab("contract"):null}),this.isVerified?"":"opacity: 0.5; cursor: not-allowed;","benefits"===this.activeTab?"active":"",(function(){return n.switchTab("benefits")}),this.isVerified?"":"opacity: 0.5; cursor: not-allowed;",this.selectedPatient?U(Fr||(Fr=yi(['\n            <div class="animate-in">\n              <button class="back-button" @click="','">Back to Search</button>\n              ',"\n            </div>\n          "])),this.handleBack,"coverage"===this.activeTab?U(Mr||(Mr=yi(["\n                ","\n                ","\n                ","\n                ","\n              "])),this.renderPatientInfo(),this.renderInsuranceInfo(),this.isVerified?null:this.renderVerificationForm(),this.renderVerificationActions()):"contract"===this.activeTab?U(zr||(zr=yi(['\n                <insurance-contract-manager\n                  .insuranceCompanyId="','"\n                  @contract-selected="','"\n                ></insurance-contract-manager>\n              '])),null===(e=this.selectedInsuranceCompany)||void 0===e?void 0:e.id,this.handleContractSelected):U(Br||(Br=yi(["\n                ","\n              "])),this.isMappingComplete?this.renderMappedBenefits():this.renderBenefitsMapping())):U(_r||(_r=yi(['\n            <div class="search-wrapper">\n              <patient-search @patient-selected="','"></patient-search>\n            </div>\n          '])),this.handlePatientSelected))}},{key:"handleClose",value:function(){var e=new CustomEvent("close",{bubbles:!0,composed:!0,detail:{source:"close-button"}});this.dispatchEvent(e)}},{key:"prepareVerificationPayload",value:function(){var e,n,t,r,i,o,a;if(!this.selectedPatient||!this.selectedFacility)return null;var s=this.selectedPatient.fullData,c=this.selectedPatient.name.split(" "),l=this.isManualMode?this.selectedInsuranceCompany:null!==(e=this.selectedPatient)&&void 0!==e&&e.insuranceInfo?{companyName:this.selectedPatient.insuranceInfo.company}:this.selectedInsuranceCompany,d=this.manualFormData.facilityLicense||this.selectedFacility.lisenceNo,u=this.manualFormData.orgLicense||this.selectedFacility.facilityOrgLicenseNumber,p=(null===(n=this.selectedPatient)||void 0===n||null===(n=n.insuranceCoverages)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.payerId)||(null===(t=this.selectedInsuranceCompany)||void 0===t?void 0:t.id)||(null===(r=s.patientInsurances)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.payerId)||(null===(i=s.patientInsurances)||void 0===i||null===(i=i[0])||void 0===i||null===(i=i.Payer)||void 0===i?void 0:i.Id),h=this.dirtyFields.nationalId?this.validateNationalId(this.selectedPatient.nationalId)?this.selectedPatient.nationalId:null:s.nic,f=h||this.selectedPatient.passportNumber,m=h?"http://nphies.sa/identifier/iqama":"http://nphies.sa/identifier/passport";return{PatientInfo:{Id:s.id,IqamaId:f,IdentifierSystem:m,FullName:this.selectedPatient.name,FamilyName:s.lastName||c[c.length-1],GivenNames:[s.firstName||c[0],s.middleName||(c.length>2?c.slice(1,-1).join(" "):"")].filter(Boolean),PhoneNumber:s.cellPhoneNo,Gender:(null===(o=s.gender)||void 0===o?void 0:o.genderName)||"Unknown",BirthDate:s.dateOfBirth,Occupation:this.manualFormData.occupation||"Unknown",MaritalStatus:this.manualFormData.maritalStatus||(null===(a=s.maritalStatus)||void 0===a?void 0:a.status)||"Unknown"},ProviderInfo:{LicenseNumber:d||"N/A",Name:this.selectedFacility.facilityName,Type:this.selectedFacility.facilityType.toString(),Active:!0},InsurerInfo:{LicenseNumber:(null==l?void 0:l.licenseNumber)||this.manualFormData.insuranceLicenseNumber||"INS-FHIR",Name:(null==l?void 0:l.companyName)||"Unknown",Active:!0,PayerId:p},LocationInfo:{LicenseNumber:u||this.selectedFacility.dhausername||"GACH",Name:this.selectedFacility.facilityName,Active:!0},ServicePeriod:this.servicePeriod}}},{key:"updateServicePeriod",value:function(e,n){this.servicePeriod={startDate:e||(new Date).toISOString(),endDate:n||(new Date).toISOString().split("T")[0]+"T23:59:59"}}},{key:"setActiveServiceType",value:function(e){this.activeServiceTypeId=e,this.requestUpdate()}},{key:"getMappingProgress",value:function(){var e=this.serviceTypes.reduce((function(e,n){var t;return e+((null===(t=n.mapped)||void 0===t?void 0:t.length)||0)}),0),n=this.availableBenefits.length;return"".concat(e," of ").concat(n," benefits mapped")}},{key:"handleBenefitSearch",value:function(e){this.benefitSearchQuery=e.target.value.toLowerCase(),this.requestUpdate()}},{key:"mapBenefit",value:function(e,n){var t=this.serviceTypes.find((function(n){return n.id===e}));t.mapped||(t.mapped=[]),t.mapped.push(n),this.mappedBenefitIds.add(n.id),this.requestUpdate()}},{key:"unmapBenefit",value:function(e,n){var t=this.serviceTypes.find((function(n){return n.id===e}));t.mapped&&(t.mapped=t.mapped.filter((function(e){return e.id!==n})),this.mappedBenefitIds.delete(n)),this.requestUpdate()}},{key:"loadPolicies",value:(r=pi(di().mark((function e(){var n,t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Dn.INSURANCE_POLICY.PAGED,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:1,pageSize:100})});case 3:return n=e.sent,e.next=6,n.json();case 6:(t=e.sent).isSuccessfull&&(this.availablePolicies=t.dynamicResult,console.log("Loaded policies:",this.availablePolicies)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error loading policies:",e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return r.apply(this,arguments)})},{key:"generatePlanCode",value:function(e){var n=e.split(" ").map((function(e){return e[0]})).join("").toUpperCase(),t=Math.floor(1e4*Math.random()).toString().padStart(4,"0");return"".concat(n,"-").concat(t)}},{key:"calculateAnnualLimit",value:function(e){return e.reduce((function(e,n){var t;return null!==(t=n.termCode)&&void 0!==t&&t.toLowerCase().includes("annual")?e+(n.allowedMoney||0):e}),0)}},{key:"handleContractSetup",value:function(){this.selectedInsuranceCompany&&(this.activeTab="contract",this.contractInfo={insuranceCompany:this.selectedInsuranceCompany,companyName:this.selectedInsuranceCompany.companyName,companyCode:this.selectedInsuranceCompany.companyCode})}},{key:"renderContractSetup",value:function(){var e,n,t,r,i=this;return U(Ur||(Ur=yi(['\n      <div class="section-card">\n        <div class="section-header">\n          <div>\n            <h3 class="section-title">Contract Setup</h3>\n            <p class="section-subtitle">Set up insurance contract and plan details</p>\n      </div>\n        </div>\n\n        <div class="contract-mode-toggle">\n          <label class="toggle-switch">\n            <input \n              type="checkbox" \n              @change="','"\n              .checked="','"\n            >\n            <span class="toggle-slider"></span>\n          </label>\n          <span class="toggle-label">',"</span>\n        </div>\n\n        ",'\n\n        <div class="action-buttons">\n          <button class="secondary-button" @click="','">\n            Back\n          </button>\n          <button \n            class="primary-button" \n            @click="','"\n            ?disabled="','"\n          >\n            Continue\n          </button>\n        </div>\n      </div>\n    '])),(function(e){return i.contractMode=e.target.checked?"new":"existing"}),"new"===this.contractMode,"new"===this.contractMode?"Create New Contract":"Select Existing Contract","existing"===this.contractMode?U(Vr||(Vr=yi(['\n          <div class="form-section">\n            <div class="form-field-wrapper">\n              <select \n                class="form-select"\n                @change="','"\n                .value="','"\n              >\n                <option value="">Select Contract...</option>\n                ','\n              </select>\n              <label class="form-label">Select Contract</label>\n            </div>\n\n            ',"\n          </div>\n        "])),this.handleExistingContractSelect,(null===(e=this.selectedExistingContract)||void 0===e?void 0:e.id)||"",null===(n=this.selectedInsuranceCompany)||void 0===n||null===(n=n.contracts)||void 0===n?void 0:n.map((function(e){return U(qr||(qr=yi(['\n                  <option value="','">',"</option>\n                "])),e.id,e.contractName)})),this.selectedExistingContract?U(Hr||(Hr=yi(['\n              <div class="form-field-wrapper">\n                <select \n                  class="form-select"\n                  @change="','"\n                  .value="','"\n                >\n                  <option value="">Select Plan...</option>\n                  ','\n                </select>\n                <label class="form-label">Select Plan</label>\n              </div>\n            '])),this.handleExistingPlanSelect,(null===(t=this.selectedExistingPlan)||void 0===t?void 0:t.id)||"",null===(r=this.selectedExistingContract.plans)||void 0===r?void 0:r.map((function(e){return U(Gr||(Gr=yi(['\n                    <option value="','">',"</option>\n                  "])),e.id,e.planName)}))):null):U($r||($r=yi(['\n          <div class="form-section">\n            <div class="form-field-wrapper">\n              <input \n                type="text" \n                class="form-input"\n                .value="','"\n                @input="','"\n                readonly\n                placeholder=" "\n              />\n              <label class="form-label">Contract Name</label>\n            </div>\n\n            <div class="form-field-wrapper">\n              <input \n                type="text" \n                class="form-input"\n                .value="','"\n                @input="','"\n                placeholder=" "\n              />\n              <label class="form-label">Plan Name</label>\n            </div>\n\n            <div class="form-field-wrapper">\n              <select \n                class="form-select"\n                @change="','"\n                .value="','"\n              >\n                <option value="">Select Category...</option>\n                <option value="VIP">VIP</option>\n                <option value="A">A</option>\n                <option value="B">B</option>\n                <option value="C">C</option>\n              </select>\n              <label class="form-label">Plan Category</label>\n            </div>\n\n            <div class="form-field-wrapper">\n              <input \n                type="number" \n                class="form-input"\n                .value="','"\n                @input="','"\n                placeholder=" "\n              />\n              <label class="form-label">Annual Limit</label>\n            </div>\n\n            <div class="form-field-wrapper">\n              <input \n                type="number" \n                class="form-input"\n                .value="','"\n                @input="','"\n                placeholder=" "\n              />\n              <label class="form-label">Max Deductible</label>\n            </div>\n\n            <div class="form-field-wrapper">\n              <input \n                type="number" \n                class="form-input"\n                .value="','"\n                @input="','"\n                placeholder=" "\n              />\n              <label class="form-label">Copay Amount</label>\n            </div>\n\n            <div class="form-field-wrapper">\n              <label class="checkbox-wrapper">\n                <input \n                  type="checkbox"\n                  .checked="','"\n                  @change="','"\n                />\n                <span class="checkbox-label">Copay on Gross</span>\n              </label>\n            </div>\n          </div>\n        '])),this.contractName,this.handleContractNameChange,this.planName,this.handlePlanNameChange,this.handlePlanCategoryChange,this.planCategory,this.annualLimit,this.handleAnnualLimitChange,this.maxDeductible,this.handleMaxDeductibleChange,this.copayAmount,this.handleCopayAmountChange,this.copayOnGross,this.handleCopayOnGrossChange),this.handleBack,this.handleContractSubmit,!this.isContractValid())}},{key:"handlePolicySelect",value:function(e){var n=parseInt(e.target.value),t=this.availablePolicies.find((function(e){return e.id===n}));if(t){var r,i,o=(null===(r=this.availableBenefits)||void 0===r||null===(r=r.find((function(e){var n;return null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes("health benefit plan coverage")})))||void 0===r?void 0:r.allowedMoney)||0;this.selectedContract={id:null,fkCompanyId:null===(i=this.selectedInsuranceCompany)||void 0===i?void 0:i.id,contractName:"".concat(t.policyName," Contract ").concat((new Date).getFullYear()),insurancePlans:[{id:null,planName:"".concat(t.policyName," Plan"),planCode:this.generatePlanCode(t.policyName),planCategory:t.policyCategory||"",fkContractId:0,fkPolicyId:t.id,copayAmount:t.copayAmount||0,annualLimit:t.annualLimit||1e5,maxDeductable:o,level:1,createdBy:81,copayOnGross:0,startDate:t.startDate,endDate:t.endDate,policyNumber:t.policyNumber,insurancePlanservicelists:[],insuranceSlabs:this.generateInsuranceSlabs()}]}}else this.selectedContract=null;this.requestUpdate()}},{key:"generateInsuranceSlabs",value:function(){var e=[];return this.serviceTypes.forEach((function(n){n.mapped&&n.mapped.length>0&&n.mapped.forEach((function(t){e.push({id:null,fkPlanId:0,fkServiceTypeId:n.id,fkSlabStatus:2,amountLimit:t.allowedMoney||0,patientShare:0,maxDeductale:t.allowedMoney||0,outDet:t.allowedMoney||0,noofUnits:1,fkUnitTypeId:1,remarks:t.description||""})}))})),e}},{key:"handleContractNameChange",value:function(e){this.selectedContract&&(this.selectedContract.name=e.target.value,this.requestUpdate())}},{key:"handlePlanNameChange",value:function(e){var n;null!==(n=this.selectedContract)&&void 0!==n&&null!==(n=n.insurancePlans)&&void 0!==n&&n[0]&&(this.selectedContract.insurancePlans[0].name=e.target.value,this.selectedContract.insurancePlans[0].code=this.generatePlanCode(e.target.value),this.requestUpdate())}},{key:"handlePlanCategoryChange",value:function(e){var n;null!==(n=this.selectedContract)&&void 0!==n&&null!==(n=n.insurancePlans)&&void 0!==n&&n[0]&&(this.selectedContract.insurancePlans[0].category=e.target.value,this.requestUpdate())}},{key:"handleAnnualLimitChange",value:function(e){var n;null!==(n=this.selectedContract)&&void 0!==n&&null!==(n=n.insurancePlans)&&void 0!==n&&n[0]&&(this.selectedContract.insurancePlans[0].annualLimit=parseFloat(e.target.value)||0,this.requestUpdate())}},{key:"handleMaxDeductibleChange",value:function(e){var n;null!==(n=this.selectedContract)&&void 0!==n&&null!==(n=n.insurancePlans)&&void 0!==n&&n[0]&&(this.selectedContract.insurancePlans[0].maxDeductable=parseFloat(e.target.value)||0,this.requestUpdate())}},{key:"handleCopayAmountChange",value:function(e){var n;null!==(n=this.selectedContract)&&void 0!==n&&null!==(n=n.insurancePlans)&&void 0!==n&&n[0]&&(this.selectedContract.insurancePlans[0].copayAmount=parseFloat(e.target.value)||0,this.requestUpdate())}},{key:"handleCopayOnGrossChange",value:function(e){var n;null!==(n=this.selectedContract)&&void 0!==n&&null!==(n=n.insurancePlans)&&void 0!==n&&n[0]&&(this.selectedContract.insurancePlans[0].copayOnGross=parseInt(e.target.value),this.requestUpdate())}},{key:"handleContractSubmit",value:function(){console.log("Contract submitted:",this.selectedContract),this.switchTab("benefits")}},{key:"renderVerificationActions",value:function(){var e=this;return U(Yr||(Yr=yi(["\n      ","\n    "])),this.isVerified?U(Qr||(Qr=yi(['\n        <button class="verify-button" disabled>VERIFIED</button>\n        <button \n          class="map-benefits-button primary-button" \n          @click="','"\n        >\n          PROCEED TO CONTRACT SETUP\n        </button>\n      '])),(function(){return e.switchTab("contract")})):U(Jr||(Jr=yi(['\n        <button \n          class="verify-button" \n          @click="','"\n          ?disabled="','"\n        >\n          ',"\n        </button>\n      "])),this.handleVerify,this.isVerifying||!this.selectedFacility,this.isVerifying?U(Wr||(Wr=yi(['\n            <div class="loader"></div>\n            VERIFYING...\n          ']))):"VERIFY"))}},{key:"validateNationalId",value:function(e){return e&&10===e.length&&e.startsWith("2")}},{key:"handleNationalIdChange",value:function(e){var n=e.target.value;this.selectedPatient=ci(ci({},this.selectedPatient),{},{nationalId:n}),this.dirtyFields=ci(ci({},this.dirtyFields),{},{nationalId:!0}),this.requestUpdate()}},{key:"saveContract",value:(t=pi(di().mark((function e(){var n,t,r,i,o,a,s,c,l;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(new Date).toISOString(),r={id:null===(n=this.selectedContract)||void 0===n?void 0:n.id,fkCompanyId:this.selectedInsuranceCompany.id,contractName:this.selectedContract.contractName,creationDate:t,contractDate:this.selectedContract.contractDate||t,rowStatus:1,createdby:81,filePath:this.selectedContract.filePath||"",insurancePlans:[{id:this.selectedContract.insurancePlans[0].id,planName:this.selectedContract.insurancePlans[0].planName,planCode:this.selectedContract.insurancePlans[0].planCode,planCategory:this.selectedContract.insurancePlans[0].planCategory||"",startDate:this.selectedContract.insurancePlans[0].startDate||t,endDate:this.selectedContract.insurancePlans[0].endDate||new Date((new Date).setFullYear((new Date).getFullYear()+1)).toISOString(),createdby:81,rowStatus:1,maxDeductable:this.selectedContract.insurancePlans[0].maxDeductable||0,level:this.selectedContract.insurancePlans[0].level||1,copayOnGross:this.selectedContract.insurancePlans[0].copayOnGross||0,copayAmount:this.selectedContract.insurancePlans[0].copayAmount||0,annualLimit:this.selectedContract.insurancePlans[0].annualLimit||0,fkPolicyId:this.selectedContract.insurancePlans[0].fkPolicyId,insuranceSlabs:this.selectedContract.insurancePlans[0].insuranceSlabs||[]}]},i=Dn.INSURANCE_CONTRACT.BASE,o=this.selectedContract.id?"PUT":"POST",a="PUT"===o?"".concat(i,"/").concat(this.selectedContract.id):i,console.log("Saving contract with payload:",r),e.next=9,fetch(a,{method:o,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 9:return s=e.sent,e.next=12,s.json();case 12:if(!(c=e.sent).isSuccessfull){e.next=19;break}this.selectedContract=c.dynamicResult,console.log("Contract saved successfully:",c.dynamicResult),this.activeTab="benefits",e.next=20;break;case 19:throw new Error(c.errorMessage||"Failed to save contract");case 20:e.next=30;break;case 22:e.prev=22,e.t0=e.catch(0),console.error("Error saving contract:",e.t0),(l=document.createElement("div")).className="error-message",l.textContent=e.t0.message||"Failed to save contract",this.shadowRoot.querySelector(".contract-setup-section").appendChild(l),setTimeout((function(){l.remove()}),5e3);case 30:case"end":return e.stop()}}),e,this,[[0,22]])}))),function(){return t.apply(this,arguments)})},{key:"handleExistingContractSelect",value:function(e){var n,t=e.target.value;this.selectedExistingContract=null===(n=this.selectedInsuranceCompany.contracts)||void 0===n?void 0:n.find((function(e){return e.id.toString()===t})),this.selectedExistingPlan=null}},{key:"handleExistingPlanSelect",value:function(e){var n,t=e.target.value;this.selectedExistingPlan=null===(n=this.selectedExistingContract.plans)||void 0===n?void 0:n.find((function(e){return e.id.toString()===t}))}},{key:"isContractValid",value:function(){return"existing"===this.contractMode?this.selectedExistingContract&&this.selectedExistingPlan:this.contractName&&this.planName&&this.planCategory&&this.annualLimit&&this.maxDeductible&&void 0!==this.copayAmount}},{key:"renderLoadingOverlay",value:function(){return this.isLoading?U(Kr||(Kr=yi(['\n      <div class="loading-overlay">\n        <div class="loading-spinner"></div>\n        <div class="loading-text">Loading...</div>\n      </div>\n    ']))):null}},{key:"handleContractSelected",value:function(e){var n=e.detail,t=n.contract,r=n.plan;this.selectedContract=t,r&&(this.selectedPlan=r,this.switchTab("benefits"))}}],[{key:"properties",get:function(){return{activeTab:{type:String},isMappingLoader:{type:Boolean},selectedPatient:{type:Object},insuranceInfo:{type:Object},isVerifying:{type:Boolean},isVerified:{type:Boolean},coverageDetails:{type:Object},serviceTypes:{type:Array},mappedBenefits:{type:Object},availableBenefits:{type:Array},isMappingComplete:{type:Boolean},providerInfo:{type:Object},locationInfo:{type:Object},servicePeriod:{type:Object},facilities:{type:Array},insuranceCompanies:{type:Array},selectedFacility:{type:Object},selectedInsuranceCompany:{type:Object},isManualMode:{type:Boolean},manualFormData:{type:Object},dirtyFields:{type:Object},mappedBenefitIds:{type:Set},activeServiceTypeId:{type:Number},benefitSearchQuery:{type:String},selectedContract:{type:Object},selectedPlan:{type:Object},isLoading:{type:Boolean},isAutoMapping:{type:Boolean},discovery:{type:Object},autoMappingProgress:{type:Number},lastAutoMapResult:{type:String}}}},{key:"styles",get:function(){return[Hi,c(Xr||(Xr=yi(["\n        @keyframes successPulse {\n          0% { transform: scale(1); }\n          50% { transform: scale(1.1); background-color: #059669; }\n          100% { transform: scale(1); }\n        }\n\n        @keyframes errorShake {\n          0%, 100% { transform: translateX(0); }\n          25% { transform: translateX(-10px); }\n          75% { transform: translateX(10px); }\n        }\n\n        .success-animation {\n          animation: successPulse 0.5s ease-in-out;\n          background-color: #059669 !important;\n        }\n\n        .error-animation {\n          animation: errorShake 0.5s ease-in-out;\n          background-color: #EF4444 !important;\n        }\n\n        .error-message {\n          color: #EF4444;\n          font-size: 0.875rem;\n          margin-top: 0.5rem;\n          text-align: center;\n          font-weight: 500;\n          padding: 0.5rem;\n          background-color: #FEE2E2;\n          border-radius: 0.375rem;\n          margin: 1rem 2rem;\n        }\n\n        .benefits-report {\n          padding: 2rem;\n        background: white;\n        }\n\n        .report-header {\n          border-bottom: 2px solid #E5E7EB;\n          padding-bottom: 1.5rem;\n          margin-bottom: 2rem;\n        }\n\n        .report-header h2 {\n          color: #1F2937;\n          font-size: 1.5rem;\n          font-weight: 600;\n          margin: 0 0 1rem 0;\n        }\n\n        .report-meta {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 1rem;\n        }\n\n        .meta-item {\n          display: flex;\n          flex-direction: column;\n          gap: 0.25rem;\n        }\n\n        .meta-label {\n          color: #6B7280;\n          font-size: 0.875rem;\n        }\n\n        .meta-value {\n          color: #111827;\n        font-weight: 500;\n        }\n\n        .report-summary {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 1.5rem;\n          margin-bottom: 2rem;\n        }\n\n        .summary-box {\n          background: #F9FAFB;\n          border: 1px solid #E5E7EB;\n          border-radius: 0.5rem;\n          padding: 1.5rem;\n          text-align: center;\n        }\n\n        .summary-title {\n          color: #6B7280;\n          font-size: 0.875rem;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n        }\n\n        .summary-value {\n          color: #111827;\n          font-size: 2rem;\n          font-weight: 600;\n          margin: 0.5rem 0;\n        }\n\n        .summary-subtitle {\n          color: #6B7280;\n          font-size: 0.875rem;\n        }\n\n        .service-type-breakdown {\n          margin-top: 2rem;\n        }\n\n        .service-type-breakdown h3 {\n          color: #1F2937;\n          font-size: 1.25rem;\n          font-weight: 600;\n          margin-bottom: 1.5rem;\n        }\n\n        .breakdown-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));\n          gap: 1.5rem;\n        }\n\n        .breakdown-card {\n          background: white;\n          border: 1px solid #E5E7EB;\n          border-radius: 0.5rem;\n          padding: 1.5rem;\n        }\n\n        .breakdown-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n          margin-bottom: 1rem;\n          padding-bottom: 1rem;\n          border-bottom: 1px solid #E5E7EB;\n        }\n\n        .breakdown-header h4 {\n          color: #111827;\n          font-size: 1.125rem;\n          font-weight: 600;\n          margin: 0;\n        }\n\n        .benefit-count {\n          background: #EEF2FF;\n          color: #4F46E5;\n          padding: 0.25rem 0.75rem;\n          border-radius: 9999px;\n          font-size: 0.875rem;\n          font-weight: 500;\n        }\n\n        .breakdown-stats {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 1rem;\n          margin-bottom: 1.5rem;\n        }\n\n        .stat-row {\n          display: flex;\n          flex-direction: column;\n          gap: 0.25rem;\n        }\n\n        .stat-label {\n          color: #6B7280;\n          font-size: 0.875rem;\n        }\n\n        .stat-value {\n          color: #111827;\n          font-weight: 500;\n        }\n\n        .high-utilization { color: #DC2626; }\n        .medium-utilization { color: #D97706; }\n        .low-utilization { color: #059669; }\n\n        .benefits-detail-table {\n          width: 100%;\n          border-collapse: collapse;\n          font-size: 0.875rem;\n        }\n\n        .benefits-detail-table th {\n        background: #F9FAFB;\n          color: #374151;\n          font-weight: 500;\n          text-align: left;\n          padding: 0.75rem;\n          border-bottom: 1px solid #E5E7EB;\n        }\n\n        .benefits-detail-table td {\n          padding: 0.75rem;\n          border-bottom: 1px solid #E5E7EB;\n          color: #111827;\n        }\n\n        .benefits-detail-table tr:last-child td {\n          border-bottom: none;\n        }\n\n        @media (max-width: 768px) {\n          .breakdown-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .breakdown-stats {\n            grid-template-columns: 1fr;\n          }\n\n          .benefits-detail-table {\n        display: block;\n            overflow-x: auto;\n          }\n        }\n\n        .contract-setup-section {\n          padding: 0 2rem;\n          margin-top: 2rem;\n        }\n\n        .contract-actions {\n          margin-top: 2rem;\n        display: flex;\n          justify-content: flex-end;\n        }\n\n        .primary-button {\n          background: #463AA1;\n          color: white;\n          padding: 0.75rem 1.5rem;\n          border: none;\n        border-radius: 0.5rem;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .primary-button:disabled {\n          background: #9CA3AF;\n          cursor: not-allowed;\n        }\n\n        .primary-button:hover:not(:disabled) {\n          background: #3c319c;\n          transform: translateY(-1px);\n        }\n\n        .overall-progress {\n          grid-column: span 2;\n          background: #F0F9FF;\n          border: 1px solid #BAE6FD;\n        }\n\n        .progress-stats {\n          display: flex;\n          flex-direction: column;\n        gap: 0.5rem;\n          margin: 0.5rem 0;\n        }\n\n        .progress-item {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        font-size: 0.875rem;\n        }\n\n        .progress-label {\n        color: #6B7280;\n          min-width: 4rem;\n        }\n\n        .progress-value {\n          font-weight: 600;\n          color: #0369A1;\n        }\n\n        .progress-remaining {\n          color: #6B7280;\n          font-size: 0.75rem;\n        }\n\n        .progress-bar {\n          height: 0.5rem;\n          background: #E0F2FE;\n          border-radius: 0.25rem;\n          overflow: hidden;\n          margin-top: 0.5rem;\n        }\n\n        .progress-fill {\n          height: 100%;\n          background: #0EA5E9;\n          border-radius: 0.25rem;\n          transition: width 0.3s ease;\n        }\n\n        .summary-cards {\n          display: grid;\n          grid-template-columns: repeat(2, 1fr);\n          gap: 1rem;\n        margin-bottom: 1.5rem;\n      }\n\n        .contract-mode-toggle {\n        display: flex;\n        align-items: center;\n          gap: 1rem;\n          margin-bottom: 2rem;\n        padding: 1rem;\n          background: #F9FAFB;\n        border-radius: 0.5rem;\n        }\n\n        .toggle-switch {\n          position: relative;\n          display: inline-block;\n          width: 60px;\n          height: 34px;\n        }\n\n        .toggle-switch input {\n          opacity: 0;\n          width: 0;\n          height: 0;\n        }\n\n        .toggle-slider {\n          position: absolute;\n          cursor: pointer;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: #ccc;\n          transition: .4s;\n          border-radius: 34px;\n        }\n\n        .toggle-slider:before {\n          position: absolute;\n          content: \"\";\n          height: 26px;\n          width: 26px;\n          left: 4px;\n          bottom: 4px;\n          background-color: white;\n          transition: .4s;\n          border-radius: 50%;\n        }\n\n        input:checked + .toggle-slider {\n          background-color: #059669;\n        }\n\n        input:checked + .toggle-slider:before {\n          transform: translateX(26px);\n        }\n\n        .toggle-label {\n          font-size: 0.875rem;\n          font-weight: 500;\n          color: #374151;\n        }\n\n        .benefits-section {\n          padding: 0 2rem;\n          width: 100%;\n          box-sizing: border-box;\n        }\n\n        .benefits-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 1rem;\n          background: #F9FAFB;\n          border-bottom: 1px solid #E5E7EB;\n          position: sticky;\n          top: 0;\n          z-index: 10;\n        }\n\n        .auto-map-all-button {\n          position: relative;\n          padding: 0.75rem 1.5rem;\n          background: linear-gradient(135deg, #463AA1, #5B4FC7);\n          color: white;\n          border: none;\n          border-radius: 0.5rem;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          margin-bottom: 1rem;\n          width: 100%;\n          text-align: center;\n          box-shadow: 0 4px 6px -1px rgba(70, 58, 161, 0.1);\n          overflow: hidden;\n        }\n\n        .auto-map-all-button::after {\n          content: '';\n          position: absolute;\n          top: -50%;\n          left: -50%;\n          width: 200%;\n          height: 200%;\n          background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);\n          transform: rotate(45deg);\n          animation: glowEffect 3s infinite;\n        }\n\n        .auto-map-all-button:hover {\n          background: linear-gradient(135deg, #5B4FC7, #463AA1);\n          transform: translateY(-2px);\n          box-shadow: 0 6px 8px -2px rgba(70, 58, 161, 0.2);\n        }\n\n        .auto-map-all-button:disabled {\n          background: #9CA3AF;\n          cursor: not-allowed;\n          transform: none;\n        }\n\n        .auto-map-all-button .progress {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          height: 3px;\n          background: rgba(255, 255, 255, 0.5);\n          transition: width 0.3s ease;\n        }\n\n        .mapping-status {\n          font-size: 0.875rem;\n          color: #6B7280;\n          margin-top: 0.5rem;\n          text-align: center;\n        }\n      "])))]}}]);var t,r,i,o,a,s,l,d,u,p}(se);function $i(e){return $i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$i(e)}function Yi(){Yi=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==$i(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError($i(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function Ji(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function Wi(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){Ji(o,r,i,a,s,"next",e)}function s(e){Ji(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Qi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ki(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Qi(Object(t),!0).forEach((function(n){Xi(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Xi(e,n,t){return(n=to(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Zi(e){return function(e){if(Array.isArray(e))return eo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return eo(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?eo(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function no(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,to(r.key),r)}}function to(e){var n=function(e){if("object"!=$i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=$i(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$i(n)?n:n+""}function ro(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ro=function(){return!!e})()}function io(e){return io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},io(e)}function oo(e,n){return oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},oo(e,n)}function ao(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}customElements.get("coverage-verification")||customElements.define("coverage-verification",Gi);var so,co,lo,uo,po,ho,fo,mo,vo,go,yo,bo,wo,xo,So,ko,Eo,Po,Oo,Co,Ao,To,Do,Io,jo,No,Lo,Ro,_o,Fo,Mo,zo,Bo,Uo,Vo,qo,Ho,Go,$o,Yo,Jo,Wo,Qo,Ko=c(bi||(bi=ao(["\n  :host {\n    display: block;\n    --primary-color: #4F46E5;\n    --secondary-color: #6B7280;\n    --success-color: #059669;\n    --danger-color: #DC2626;\n    --warning-color: #D97706;\n    --background-color: #F9FAFB;\n    --border-color: #E5E7EB;\n  }\n\n  .claim-container {\n    background: white;\n    border-radius: 1rem;\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n    margin: 1.5rem;\n    padding: 2rem;\n  }\n\n  .invoice-header {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: 2rem;\n    margin-bottom: 3rem;\n    padding-bottom: 2rem;\n    border-bottom: 2px solid var(--border-color);\n  }\n\n  .company-info, .patient-info {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .company-name, .patient-name {\n    font-size: 1.5rem;\n    font-weight: 600;\n    color: var(--primary-color);\n  }\n\n  .info-label {\n    font-size: 0.875rem;\n    color: var(--secondary-color);\n    font-weight: 500;\n  }\n\n  .info-value {\n    font-size: 1rem;\n    color: #111827;\n  }\n\n  .section {\n    margin-bottom: 2rem;\n    background: var(--background-color);\n    border-radius: 0.75rem;\n    padding: 1.5rem;\n  }\n\n  .section-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 1rem;\n  }\n\n  .section-title {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: #111827;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .section-title svg {\n    width: 1.5rem;\n    height: 1.5rem;\n    color: var(--primary-color);\n  }\n\n  .line-items {\n    border: 1px solid var(--border-color);\n    border-radius: 0.5rem;\n    overflow: hidden;\n  }\n\n  .line-item {\n    display: grid;\n    grid-template-columns: 2fr 1fr 1fr 1fr auto;\n    gap: 1rem;\n    padding: 1rem;\n    align-items: center;\n    border-bottom: 1px solid var(--border-color);\n  }\n\n  .line-item:last-child {\n    border-bottom: none;\n  }\n\n  .line-item-header {\n    background: #F3F4F6;\n    font-weight: 600;\n    color: #374151;\n  }\n\n  .procedure-list {\n    padding-left: 2rem;\n    margin-top: 0.5rem;\n    border-left: 2px solid var(--border-color);\n  }\n\n  .procedure-item {\n    display: grid;\n    grid-template-columns: 2fr 1fr 1fr;\n    gap: 1rem;\n    padding: 0.5rem;\n    font-size: 0.875rem;\n  }\n\n  .currency {\n    color: var(--primary-color);\n    font-weight: 500;\n  }\n\n  .total-section {\n    display: grid;\n    grid-template-columns: 1fr auto;\n    gap: 1rem;\n    padding: 1rem;\n    background: #F8FAFC;\n    border-radius: 0.5rem;\n    margin-top: 1rem;\n  }\n\n  .total-row {\n    display: flex;\n    justify-content: space-between;\n    padding: 0.5rem 0;\n  }\n\n  .total-label {\n    font-weight: 500;\n    color: var(--secondary-color);\n  }\n\n  .total-value {\n    font-weight: 600;\n    color: var(--primary-color);\n  }\n\n  .remarks-section {\n    background: #F8FAFC;\n    border-radius: 0.5rem;\n    padding: 1.5rem;\n    margin-top: 2rem;\n  }\n\n  .remarks-title {\n    font-size: 1.125rem;\n    font-weight: 600;\n    color: #374151;\n    margin-bottom: 1rem;\n  }\n\n  .observation-list {\n    display: grid;\n    gap: 1rem;\n  }\n\n  .observation-item {\n    background: white;\n    padding: 1rem;\n    border-radius: 0.5rem;\n    border: 1px solid var(--border-color);\n  }\n\n  .observation-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 0.5rem;\n  }\n\n  .observation-title {\n    font-weight: 500;\n    color: #111827;\n  }\n\n  .observation-date {\n    font-size: 0.875rem;\n    color: var(--secondary-color);\n  }\n\n  .observation-value {\n    font-size: 0.875rem;\n    color: #4B5563;\n    line-height: 1.5;\n  }\n\n  .action-buttons {\n    display: flex;\n    gap: 1rem;\n    margin-top: 2rem;\n    justify-content: flex-end;\n  }\n\n  .btn {\n    padding: 0.75rem 1.5rem;\n    border-radius: 0.5rem;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.2s;\n    border: none;\n  }\n\n  .btn-primary {\n    background: var(--primary-color);\n    color: white;\n  }\n\n  .btn-secondary {\n    background: white;\n    border: 1px solid var(--border-color);\n    color: var(--secondary-color);\n  }\n\n  .btn:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n  }\n\n  .btn:active {\n    transform: translateY(0);\n  }\n\n  @media (max-width: 768px) {\n    .invoice-header {\n      grid-template-columns: 1fr;\n    }\n\n    .line-item {\n      grid-template-columns: 1fr;\n      gap: 0.5rem;\n    }\n\n    .procedure-item {\n      grid-template-columns: 1fr;\n    }\n  }\n\n  /* Modal Styles */\n  .modal-overlay {\n    position: fixed;\n    inset: 0;\n    background: rgba(0, 0, 0, 0.5);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 100;\n  }\n\n  .modal {\n    background: white;\n    border-radius: 0.75rem;\n    padding: 1.5rem;\n    width: 90%;\n    max-width: 600px;\n    max-height: 90vh;\n    overflow-y: auto;\n    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);\n  }\n\n  .modal-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 1.5rem;\n  }\n\n  .modal-title {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: var(--primary-color);\n  }\n\n  .modal-close {\n    background: none;\n    border: none;\n    color: var(--secondary-color);\n    cursor: pointer;\n    padding: 0.5rem;\n  }\n\n  .form-grid {\n    display: grid;\n    gap: 1rem;\n    margin-bottom: 1.5rem;\n  }\n\n  .form-field {\n    display: flex;\n    flex-direction: column;\n    gap: 0.25rem;\n  }\n\n  .form-label {\n    font-size: 0.875rem;\n    font-weight: 500;\n    color: var(--secondary-color);\n  }\n\n  .form-input {\n    padding: 0.625rem;\n    border: 1px solid var(--border-color);\n    border-radius: 0.375rem;\n    font-size: 0.875rem;\n    transition: all 0.2s;\n  }\n\n  .form-input:focus {\n    outline: none;\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);\n  }\n\n  .form-input.error {\n    border-color: var(--danger-color);\n  }\n\n  .error-message {\n    font-size: 0.75rem;\n    color: var(--danger-color);\n    margin-top: 0.25rem;\n  }\n\n  /* Search Functionality */\n  .search-container {\n    position: relative;\n    margin-bottom: 1rem;\n  }\n\n  .search-input {\n    width: 100%;\n    padding: 0.625rem 2.5rem 0.625rem 0.75rem;\n    border: 1px solid var(--border-color);\n    border-radius: 0.375rem;\n    font-size: 0.875rem;\n  }\n\n  .search-results {\n    position: absolute;\n    top: 100%;\n    left: 0;\n    right: 0;\n    background: white;\n    border: 1px solid var(--border-color);\n    border-radius: 0.375rem;\n    max-height: 200px;\n    overflow-y: auto;\n    z-index: 20;\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n  }\n\n  .search-item {\n    padding: 0.75rem;\n    cursor: pointer;\n    border-bottom: 1px solid var(--border-color);\n  }\n\n  .search-item:hover {\n    background: var(--background-color);\n  }\n\n  .search-item:last-child {\n    border-bottom: none;\n  }\n\n  /* Enhanced Line Items */\n  .line-item {\n    transition: all 0.2s;\n  }\n\n  .line-item:hover {\n    background: #F8FAFC;\n  }\n\n  .line-item-actions {\n    display: flex;\n    gap: 0.5rem;\n  }\n\n  .btn-icon {\n    padding: 0.375rem;\n    border-radius: 0.375rem;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .btn-icon svg {\n    width: 1.25rem;\n    height: 1.25rem;\n  }\n\n  /* Validation Styles */\n  .invalid {\n    border-color: var(--danger-color);\n  }\n\n  .validation-message {\n    font-size: 0.75rem;\n    color: var(--danger-color);\n    margin-top: 0.25rem;\n  }\n\n  /* Loading States */\n  .loading-state {\n    position: relative;\n    min-height: 100px;\n  }\n\n  .loading-overlay {\n    position: absolute;\n    inset: 0;\n    background: rgba(255, 255, 255, 0.9);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n"])));function Xo(e){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(e)}function Zo(e){return function(e){if(Array.isArray(e))return ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return ea(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ea(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function na(){na=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Xo(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(Xo(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function ta(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function ra(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){ta(o,r,i,a,s,"next",e)}function s(e){ta(o,r,i,a,s,"throw",e)}a(void 0)}))}}function ia(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function oa(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ia(Object(t),!0).forEach((function(n){aa(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ia(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function aa(e,n,t){return(n=ca(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function sa(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ca(r.key),r)}}function ca(e){var n=function(e){if("object"!=Xo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Xo(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xo(n)?n:n+""}function la(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(la=function(){return!!e})()}function da(){return da="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,n,t){var r=function(e,n){for(;!{}.hasOwnProperty.call(e,n)&&null!==(e=ua(e)););return e}(e,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(arguments.length<3?e:t):i.value}},da.apply(null,arguments)}function ua(e){return ua=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ua(e)}function pa(e,n){return pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},pa(e,n)}function ha(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}En("claim-component")(function(e){function n(){var e,t,r,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=this,r=n,r=io(r),e=function(e,n){if(n&&("object"==$i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,ro()?Reflect.construct(r,i||[],io(t).constructor):r.apply(t,i))).claimData={provider:{id:"PR-12345",name:"Healthcare Provider",address:"123 Medical Center Drive",city:"Riyadh",country:"Saudi Arabia",contact:"+966 12 345 6789"},patient:{id:"PT-67890",name:"John Doe",insurance:"Premium Health Insurance"}},e.loading=!1,e.selectedDiagnosis=[],e.selectedProcedures={},e.selectedMedications=[],e.observations=[],e.editingItem=null,e.showDiagnosisModal=!1,e.showProcedureModal=!1,e.showMedicationModal=!1,e.showObservationModal=!1,e.validationErrors={},e.addSampleData(),e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&oo(e,n)}(n,e),function(e,n,t){return n&&no(e.prototype,n),t&&no(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"addSampleData",value:function(){this.selectedDiagnosis=[{id:"D1",code:"J20.9",description:"Acute Bronchitis",date:(new Date).toISOString(),amount:600},{id:"D2",code:"I10",description:"Essential (primary) hypertension",date:(new Date).toISOString(),amount:450}],this.selectedProcedures={D1:[{id:"P1",name:"Chest X-Ray",code:"XR-123",quantity:1,amount:250},{id:"P2",name:"Pulmonary Function Test",code:"PFT-456",quantity:1,amount:350}],D2:[{id:"P3",name:"Blood Pressure Monitoring",code:"BP-789",quantity:1,amount:150}]},this.selectedMedications=[{id:"M1",name:"Amoxicillin",dosage:"500mg",quantity:30,unit:"tablets",amount:120},{id:"M2",name:"Salbutamol Inhaler",dosage:"100mcg",quantity:1,unit:"inhaler",amount:80},{id:"M3",name:"Amlodipine",dosage:"5mg",quantity:30,unit:"tablets",amount:95}],0===this.observations.length&&(this.observations=[{id:"O1",title:"Clinical Notes",date:(new Date).toISOString(),value:"Patient presents with symptoms of acute bronchitis and hypertension. Prescribed antibiotics and antihypertensive medication."}])}},{key:"handleDiagnosisAdd",value:function(e){this.selectedDiagnosis=[].concat(Zi(this.selectedDiagnosis),[e]),this.selectedProcedures=Ki(Ki({},this.selectedProcedures),{},Xi({},e.id,[])),this.requestUpdate()}},{key:"handleDiagnosisRemove",value:function(e){this.selectedDiagnosis=this.selectedDiagnosis.filter((function(n){return n.id!==e}));var n=this.selectedProcedures,t=(n[e],function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(n,[e].map(to)));this.selectedProcedures=t,this.requestUpdate()}},{key:"handleProcedureAdd",value:function(e){var n={id:"P".concat(Object.values(this.selectedProcedures).flat().length+1),name:"New Procedure",code:"PROC-123",quantity:1,amount:200};this.selectedProcedures=Ki(Ki({},this.selectedProcedures),{},Xi({},e,[].concat(Zi(this.selectedProcedures[e]||[]),[n]))),this.requestUpdate()}},{key:"handleProcedureRemove",value:function(e,n){this.selectedProcedures=Ki(Ki({},this.selectedProcedures),{},Xi({},e,this.selectedProcedures[e].filter((function(e){return e.id!==n})))),this.requestUpdate()}},{key:"handleMedicationAdd",value:function(e){this.selectedMedications=[].concat(Zi(this.selectedMedications),[e]),this.requestUpdate()}},{key:"handleMedicationRemove",value:function(e){this.selectedMedications=this.selectedMedications.filter((function(n){return n.id!==e})),this.requestUpdate()}},{key:"handleObservationAdd",value:function(){var e={id:"O".concat(this.observations.length+1),title:"New Observation",date:(new Date).toISOString(),value:"Enter observation details here"};this.observations=[].concat(Zi(this.observations),[e]),this.requestUpdate()}},{key:"handleObservationRemove",value:function(e){this.observations=this.observations.filter((function(n){return n.id!==e})),this.requestUpdate()}},{key:"calculateTotals",value:function(){var e=this,n=this.selectedDiagnosis.reduce((function(n,t){var r=(e.selectedProcedures[t.id]||[]).reduce((function(e,n){return e+n.amount}),0);return n+t.amount+r}),0),t=this.selectedMedications.reduce((function(e,n){return e+n.amount}),0),r=n+t,i=.15*r,o=r+i;return{diagnosisTotal:n.toFixed(2),proceduresTotal:Object.values(this.selectedProcedures).flat().reduce((function(e,n){return e+n.amount}),0).toFixed(2),medicationsTotal:t.toFixed(2),subtotal:r.toFixed(2),vat:i.toFixed(2),total:o.toFixed(2)}}},{key:"validateDiagnosis",value:function(e){var n={};return e.code||(n.code="Diagnosis code is required"),e.description||(n.description="Description is required"),(!e.amount||e.amount<=0)&&(n.amount="Valid amount is required"),n}},{key:"validateProcedure",value:function(e){var n={};return e.name||(n.name="Procedure name is required"),e.code||(n.code="Procedure code is required"),(!e.quantity||e.quantity<=0)&&(n.quantity="Valid quantity is required"),(!e.amount||e.amount<=0)&&(n.amount="Valid amount is required"),n}},{key:"validateMedication",value:function(e){var n={};return e.name||(n.name="Medication name is required"),e.dosage||(n.dosage="Dosage is required"),(!e.quantity||e.quantity<=0)&&(n.quantity="Valid quantity is required"),(!e.amount||e.amount<=0)&&(n.amount="Valid amount is required"),n}},{key:"handleEdit",value:function(e,n){this.editingItem=Ki({type:e},n),this.validationErrors={},this.requestUpdate()}},{key:"handleEditSave",value:function(){var e=this,n={};switch(this.editingItem.type){case"diagnosis":n=this.validateDiagnosis(this.editingItem),0===Object.keys(n).length&&(this.selectedDiagnosis=this.selectedDiagnosis.map((function(n){return n.id===e.editingItem.id?Ki({},e.editingItem):n})));break;case"procedure":n=this.validateProcedure(this.editingItem),0===Object.keys(n).length&&(this.selectedProcedures=Ki(Ki({},this.selectedProcedures),{},Xi({},this.editingItem.diagnosisId,this.selectedProcedures[this.editingItem.diagnosisId].map((function(n){return n.id===e.editingItem.id?Ki({},e.editingItem):n})))));break;case"medication":n=this.validateMedication(this.editingItem),0===Object.keys(n).length&&(this.selectedMedications=this.selectedMedications.map((function(n){return n.id===e.editingItem.id?Ki({},e.editingItem):n})))}0===Object.keys(n).length?(this.editingItem=null,this.requestUpdate()):this.validationErrors=n}},{key:"handleDiagnosisSearch",value:(r=Wi(Yi().mark((function e(n){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.target.value).length<2)){e.next=4;break}return this.searchResults=[],e.abrupt("return");case 4:this.searchResults=[{code:"J20.9",description:"Acute Bronchitis"},{code:"J45.901",description:"Unspecified Asthma"}].filter((function(e){return e.code.toLowerCase().includes(t.toLowerCase())||e.description.toLowerCase().includes(t.toLowerCase())}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"handleMedicationSearch",value:(t=Wi(Yi().mark((function e(n){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.target.value).length<2)){e.next=4;break}return this.searchResults=[],e.abrupt("return");case 4:this.searchResults=[{name:"Amoxicillin",dosage:"500mg",amount:120},{name:"Azithromycin",dosage:"250mg",amount:150}].filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"renderEditModal",value:function(){var e=this;return this.editingItem?U(wi||(wi=ao(['\n      <div class="modal-overlay">\n        <div class="modal">\n          <div class="modal-header">\n            <h3 class="modal-title">\n              Edit ','\n            </h3>\n            <button class="modal-close" @click=','></button>\n          </div>\n          <div class="form-grid">\n            ','\n          </div>\n          <div class="action-buttons">\n            <button class="btn btn-secondary" @click=','>\n              Cancel\n            </button>\n            <button class="btn btn-primary" @click=',">\n              Save Changes\n            </button>\n          </div>\n        </div>\n      </div>\n    "])),this.editingItem.type.charAt(0).toUpperCase()+this.editingItem.type.slice(1),(function(){return e.editingItem=null}),this.renderEditForm(),(function(){return e.editingItem=null}),this.handleEditSave):""}},{key:"renderEditForm",value:function(){var e=this;switch(this.editingItem.type){case"diagnosis":return U(xi||(xi=ao(['\n          <div class="form-field">\n            <label class="form-label">Code</label>\n            <div class="search-container">\n              <input class="form-input ','"\n                type="text"\n                .value=',"\n                @input=","\n              />\n              ","\n            </div>\n            ",'\n          </div>\n          <div class="form-field">\n            <label class="form-label">Description</label>\n            <input class="form-input ','"\n              type="text"\n              .value=',"\n              @input=","\n            />\n            ",'\n          </div>\n          <div class="form-field">\n            <label class="form-label">Amount (SAR)</label>\n            <input class="form-input ','"\n              type="number"\n              step="0.01"\n              .value=',"\n              @input=","\n            />\n            ","\n          </div>\n        "])),this.validationErrors.code?"error":"",this.editingItem.code,(function(n){e.editingItem=Ki(Ki({},e.editingItem),{},{code:n.target.value}),e.handleDiagnosisSearch(n)}),this.searchResults.length>0?U(Si||(Si=ao(['\n                <div class="search-results">\n                  ',"\n                </div>\n              "])),this.searchResults.map((function(n){return U(ki||(ki=ao(['\n                    <div class="search-item" @click=',">\n                      <strong>","</strong> - ","\n                    </div>\n                  "])),(function(){e.editingItem=Ki(Ki({},e.editingItem),{},{code:n.code,description:n.description}),e.searchResults=[]}),n.code,n.description)}))):"",this.validationErrors.code?U(Ei||(Ei=ao(['\n              <span class="error-message">',"</span>\n            "])),this.validationErrors.code):"",this.validationErrors.description?"error":"",this.editingItem.description,(function(n){return e.editingItem=Ki(Ki({},e.editingItem),{},{description:n.target.value})}),this.validationErrors.description?U(Pi||(Pi=ao(['\n              <span class="error-message">',"</span>\n            "])),this.validationErrors.description):"",this.validationErrors.amount?"error":"",this.editingItem.amount,(function(n){return e.editingItem=Ki(Ki({},e.editingItem),{},{amount:parseFloat(n.target.value)})}),this.validationErrors.amount?U(Oi||(Oi=ao(['\n              <span class="error-message">',"</span>\n            "])),this.validationErrors.amount):"");case"procedure":return U(Ci||(Ci=ao(['\n          <div class="form-field">\n            <label class="form-label">Name</label>\n            <input class="form-input ','"\n              type="text"\n              .value=',"\n              @input=","\n            />\n            ",'\n          </div>\n          <div class="form-field">\n            <label class="form-label">Code</label>\n            <input class="form-input ','"\n              type="text"\n              .value=',"\n              @input=","\n            />\n            ",'\n          </div>\n          <div class="form-field">\n            <label class="form-label">Quantity</label>\n            <input class="form-input ','"\n              type="number"\n              min="1"\n              .value=',"\n              @input=","\n            />\n            ",'\n          </div>\n          <div class="form-field">\n            <label class="form-label">Amount (SAR)</label>\n            <input class="form-input ','"\n              type="number"\n              step="0.01"\n              .value=',"\n              @input=","\n            />\n            ","\n          </div>\n        "])),this.validationErrors.name?"error":"",this.editingItem.name,(function(n){return e.editingItem=Ki(Ki({},e.editingItem),{},{name:n.target.value})}),this.validationErrors.name?U(Ai||(Ai=ao(['\n              <span class="error-message">',"</span>\n            "])),this.validationErrors.name):"",this.validationErrors.code?"error":"",this.editingItem.code,(function(n){return e.editingItem=Ki(Ki({},e.editingItem),{},{code:n.target.value})}),this.validationErrors.code?U(Ti||(Ti=ao(['\n              <span class="error-message">',"</span>\n            "])),this.validationErrors.code):"",this.validationErrors.quantity?"error":"",this.editingItem.quantity,(function(n){return e.editingItem=Ki(Ki({},e.editingItem),{},{quantity:parseInt(n.target.value)})}),this.validationErrors.quantity?U(Di||(Di=ao(['\n              <span class="error-message">',"</span>\n            "])),this.validationErrors.quantity):"",this.validationErrors.amount?"error":"",this.editingItem.amount,(function(n){return e.editingItem=Ki(Ki({},e.editingItem),{},{amount:parseFloat(n.target.value)})}),this.validationErrors.amount?U(Ii||(Ii=ao(['\n              <span class="error-message">',"</span>\n            "])),this.validationErrors.amount):"");case"medication":return U(ji||(ji=ao(['\n          <div class="form-field">\n            <label class="form-label">Name</label>\n            <div class="search-container">\n              <input class="form-input ','"\n                type="text"\n                .value=',"\n                @input=","\n              />\n              ","\n            </div>\n            ",'\n          </div>\n          <div class="form-field">\n            <label class="form-label">Dosage</label>\n            <input class="form-input ','"\n              type="text"\n              .value=',"\n              @input=","\n            />\n            ",'\n          </div>\n          <div class="form-field">\n            <label class="form-label">Quantity</label>\n            <input class="form-input ','"\n              type="number"\n              min="1"\n              .value=',"\n              @input=","\n            />\n            ",'\n          </div>\n          <div class="form-field">\n            <label class="form-label">Unit</label>\n            <select class="form-input"\n              .value=',"\n              @change=",'\n            >\n              <option value="tablets">Tablets</option>\n              <option value="capsules">Capsules</option>\n              <option value="ml">ML</option>\n              <option value="mg">MG</option>\n              <option value="units">Units</option>\n            </select>\n          </div>\n          <div class="form-field">\n            <label class="form-label">Amount (SAR)</label>\n            <input class="form-input ','"\n              type="number"\n              step="0.01"\n              .value=',"\n              @input=","\n            />\n            ","\n          </div>\n        "])),this.validationErrors.name?"error":"",this.editingItem.name,(function(n){e.editingItem=Ki(Ki({},e.editingItem),{},{name:n.target.value}),e.handleMedicationSearch(n)}),this.searchResults.length>0?U(Ni||(Ni=ao(['\n                <div class="search-results">\n                  ',"\n                </div>\n              "])),this.searchResults.map((function(n){return U(Li||(Li=ao(['\n                    <div class="search-item" @click=',">\n                      <strong>","</strong> - ","\n                    </div>\n                  "])),(function(){e.editingItem=Ki(Ki({},e.editingItem),{},{name:n.name,dosage:n.dosage,amount:n.amount}),e.searchResults=[]}),n.name,n.dosage)}))):"",this.validationErrors.name?U(Ri||(Ri=ao(['\n              <span class="error-message">',"</span>\n            "])),this.validationErrors.name):"",this.validationErrors.dosage?"error":"",this.editingItem.dosage,(function(n){return e.editingItem=Ki(Ki({},e.editingItem),{},{dosage:n.target.value})}),this.validationErrors.dosage?U(_i||(_i=ao(['\n              <span class="error-message">',"</span>\n            "])),this.validationErrors.dosage):"",this.validationErrors.quantity?"error":"",this.editingItem.quantity,(function(n){return e.editingItem=Ki(Ki({},e.editingItem),{},{quantity:parseInt(n.target.value)})}),this.validationErrors.quantity?U(Fi||(Fi=ao(['\n              <span class="error-message">',"</span>\n            "])),this.validationErrors.quantity):"",this.editingItem.unit,(function(n){return e.editingItem=Ki(Ki({},e.editingItem),{},{unit:n.target.value})}),this.validationErrors.amount?"error":"",this.editingItem.amount,(function(n){return e.editingItem=Ki(Ki({},e.editingItem),{},{amount:parseFloat(n.target.value)})}),this.validationErrors.amount?U(Mi||(Mi=ao(['\n              <span class="error-message">',"</span>\n            "])),this.validationErrors.amount):"")}}},{key:"render",value:function(){var e=this,n=this.calculateTotals();return U(zi||(zi=ao(['\n      <div class="claim-container">\n        \x3c!-- Invoice Header --\x3e\n        <div class="invoice-header">\n          <div class="company-info">\n            <div class="company-name">','</div>\n            <div class="info-group">\n              <div class="info-label">Provider ID</div>\n              <div class="info-value">','</div>\n            </div>\n            <div class="info-group">\n              <div class="info-label">Address</div>\n              <div class="info-value">\n                ',"<br>\n                ",", ",'\n              </div>\n            </div>\n            <div class="info-group">\n              <div class="info-label">Contact</div>\n              <div class="info-value">','</div>\n            </div>\n          </div>\n\n          <div class="patient-info">\n            <div class="patient-name">Patient Information</div>\n            <div class="info-group">\n              <div class="info-label">Patient ID</div>\n              <div class="info-value">','</div>\n            </div>\n            <div class="info-group">\n              <div class="info-label">Name</div>\n              <div class="info-value">','</div>\n            </div>\n            <div class="info-group">\n              <div class="info-label">Insurance</div>\n              <div class="info-value">','</div>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Diagnosis Section --\x3e\n        <div class="section">\n          <div class="section-header">\n            <h2 class="section-title">\n              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" \n                      d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />\n              </svg>\n              Diagnosis & Procedures\n            </h2>\n          </div>\n\n          <div class="line-items">\n            <div class="line-item line-item-header">\n              <div>Description</div>\n              <div>Code</div>\n              <div>Quantity</div>\n              <div>Amount (SAR)</div>\n            </div>\n\n            ','\n          </div>\n        </div>\n\n        \x3c!-- Medications Section --\x3e\n        <div class="section">\n          <div class="section-header">\n            <h2 class="section-title">\n              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" \n                      d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />\n              </svg>\n              Medications\n            </h2>\n          </div>\n\n          <div class="line-items">\n            <div class="line-item line-item-header">\n              <div>Medication</div>\n              <div>Dosage</div>\n              <div>Quantity</div>\n              <div>Amount (SAR)</div>\n            </div>\n\n            ','\n          </div>\n        </div>\n\n        \x3c!-- Detailed Totals Section --\x3e\n        <div class="total-section">\n          <div>\n            <div class="total-row">\n              <span class="total-label">Diagnosis Total</span>\n              <span class="total-value">SAR ','</span>\n            </div>\n            <div class="total-row">\n              <span class="total-label">Procedures Total</span>\n              <span class="total-value">SAR ','</span>\n            </div>\n            <div class="total-row">\n              <span class="total-label">Medications Total</span>\n              <span class="total-value">SAR ','</span>\n            </div>\n            <div class="total-row">\n              <span class="total-label">Subtotal</span>\n              <span class="total-value">SAR ','</span>\n            </div>\n            <div class="total-row">\n              <span class="total-label">VAT (15%)</span>\n              <span class="total-value">SAR ','</span>\n            </div>\n            <div class="total-row">\n              <span class="total-label">Total</span>\n              <span class="total-value">SAR ','</span>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Remarks & Observations --\x3e\n        <div class="remarks-section">\n          <div class="section-header">\n            <h3 class="remarks-title">Remarks & Observations</h3>\n            <button class="btn btn-primary" @click=','>\n              Add Observation\n            </button>\n          </div>\n          \n          <div class="observation-list">\n            ','\n          </div>\n        </div>\n\n        \x3c!-- Action Buttons --\x3e\n        <div class="action-buttons">\n          <button class="btn btn-secondary" @click=','>\n            Save as Draft\n          </button>\n          <button class="btn btn-primary" @click=',">\n            Submit Claim\n          </button>\n        </div>\n\n        ","\n      </div>\n    "])),this.claimData.provider.name,this.claimData.provider.id,this.claimData.provider.address,this.claimData.provider.city,this.claimData.provider.country,this.claimData.provider.contact,this.claimData.patient.id,this.claimData.patient.name,this.claimData.patient.insurance,this.renderLineItems(),this.renderMedications(),n.diagnosisTotal,n.proceduresTotal,n.medicationsTotal,n.subtotal,n.vat,n.total,this.handleObservationAdd,this.observations.map((function(n){return U(Bi||(Bi=ao(['\n              <div class="observation-item">\n                <div class="observation-header">\n                  <span class="observation-title">','</span>\n                  <span class="observation-date">\n                    ','\n                  </span>\n                </div>\n                <div class="observation-value">\n                  ','\n                </div>\n                <button class="btn btn-danger" \n                  @click=',">\n                  Remove\n                </button>\n              </div>\n            "])),n.title,new Date(n.date).toLocaleDateString(),n.value,(function(){return e.handleObservationRemove(n.id)}))})),this.handleSaveAsDraft,this.handleSubmit,this.renderEditModal())}},{key:"handleSubmit",value:function(){var e={provider:this.claimData.provider,patient:this.claimData.patient,diagnosis:this.selectedDiagnosis,procedures:this.selectedProcedures,medications:this.selectedMedications,observations:this.observations,totals:this.calculateTotals()};this.dispatchEvent(new CustomEvent("claim-submit",{detail:e,bubbles:!0,composed:!0}))}},{key:"handleSaveAsDraft",value:function(){var e={provider:this.claimData.provider,patient:this.claimData.patient,diagnosis:this.selectedDiagnosis,procedures:this.selectedProcedures,medications:this.selectedMedications,observations:this.observations,totals:this.calculateTotals()};this.dispatchEvent(new CustomEvent("save-draft",{detail:e,bubbles:!0,composed:!0}))}},{key:"renderLineItems",value:function(){var e=this;return this.selectedDiagnosis.map((function(n){return U(Ui||(Ui=ao(['\n      <div class="line-item">\n        <div>\n          <strong>','</strong>\n          <div class="procedure-list">\n            ',"\n          </div>\n        </div>\n        <div>",'</div>\n        <div>1</div>\n        <div class="currency">SAR ',"</div>\n      </div>\n    "])),n.description,(e.selectedProcedures[n.id]||[]).map((function(e){return U(Vi||(Vi=ao(['\n              <div class="procedure-item">\n                <div>'," (",")</div>\n                <div>",'</div>\n                <div class="currency">SAR ',"</div>\n              </div>\n            "])),e.name,e.code,e.quantity,e.amount.toFixed(2))})),n.code,n.amount.toFixed(2))}))}},{key:"renderMedications",value:function(){return this.selectedMedications.map((function(e){return U(qi||(qi=ao(['\n      <div class="line-item">\n        <div>',"</div>\n        <div>","</div>\n        <div>"," ",'</div>\n        <div class="currency">SAR ',"</div>\n      </div>\n    "])),e.name,e.dosage,e.quantity,e.unit,e.amount.toFixed(2))}))}}],[{key:"properties",get:function(){return{claimData:{type:Object},loading:{type:Boolean},selectedDiagnosis:{type:Array},selectedProcedures:{type:Object},selectedMedications:{type:Array},observations:{type:Array},editingItem:{type:Object},showDiagnosisModal:{type:Boolean},showProcedureModal:{type:Boolean},showMedicationModal:{type:Boolean},showObservationModal:{type:Boolean},validationErrors:{type:Object},searchTerm:{type:String}}}},{key:"styles",get:function(){return Ko}}]);var t,r}(se));var fa,ma,va,ga,ya,ba,wa,xa,Sa,ka,Ea,Pa=c(so||(so=ha(['\n  :host {\n    display: block;\n    width: 100%;\n    height: 100%;\n    background: var(--sw-background-color, #f8fafc);\n    color: var(--sw-text-color, #1e293b);\n    font-family: var(--sw-font-family, \'Inter\', system-ui, -apple-system, sans-serif);\n    --medical-primary: #8500d8;\n    --healthcare-green: #10B981;\n    --healthcare-bg: #F3F4F6;\n    --primary: var(--medical-primary);\n    --primary-dark: #8500d8;\n    --primary-light:rgb(180, 59, 255);\n    --success: var(--healthcare-green);\n    --warning: #F59E0B;\n    --error: #EF4444;\n    --gray-50: #F9FAFB;\n    --gray-100: #F3F4F6;\n    --gray-200: #E5E7EB;\n    --gray-300: #D1D5DB;\n    --gray-400: #9CA3AF;\n    --gray-500: #6B7280;\n    --gray-600: #4B5563;\n    --gray-700: #374151;\n    --gray-800: #1F2937;\n    --gray-900: #111827;\n  }\n\n  /* Typography */\n  h1, .h1 {\n    font-size: 24px;\n    line-height: 1.2;\n  }\n\n  h2, .h2 {\n    font-size: 20px;\n    line-height: 1.3;\n  }\n\n  h3, .h3 {\n    font-size: 18px;\n    line-height: 1.4;\n  }\n\n  p, .body-text {\n    font-size: 16px;\n    line-height: 1.5;\n  }\n\n  .small-text {\n    font-size: 14px;\n    line-height: 1.5;\n  }\n\n  /* Update header styles */\n  .header {\n    background: var(--primary);\n    color: white;\n    padding: 1.5rem 2rem;\n    display: flex;\n    gap: 2rem;\n    align-items: flex-start;\n    position: relative;\n  }\n\n  .header-title {\n    font-size: 24px;\n    font-weight: 500;\n    margin: 0;\n    line-height: 1.2;\n    color: white;\n  }\n\n  /* Update tabs */\n  .tabs {\n    display: flex;\n    background: var(--primary);\n    padding: 0 2rem;\n  }\n\n  .tab {\n    padding: 0.5rem 2rem;\n    color: white;\n    cursor: pointer;\n    background: transparent;\n    border-top-left-radius: 0.5rem;\n    border-top-right-radius: 0.5rem;\n    font-weight: 500;\n    font-size: 14px;\n    transition: all 0.2s ease;\n  }\n\n  .tab.active {\n    background: white;\n    color: var(--primary);\n  }\n\n  /* Update section titles */\n  .section-title {\n    margin: 0;\n    font-size: 18px;\n    font-weight: 600;\n    color: var(--gray-800);\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n  }\n\n  /* Update form labels and inputs */\n  .form-label {\n    font-size: 14px;\n    color: var(--gray-500);\n  }\n\n  .form-input {\n    font-size: 16px;\n  }\n\n  /* Update table text */\n  .table-container {\n    font-size: 14px;\n  }\n\n  th {\n    font-size: 14px;\n    font-weight: 600;\n  }\n\n  td {\n    font-size: 14px;\n  }\n\n  /* Update buttons */\n  button {\n    font-size: 14px;\n  }\n\n  .close-button {\n    position: absolute;\n    top: 1.5rem;\n    right: 1.5rem;\n    background: rgba(255, 255, 255, 0.1);\n    border: none;\n    color: white;\n    cursor: pointer;\n    padding: 0.75rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 0.375rem;\n    transition: all 0.2s ease;\n  }\n\n  .close-button:hover {\n    background: rgba(255, 255, 255, 0.2);\n    transform: scale(1.1);\n  }\n\n  .close-button svg {\n    width: 1.25rem;\n    height: 1.25rem;\n    stroke-width: 2.5;\n  }\n\n  /* Update progress bar */\n  .progress-bar {\n    height: 100%;\n    background: var(--healthcare-green);\n    transition: width 0.3s ease;\n    border-radius: 0.25rem;\n    box-shadow: 0 2px 4px rgba(16, 185, 129, 0.2);\n  }\n\n  /* Update other button styles */\n  .btn-primary {\n    background: var(--primary) !important;\n  }\n\n  .btn-primary:hover {\n    background: var(--primary-dark) !important;\n  }\n\n  .wrapper {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    overflow: hidden;\n    background: var(--gray-50);\n  }\n\n  .sticky-header {\n    position: sticky;\n    top: 0;\n    background: white;\n    z-index: 10;\n  }\n\n  .header-content {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n    flex: 1;\n  }\n\n  .nphies-logo {\n    width: 140px;\n    height: auto;\n    object-fit: contain;\n  }\n\n  .progress-indicator {\n    width: 100%;\n    height: 0.5rem;\n    background: rgba(255, 255, 255, 0.2);\n    border-radius: 0.25rem;\n    overflow: hidden;\n    margin-top: 0.75rem;\n  }\n\n  .content {\n    flex: 1;\n    overflow-y: auto;\n    padding: 1.5rem;\n  }\n\n  .prior-auth-container {\n    max-width: 1200px;\n    margin: 0 auto;\n    display: flex;\n    flex-direction: column;\n    gap: 1.5rem;\n  }\n\n  .section {\n    background: white;\n    border-radius: 0.75rem;\n    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);\n    overflow: hidden;\n    transition: all 0.3s ease;\n    border: 1px solid var(--gray-200);\n  }\n\n  .section.collapsed .section-content {\n    display: none;\n  }\n\n  .section-header {\n    padding: 1.25rem 1.5rem;\n    background: white;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    transition: background-color 0.2s;\n  }\n\n  .section-header:hover {\n    background: var(--gray-50);\n  }\n\n  .section-title svg {\n    width: 1.5rem;\n    height: 1.5rem;\n    color: var(--primary);\n  }\n\n  .section-content {\n    padding: 1.5rem;\n    border-top: 1px solid var(--gray-200);\n  }\n\n  .form-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n    gap: 1.5rem;\n  }\n\n  .form-field {\n    position: relative;\n    margin-bottom: 1.5rem;\n  }\n\n  .form-input:hover {\n    border-color: var(--gray-400);\n  }\n\n  .form-input:focus {\n    outline: none;\n    border-color: var(--primary);\n    box-shadow: 0 0 0 3px rgba(70, 58, 161, 0.1);\n  }\n\n  .form-input:not(:placeholder-shown) + .form-label,\n  .form-input:focus + .form-label {\n    transform: translateY(-1.4rem) scale(0.85);\n    color: var(--primary);\n  }\n\n  textarea.form-input {\n    resize: vertical;\n    min-height: 120px;\n    line-height: 1.5;\n  }\n\n  .character-counter {\n    position: absolute;\n    right: 0.75rem;\n    bottom: 0.75rem;\n    font-size: 0.75rem;\n    color: var(--gray-500);\n  }\n\n  .file-upload-container {\n    border: 2px dashed var(--gray-300);\n    border-radius: 0.75rem;\n    padding: 2rem;\n    text-align: center;\n    cursor: pointer;\n    transition: all 0.2s;\n    background: var(--gray-50);\n  }\n\n  .file-upload-container:hover {\n    border-color: var(--primary);\n    background: white;\n  }\n\n  .file-upload-container input[type="file"] {\n    display: none;\n  }\n\n  .tooltip {\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    padding: 0.375rem 0.875rem;\n    background: var(--gray-100);\n    border-radius: 9999px;\n    font-size: 0.75rem;\n    font-weight: 500;\n    color: var(--gray-700);\n    transition: all 0.2s;\n  }\n\n  .tooltip[data-status="complete"] {\n    background: var(--success);\n    color: white;\n  }\n\n  .tooltip[data-status="pending"] {\n    background: var(--warning);\n    color: white;\n  }\n\n  .tooltip[data-tooltip]:hover::after {\n    content: attr(data-tooltip);\n    position: absolute;\n    bottom: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n    padding: 0.5rem 0.75rem;\n    background: var(--gray-900);\n    color: white;\n    border-radius: 0.375rem;\n    font-size: 0.75rem;\n    white-space: nowrap;\n    z-index: 10;\n    margin-bottom: 0.5rem;\n  }\n\n  .action-buttons {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n    position: fixed;\n    bottom: 2rem;\n    left: 2rem;\n    z-index: 100;\n    background: white;\n    padding: 1rem;\n    border-radius: 0.75rem;\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n    border: 1px solid var(--gray-200);\n    width: auto;\n    min-width: 200px;\n  }\n\n  .btn {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    gap: 0.5rem;\n    padding: 0.75rem 1.5rem;\n    border: none;\n    border-radius: 0.5rem;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.2s;\n    width: 100%;\n  }\n\n  .btn-primary {\n    background: var(--primary) !important;\n    color: white;\n  }\n\n  .btn-primary:hover:not(:disabled) {\n    background: var(--primary-dark) !important;\n    transform: translateY(-1px);\n  }\n\n  .btn-secondary {\n    background: white;\n    border: 1.5px solid var(--gray-300);\n    color: var(--gray-700);\n  }\n\n  .btn-secondary:hover:not(:disabled) {\n    border-color: var(--gray-400);\n    color: var(--gray-900);\n    transform: translateY(-1px);\n  }\n\n  .btn[disabled] {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n\n  @media (max-width: 768px) {\n    .action-buttons {\n      bottom: 1rem;\n      left: 1rem;\n      right: 1rem;\n      width: calc(100% - 2rem);\n    }\n  }\n\n  /* Table Styles */\n  .table-container {\n    overflow-x: auto;\n    margin-top: 1rem;\n    border-radius: 0.5rem;\n    border: 1px solid var(--gray-200);\n  }\n\n  table {\n    width: 100%;\n    border-collapse: collapse;\n  }\n\n  th {\n    background: var(--gray-50);\n    padding: 0.875rem 1rem;\n    text-align: left;\n    font-weight: 600;\n    color: var(--gray-700);\n    border-bottom: 1px solid var(--gray-200);\n  }\n\n  td {\n    padding: 1rem;\n    border-bottom: 1px solid var(--gray-200);\n    color: var(--gray-800);\n  }\n\n  tr:hover td {\n    background: var(--gray-50);\n  }\n\n  /* Patient Info Styles */\n  .patient-info {\n    background: white;\n    border-radius: 0.5rem;\n    padding: 1.5rem;\n    border: 1px solid var(--gray-200);\n  }\n\n  .info-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n    gap: 1.5rem;\n  }\n\n  .info-item {\n    display: flex;\n    flex-direction: column;\n    gap: 0.375rem;\n  }\n\n  .info-label {\n    font-size: 0.75rem;\n    color: var(--gray-500);\n    font-weight: 500;\n  }\n\n  .info-value {\n    font-size: 0.875rem;\n    color: var(--gray-900);\n    font-weight: 500;\n  }\n\n  /* Animations */\n  @keyframes slideIn {\n    from {\n      opacity: 0;\n      transform: translateY(1rem);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  .animate-in {\n    animation: slideIn 0.3s ease-out;\n  }\n\n  /* Loading States */\n  .loading-overlay {\n   \n  }\n\n  .loading-spinner {\n    width: 2rem;\n    height: 2rem;\n    border: 3px solid var(--gray-200);\n    border-top-color: var(--primary);\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    to {\n      transform: rotate(360deg);\n    }\n  }\n\n  /* Dropdown Styles */\n  .dropdown-container {\n    position: relative;\n  }\n\n  .dropdown-results {\n    position: absolute;\n    top: 100%;\n    left: 0;\n    right: 0;\n    background: white;\n    border: 1px solid var(--gray-200);\n    border-radius: 0.5rem;\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n    max-height: 15rem;\n    overflow-y: auto;\n    z-index: 30;\n    margin-top: 0.25rem;\n  }\n\n  .dropdown-item {\n    padding: 0.75rem 1rem;\n    cursor: pointer;\n    transition: all 0.2s;\n    display: flex;\n    flex-direction: column;\n    gap: 0.25rem;\n  }\n\n  .dropdown-item:hover {\n    background: var(--gray-50);\n  }\n\n  .dropdown-item:not(:last-child) {\n    border-bottom: 1px solid var(--gray-200);\n  }\n\n  .dropdown-item-title {\n    font-weight: 500;\n    color: var(--gray-900);\n  }\n\n  .dropdown-item-subtitle {\n    font-size: 0.75rem;\n    color: var(--gray-500);\n  }\n\n  .dropdown-empty {\n    padding: 1rem;\n    text-align: center;\n    color: var(--gray-500);\n    font-size: 0.875rem;\n  }\n\n  .dropdown-loading {\n    padding: 1rem;\n    text-align: center;\n    color: var(--gray-500);\n    font-size: 0.875rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    gap: 0.5rem;\n  }\n\n  .dropdown-loading .loading-spinner {\n    width: 1rem;\n    height: 1rem;\n    border-width: 2px;\n  }\n\n  .visit-table-container {\n    overflow-x: auto;\n    margin: 1rem 0;\n    border-radius: 0.5rem;\n    border: 1px solid var(--gray-200);\n  }\n\n  .visit-table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 14px;\n    white-space: nowrap;\n  }\n\n  .visit-table th {\n    background: var(--gray-50);\n    padding: 0.75rem 1rem;\n    text-align: left;\n    font-weight: 500;\n    color: var(--gray-600);\n    border-bottom: 1px solid var(--gray-200);\n  }\n\n  .visit-table td {\n    padding: 0.75rem 1rem;\n    border-bottom: 1px solid var(--gray-200);\n    color: var(--gray-700);\n  }\n\n  .visit-table tr:last-child td {\n    border-bottom: none;\n  }\n\n  .visit-table tr.selected {\n    background: var(--primary-50);\n  }\n\n  .status-badge {\n    padding: 0.25rem 0.5rem;\n    border-radius: 9999px;\n    font-size: 12px;\n    font-weight: 500;\n  }\n\n  .status-scheduled {\n    background: var(--gray-100);\n    color: var(--gray-700);\n  }\n\n  .status-in-progress {\n    background: #FEF3C7;\n    color: #92400E;\n  }\n\n  .status-completed {\n    background: #D1FAE5;\n    color: #065F46;\n  }\n\n  .status-cancelled {\n    background: #FEE2E2;\n    color: #991B1B;\n  }\n\n  .btn-select {\n    padding: 0.375rem 0.75rem;\n    border-radius: 0.375rem;\n    font-size: 12px;\n    font-weight: 500;\n    border: 1px solid var(--primary);\n    background: transparent;\n    color: var(--primary);\n    cursor: pointer;\n    transition: all 0.2s;\n  }\n\n  .btn-select:hover:not(:disabled) {\n    background: var(--primary);\n    color: white;\n  }\n\n  .btn-select:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    background: var(--primary);\n    color: white;\n  }\n\n  .empty-state {\n    padding: 2rem;\n    text-align: center;\n    color: var(--gray-500);\n  }\n\n  .healthcare-search {\n    position: relative;\n    margin-bottom: 1rem;\n  }\n\n  .healthcare-search input {\n    width: 100%;\n    padding: 0.75rem 1rem;\n    padding-right: 2.5rem;\n    border: 2px solid var(--medical-primary);\n    border-radius: 0.5rem;\n    font-size: 0.875rem;\n    transition: all 0.2s;\n    background-color: var(--healthcare-bg);\n  }\n\n  .healthcare-search input:focus {\n    outline: none;\n    border-color: var(--primary-dark);\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n    background-color: white;\n  }\n\n  .healthcare-search svg {\n    position: absolute;\n    right: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 1.25rem;\n    height: 1.25rem;\n    color: var(--medical-primary);\n    pointer-events: none;\n  }\n\n  .healthcare-results {\n    position: absolute;\n    top: 100%;\n    left: 0;\n    right: 0;\n    background: white;\n    border: 1px solid var(--gray-200);\n    border-radius: 0.5rem;\n    max-height: 15rem;\n    overflow-y: auto;\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n    z-index: 50;\n    margin-top: 0.25rem;\n  }\n\n  .healthcare-result-item {\n    padding: 0.75rem 1rem;\n    cursor: pointer;\n    border-bottom: 1px solid var(--gray-200);\n    transition: all 0.2s;\n  }\n\n  .healthcare-result-item:hover {\n    background: var(--healthcare-bg);\n  }\n\n  .healthcare-result-item h4 {\n    color: var(--medical-primary);\n    font-weight: 600;\n    margin: 0;\n    font-size: 0.875rem;\n  }\n\n  .healthcare-result-item p {\n    color: var(--gray-600);\n    font-size: 0.75rem;\n    margin: 0.25rem 0;\n  }\n\n  .healthcare-badges {\n    display: flex;\n    gap: 0.5rem;\n    margin-top: 0.5rem;\n  }\n\n  .healthcare-badge {\n    padding: 0.25rem 0.5rem;\n    border-radius: 9999px;\n    font-size: 0.75rem;\n    font-weight: 500;\n  }\n\n  .badge-type {\n    background: var(--healthcare-green);\n    color: white;\n  }\n\n  .badge-code {\n    background: var(--medical-primary);\n    color: white;\n  }\n\n  .badge-price {\n    background: var(--gray-100);\n    color: var(--gray-700);\n  }\n\n  .dropdown-loading {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 1rem;\n    gap: 0.5rem;\n    color: var(--gray-500);\n  }\n\n  .dropdown-empty {\n    padding: 1rem;\n    text-align: center;\n    color: var(--gray-500);\n    font-size: 0.875rem;\n  }\n\n  .loading-spinner {\n    width: 1rem;\n    height: 1rem;\n    border: 2px solid var(--gray-200);\n    border-top-color: var(--medical-primary);\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    to { transform: rotate(360deg); }\n  }\n\n  /* Update existing table styles */\n  .table-container {\n    background: white;\n    border: 1px solid var(--gray-200);\n    border-radius: 0.5rem;\n    overflow: hidden;\n    margin-top: 1rem;\n  }\n\n  table {\n    width: 100%;\n    border-collapse: collapse;\n  }\n\n  th {\n    background: var(--gray-50);\n    padding: 0.75rem 1rem;\n    text-align: left;\n    font-size: 0.75rem;\n    font-weight: 600;\n    color: var(--gray-700);\n    text-transform: uppercase;\n  }\n\n  td {\n    padding: 0.75rem 1rem;\n    border-top: 1px solid var(--gray-200);\n    font-size: 0.875rem;\n    color: var(--gray-800);\n  }\n\n  tr:hover td {\n    background: var(--gray-50);\n  }\n\n  .empty-state {\n    text-align: center;\n    padding: 2rem;\n    color: var(--gray-500);\n  }\n\n  .empty-state p:first-child {\n    font-weight: 500;\n    margin-bottom: 0.5rem;\n  }\n\n  /* Notification styles */\n  .notification {\n    position: fixed;\n    bottom: 1rem;\n    right: 1rem;\n    padding: 0.75rem 1rem;\n    border-radius: 0.5rem;\n    font-size: 0.875rem;\n    font-weight: 500;\n    animation: slideIn 0.2s ease-out;\n    z-index: 100;\n  }\n\n  .notification.success {\n    background: var(--healthcare-green);\n    color: white;\n  }\n\n  .notification.error {\n    background: var(--error);\n    color: white;\n  }\n\n  .notification.warning {\n    background: var(--warning);\n    color: white;\n  }\n\n  @keyframes slideIn {\n    from {\n      transform: translateX(100%);\n      opacity: 0;\n    }\n    to {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n\n  .dropdown-item-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 0.25rem;\n  }\n\n  .dropdown-item-badge {\n    background: var(--primary);\n    color: white;\n    padding: 0.125rem 0.375rem;\n    border-radius: 9999px;\n    font-size: 0.75rem;\n    font-weight: 500;\n  }\n\n  .dropdown-item-short-desc {\n    display: block;\n    color: var(--primary);\n    font-size: 0.875rem;\n    font-weight: 500;\n    margin-bottom: 0.25rem;\n  }\n\n  .dropdown-item-description {\n    display: block;\n    color: var(--gray-700);\n    font-size: 0.875rem;\n    margin-bottom: 0.25rem;\n  }\n\n  .dropdown-item-category {\n    display: block;\n    color: var(--gray-500);\n    font-size: 0.75rem;\n    font-style: italic;\n  }\n\n  .vital-input-group {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .vital-input-group input {\n    width: 100px;\n    padding: 4px 8px;\n    border: 1px solid var(--gray-300);\n    border-radius: 4px;\n  }\n\n  .bp-input-group {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .bp-input {\n    width: 60px;\n    padding: 4px 8px;\n    border: 1px solid var(--gray-300);\n    border-radius: 4px;\n  }\n\n  .form-input {\n    width: 100%;\n    padding: 8px;\n    border: 1px solid var(--gray-300);\n    border-radius: 4px;\n    font-size: 14px;\n  }\n\n  .form-input:focus {\n    outline: none;\n    border-color: var(--primary);\n    box-shadow: 0 0 0 2px var(--primary-light);\n  }\n\n  textarea.form-input {\n    resize: vertical;\n    min-height: 80px;\n  }\n\n  .form-label {\n    display: block;\n    margin-bottom: 4px;\n    font-weight: 500;\n    color: var(--gray-700);\n  }\n\n  .form-input {\n    width: 100%;\n    padding: 8px 12px;\n    border: 1px solid var(--gray-300);\n    border-radius: 4px;\n    font-size: 14px;\n    transition: all 0.2s ease;\n  }\n\n  .form-input::placeholder {\n    color: var(--gray-500);\n  }\n\n  .form-input:focus {\n    outline: none;\n    border-color: var(--primary);\n    box-shadow: 0 0 0 2px var(--primary-light);\n  }\n\n  .search-input-wrapper {\n    position: relative;\n    width: 100%;\n  }\n\n  .submit-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.7);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 1000;\n  }\n\n  .submit-status {\n    background: white;\n    padding: 2rem;\n    border-radius: 8px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    text-align: center;\n    min-width: 300px;\n  }\n\n  .submit-status.submitting {\n    border-left: 4px solid var(--primary-color);\n  }\n\n  .submit-status.success {\n    border-left: 4px solid var(--success-color, #4CAF50);\n  }\n\n  .submit-status.error {\n    border-left: 4px solid var(--error-color, #f44336);\n  }\n\n  .loader {\n    display: inline-block;\n    width: 40px;\n    height: 40px;\n    margin-bottom: 1rem;\n    border: 4px solid #f3f3f3;\n    border-top: 4px solid var(--primary-color);\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n\n  .submit-status p {\n    margin: 0;\n    color: var(--text-color);\n    font-size: 1rem;\n    line-height: 1.5;\n  }\n\n  .spinner {\n    width: 20px;\n    height: 20px;\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    to { transform: rotate(360deg); }\n  }\n\n  .submit-button:disabled {\n    opacity: 0.7;\n    cursor: not-allowed;\n  }\n\n  .error-list {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    padding: 1rem;\n  }\n\n  .error-item {\n    background: var(--gray-50);\n    border: 1px solid var(--gray-200);\n    border-left: 4px solid var(--error);\n    border-radius: 0.5rem;\n    padding: 1rem;\n  }\n\n  .error-code, .error-display, .error-location {\n    margin-bottom: 0.5rem;\n  }\n\n  .no-errors {\n    color: var(--gray-500);\n    text-align: center;\n    padding: 1rem;\n  }\n\n  .communication-types {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 2rem;\n    padding: 1rem;\n  }\n\n  .solicited, .unsolicited {\n    background: var(--gray-50);\n    border-radius: 0.5rem;\n    padding: 1rem;\n  }\n\n  .communication-list {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    margin-top: 1rem;\n  }\n\n  .communication-item {\n    background: white;\n    border: 1px solid var(--gray-200);\n    border-radius: 0.5rem;\n    padding: 1rem;\n  }\n\n  .comm-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 0.5rem;\n    color: var(--gray-500);\n    font-size: 0.875rem;\n  }\n\n  .comm-content {\n    color: var(--gray-800);\n  }\n']))),Oa=function(e){function n(){var e,t,r,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=this,r=n,r=ua(r),e=function(e,n){if(n&&("object"==Xo(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,la()?Reflect.construct(r,i||[],ua(t).constructor):r.apply(t,i))).activeTab="prior-auth",e.selectedPatient=null,e.selectedVisit=null,e.visits=[],e.careTeam=[],e.diagnoses=[],e.procedures=[],e.medications=[],e.collapsedSections={patient:!1,visit:!1,"care-team":!1,diagnosis:!1,procedures:!1,medications:!1,supporting:!1,errors:!1,communications:!1},e.isLoading=!1,e.formData={vitalSigns:{bloodPressure:"",height:"",weight:""},clinicalInfo:{treatmentPlan:"",patientHistory:""}},e.progress=0,e.visitDetails=null,e.supportingInfo=[],e.servicePrices=[],e.selectedPriceList=null,e.facilityId=null,e.loadingStates={},e.payloadObject=oa({},n.PayloadObject),e.isSubmitting=!1,e.submitStatus="idle",e.submitMessage="",e.errors=[],e.communications=[],e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&pa(e,n)}(n,e),function(e,n,t){return n&&sa(e.prototype,n),t&&sa(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"updatePayloadObject",value:function(){var e,n,t,r,i,o,a,s,c,l,d,u,p=this;this.selectedPatient&&(this.payloadObject.patient={identifier:this.selectedPatient.nic||(null===(n=this.selectedPatient.id)||void 0===n?void 0:n.toString()),identifierSystem:"http://nphies.sa/identifier/iqama",firstName:this.selectedPatient.firstName||this.selectedPatient.arFname,middleName:this.selectedPatient.middleName,lastName:this.selectedPatient.lastName||this.selectedPatient.arLname,gender:(null===(t=this.selectedPatient.gender)||void 0===t||null===(t=t.genderName)||void 0===t?void 0:t.toLowerCase())||"unknown",dateOfBirth:this.selectedPatient.dateOfBirth,maritalStatus:(null===(r=this.selectedPatient.maritalStatus)||void 0===r?void 0:r.status)||"U",occupation:"",phoneNumber:this.selectedPatient.cellPhoneNo||this.selectedPatient.homePhoneNo||this.selectedPatient.officePhoneNo,nationalIdentity:this.selectedPatient.nic,address:{line1:this.selectedPatient.address||this.selectedPatient.arAddress||"N/A",city:null===(i=this.selectedPatient.city)||void 0===i?void 0:i.cityName,state:null===(o=this.selectedPatient.city)||void 0===o?void 0:o.stateName,postalCode:this.selectedPatient.postalCode,country:(null===(a=this.selectedPatient.nationality)||void 0===a?void 0:a.countryName)||(null===(s=this.selectedPatient.city)||void 0===s||null===(s=s.country)||void 0===s?void 0:s.countryName)},insurance:null!==(c=this.selectedPatient.patientInsurances)&&void 0!==c&&c[0]?{memberId:this.selectedPatient.patientInsurances[0].memberId,planName:null===(l=this.selectedPatient.patientInsurances[0].fkPlan)||void 0===l?void 0:l.planName,planCode:null===(d=this.selectedPatient.patientInsurances[0].fkPlan)||void 0===d?void 0:d.planCode,companyName:null===(u=this.selectedPatient.patientInsurances[0].payer)||void 0===u?void 0:u.companyName,startDate:this.selectedPatient.patientInsurances[0].startDate,expiryDate:this.selectedPatient.patientInsurances[0].expiryDate,priority:this.selectedPatient.patientInsurances[0].insurancePriority,relationshipToSubscriber:this.selectedPatient.patientInsurances[0].memberRelationTo}:null}),this.selectedVisit&&(this.payloadObject.encounter={id:this.selectedVisit.id,startDate:this.selectedVisit.startDate,endDate:this.selectedVisit.endDate,type:this.selectedVisit.type||"outpatient",class:this.selectedVisit.class||"AMB",classDisplay:this.selectedVisit.classDisplay||"Ambulatory",serviceEventCode:this.selectedVisit.serviceEventCode||"ICSE",serviceEventDescription:this.selectedVisit.description,status:this.selectedVisit.status||"planned"}),this.payloadObject.careTeam=this.careTeam.map((function(e){return{practitionerId:e.id,role:e.role||"primary",qualification:e.qualification,specialty:e.specialty}})),this.payloadObject.diagnoses=this.diagnoses.map((function(e){return{code:e.code,system:"http://hl7.org/fhir/sid/icd-10",type:e.type||"principal",display:e.description}})),this.payloadObject.procedures=this.procedures.map((function(e){var n;return{procedureCode:e.code,system:"http://nphies.sa/terminology/CodeSystem/oral-health-op",quantity:e.quantity||1,unitPrice:e.amount,serviceDate:e.serviceDate||(null===(n=p.selectedVisit)||void 0===n?void 0:n.startDate),ToothCode:e.toothCode,ToothSiteCode:e.toothSiteCode,toothNumber:e.toothNumber}})),null!==(e=this.formData)&&void 0!==e&&e.clinicalInfo&&(this.payloadObject.clinicalInformation={treatmentPlan:this.formData.clinicalInfo.treatmentPlan,patientHistory:this.formData.clinicalInfo.patientHistory}),this.dispatchEvent(new CustomEvent("payload-updated",{detail:{payload:this.payloadObject}}))}},{key:"handlePatientSelect",value:(w=ra(na().mark((function e(n){var t,r;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLoading=!0,e.prev=1,t=n.detail,this.selectedPatient=t,t.insuranceCoverages&&t.insuranceCoverages[0]&&(r=t.insuranceCoverages[0],this.payloadObject.coverage={subscriberId:r.subscriberId,membershipNumber:r.membershipNumber,coverageType:r.coverageType,relationshipToSubscriber:r.relationshipToSubscriber,insuranceCompany:r.insuranceCompany,planType:r.planType,effectiveDate:r.effectiveDate,expiryDate:r.expiryDate}),!t.visitmanagementVisits){e.next=10;break}this.visits=t.visitmanagementVisits,this.visits.length>0&&this.selectVisit(this.visits[0]),e.next=12;break;case 10:return e.next=12,this.fetchVisits();case 12:this.updateProgress(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Error handling patient selection:",e.t0),this.showNotification("Error loading patient data","error");case 19:return e.prev=19,this.isLoading=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[1,15,19,22]])}))),function(e){return w.apply(this,arguments)})},{key:"fetchVisits",value:(b=ra(na().mark((function e(){var n,t,r;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.selectedPatient){e.next=2;break}return e.abrupt("return");case 2:return this.isLoading=!0,e.prev=3,e.next=6,fetch(API_ENDPOINTS.VISIT.PAGED,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:1,pageSize:10,filters:"patientId=="+this.selectedPatient.id})});case 6:return n=e.sent,e.next=9,n.json();case 9:(t=e.sent).isSuccessfull&&t.dynamicResult&&(null!==(r=t.dynamicResult[0])&&void 0!==r&&r.visitmanagementVisits?this.visits=t.dynamicResult[0].visitmanagementVisits:this.visits=t.dynamicResult,this.visits.length>0&&(this.selectVisit(this.visits[0]),this.payloadObject.visit={id:this.visits[0].id,startDate:this.visits[0].startDate,endDate:this.visits[0].endDate,type:this.visits[0].type,status:this.visits[0].status,facility:this.visits[0].facilityId,provider:this.visits[0].providerId})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error fetching visits:",e.t0),this.showNotification("Error loading visit data","error");case 17:return e.prev=17,this.isLoading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[3,13,17,20]])}))),function(){return b.apply(this,arguments)})},{key:"handleVisitSelect",value:function(e){this.selectedVisit=e.detail,this.updatePayloadObject()}},{key:"handleCareTeamUpdate",value:function(e){this.careTeam=e.detail,this.updatePayloadObject()}},{key:"handleDiagnosisUpdate",value:function(e){this.diagnoses=e.detail,this.updatePayloadObject()}},{key:"handleProcedureUpdate",value:function(e){this.procedures=e.detail,this.updatePayloadObject()}},{key:"handleClinicalInfoUpdate",value:function(e){var n=e.target,t=n.name,r=n.value;this.formData.clinicalInfo=oa(oa({},this.formData.clinicalInfo),{},aa({},t,r)),this.updatePayloadObject()}},{key:"firstUpdated",value:function(){this.updateProgress(),this.coverageVerification=ShadowWidgets.createCoverageVerificationWithButton({position:"bottom-right-1",glowing:!0})}},{key:"disconnectedCallback",value:function(){!function(e,n,t){var r=da(ua(e.prototype),"disconnectedCallback",t);return"function"==typeof r?function(e){return r.apply(t,e)}:r}(n,0,this)([]),this.coverageVerification&&this.coverageVerification.cleanup()}},{key:"render",value:function(){var e=this;return U(co||(co=ha(['\n      <div class="wrapper">\n        ','\n        <div class="sticky-header">\n          <div class="header">\n            <img src="','" class="nphies-logo" alt="NPHIES">\n            <div class="header-content">\n              <h1 class="header-title">Prior Authorization Request</h1>\n              <div class="progress-indicator">\n                <div class="progress-bar" style="width: ','%"></div>\n              </div>\n            </div>\n            <button class="close-button" @click="','">\n              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                <path d="M18 6L6 18M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"/>\n              </svg>\n            </button>\n          </div>\n          \n          <div class="tabs">\n            <div class="tab ','"\n                 @click="','">\n              PRIOR AUTH\n            </div>\n          </div>\n        </div>\n\n        <div class="content">\n          <div class="prior-auth-container">\n            \x3c!-- Patient Section --\x3e\n            <div class="section ','">\n              <div class="section-header" @click="','">\n                <h2 class="section-title">\n                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />\n                  </svg>\n                  Patient Information\n                </h2>\n              </div>\n              <div class="section-content">\n                <patient-search\n                  @patient-selected="','"\n                  .selectedPatient="','">\n                </patient-search>\n              </div>\n            </div>\n\n            \x3c!-- Visit Section --\x3e\n            <div class="section ','">\n              <div class="section-header" @click="','">\n                <h2 class="section-title">\n                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />\n                  </svg>\n                  Visit Details\n                </h2>\n              </div>\n              <div class="section-content">\n                ','\n              </div>\n            </div>\n\n            \x3c!-- Care Team Section --\x3e\n            <div class="section ','">\n              <div class="section-header" @click="','">\n                <h2 class="section-title">\n                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />\n                  </svg>\n                  Care Team\n                </h2>\n              </div>\n              <div class="section-content">\n                <div class="form-field dropdown-container" id="practitionerDropdown">\n                  <input type="text" class="form-input" id="practitionerSearch" \n                    placeholder=" " @input="','">\n                  <label class="form-label" for="practitionerSearch">Search Practitioner</label>\n                </div>\n                ','\n              </div>\n            </div>\n\n            \x3c!-- Diagnosis Section --\x3e\n            <div class="section ','">\n              <div class="section-header" @click="','">\n                <h2 class="section-title">\n                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />\n                  </svg>\n                  Diagnosis\n                </h2>\n              </div>\n              <div class="section-content">\n                <div class="form-field dropdown-container" id="diagnosisDropdown">\n                  <input type="text" class="form-input" id="diagnosisSearch" \n                    placeholder=" " @input="','">\n                  <label class="form-label" for="diagnosisSearch">Search ICD-10 Code</label>\n                </div>\n                ','\n              </div>\n            </div>\n\n            \x3c!-- Medications Section --\x3e\n            <div class="section ','">\n              <div class="section-header" @click="','">\n                <h2 class="section-title">\n                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />\n                  </svg>\n                  Medications\n                </h2>\n              </div>\n              <div class="section-content">\n                <div class="form-field dropdown-container" id="medicationDropdown">\n                  <input type="text" class="form-input" id="medicationSearch" \n                    placeholder="Search medications" @input="','">\n                  <label class="form-label" for="medicationSearch">Search Medications</label>\n                  </div>\n                ','\n              </div>\n            </div>\n\n            \x3c!-- Supporting Information Section --\x3e\n            <div class="section ','">\n              <div class="section-header" @click="','">\n                <h2 class="section-title">\n                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />\n                  </svg>\n                  Supporting Information\n                </h2>\n              </div>\n              <div class="section-content">\n                ',"\n              </div>\n            </div>\n\n           \n             \n                ","\n                ","\n                ",'\n            </div>\n             \n          </div>\n            \n        </div>\n\n          \n\n        \x3c!-- Action Buttons --\x3e\n        <prior-auth-action-buttons\n          .selectedPatient="','"\n          .selectedVisit="','"\n          .careTeam="','"\n          .diagnoses="','"\n          .procedures="','"\n          .clinicalInfo="','"\n          .payloadObject="','"\n          @save-draft="','"\n          @validate="','"\n          @submit="','">\n        </prior-auth-action-buttons>\n      </div>\n    '])),this.isSubmitting?U(lo||(lo=ha(['\n          <div class="submit-overlay">\n            <div class="submit-status ','">\n              <div class="loader"></div>\n              <p>',"</p>\n            </div>\n          </div>\n        "])),this.submitStatus,this.submitMessage):"",nphiesLogo,this.progress,this.close,"prior-auth"===this.activeTab?"active":"",(function(){return e.switchTab("prior-auth")}),this.collapsedSections.patient?"collapsed":"",(function(){return e.toggleSection("patient")}),function(){var n=ra(na().mark((function n(t){return na().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e.handlePatientSelect(t));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),this.selectedPatient,this.collapsedSections.visit?"collapsed":"",(function(){return e.toggleSection("visit")}),this.selectedPatient?U(uo||(uo=ha(['\n                  <div class="visit-table-container">\n                    ',"\n                  </div>\n                "])),this.visits&&this.visits.length>0?U(po||(po=ha(['\n                    <table class="visit-table">\n                      <thead>\n                        <tr>\n                          <th>Visit ID</th>\n                            <th>Visit Date</th>\n                            <th>Visit Type</th>\n                          <th>Status</th>\n                            <th>Episode ID</th>\n                            <th>Transaction ID</th>\n                            <th>Facility</th>\n                            <th>Provider</th>\n                          <th>Action</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        ',"\n                      </tbody>\n                    </table>\n                    "])),this.visits.map((function(n){var t,r,i;return U(ho||(ho=ha(['\n                          <tr class="','">\n                              <td>',"</td>\n                              <td>","</td>\n                              <td>",'</td>\n                              <td>\n                                <span class="status-badge ','">\n                                  ',"\n                              </span>\n                            </td>\n                              <td>","</td>\n                              <td>","</td>\n                              <td>","</td>\n                              <td>",'</td>\n                            <td>\n                              <button \n                                class="btn-select"\n                                ?disabled="','"\n                                @click="','"\n                              >\n                                ',"\n                              </button>\n                            </td>\n                          </tr>\n                        "])),(null===(t=e.selectedVisit)||void 0===t?void 0:t.id)===n.id?"selected":"",n.id||"N/A",n.startDate?new Date(n.startDate).toLocaleDateString():"N/A",n.type||"Regular Visit",e.getStatusClass(n.status),n.status||"Scheduled",n.episodeId||"N/A",n.transactionIdno||"N/A",n.facilityName||n.fkFacilityId||"N/A",n.doctorName||n.doctorId||"N/A",(null===(r=e.selectedVisit)||void 0===r?void 0:r.id)===n.id,(function(){return e.handleVisitSelect({detail:n})}),(null===(i=e.selectedVisit)||void 0===i?void 0:i.id)===n.id?"Selected":"Select")}))):U(fo||(fo=ha(['\n                      <div class="empty-state">\n                        <p>No visits found for this patient</p>\n                      </div>\n                    '])))):U(mo||(mo=ha(['\n                  <div class="empty-state">\n                    <p>Please select a patient first</p>\n                  </div>\n                ']))),this.collapsedSections["care-team"]?"collapsed":"",(function(){return e.toggleSection("care-team")}),this.handlePractitionerSearch,this.renderCareTeam(),this.collapsedSections.diagnosis?"collapsed":"",(function(){return e.toggleSection("diagnosis")}),this.handleDiagnosisSearch,this.renderDiagnosisTable(),this.collapsedSections.medications?"collapsed":"",(function(){return e.toggleSection("medications")}),this.handleMedicationSearch,this.medications&&this.medications.length>0?U(vo||(vo=ha(['\n                  <div class="table-container">\n                    <table>\n                      <thead>\n                        <tr>\n                          <th>Code</th>\n                          <th>Name</th>\n                          <th>Dosage</th>\n                          <th>Quantity</th>\n                          <th>Unit</th>\n                          <th>Amount</th>\n                          <th>Action</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        ',"\n                      </tbody>\n                    </table>\n                  </div>\n                "])),this.medications.map((function(n){return U(go||(go=ha(["\n                          <tr>\n                            <td>","</td>\n                            <td>","</td>\n                            <td>","</td>\n                            <td>","</td>\n                            <td>","</td>\n                            <td>SAR ",'</td>\n                            <td>\n                              <button class="btn btn-secondary" @click="','">\n                                Remove\n                              </button>\n                            </td>\n                          </tr>\n                        '])),n.code||"N/A",n.name||"N/A",n.dosage||"N/A",n.quantity||"N/A",n.unit||"N/A",(n.amount||0).toFixed(2),(function(){return e.removeMedication(n)}))}))):U(yo||(yo=ha(['\n                  <div class="empty-state">\n                    <p>No medications added yet</p>\n                    <p class="text-sm text-gray-500">Search and select medications above</p>\n                </div>\n                ']))),this.collapsedSections.supporting?"collapsed":"",(function(){return e.toggleSection("supporting")}),this.renderVitals(),this.renderProcedureSection(),this.renderCommunicationSection(),this.renderErrorSection(),this.selectedPatient,this.selectedVisit,this.careTeam,this.diagnoses,this.procedures,this.formData.clinicalInfo,this.payloadObject,this.handleSaveAsDraft,this.handleValidate,this.handleSubmit)}},{key:"renderPatientInfo",value:function(){var e;return this.selectedPatient?U(bo||(bo=ha(['\n      <div class="patient-info">\n        <div class="info-grid">\n          <div class="info-item">\n            <span class="info-label">Name:</span>\n            <span class="info-value">','</span>\n          </div>\n          <div class="info-item">\n            <span class="info-label">ID:</span>\n            <span class="info-value">','</span>\n          </div>\n          <div class="info-item">\n            <span class="info-label">DOB:</span>\n            <span class="info-value">','</span>\n          </div>\n          <div class="info-item">\n            <span class="info-label">Gender:</span>\n            <span class="info-value">',"</span>\n          </div>\n        </div>\n      </div>\n    "])),this.selectedPatient.name,this.selectedPatient.id,this.selectedPatient.dateOfBirth,(null===(e=this.selectedPatient.gender)||void 0===e?void 0:e.genderName)||"Unknown"):""}},{key:"renderVisitDetails",value:function(){var e,n=this;return null!==(e=this.visits)&&void 0!==e&&e.length?U(xo||(xo=ha(['\n      <div class="visit-table-container">\n        <table class="visit-table">\n          <thead>\n            <tr>\n              <th>Visit ID</th>\n              <th>Visit Date</th>\n              <th>Visit Type</th>\n              <th>Status</th>\n              <th>Episode ID</th>\n              <th>Transaction ID</th>\n              <th>Facility</th>\n              <th>Provider</th>\n              <th>Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>\n    "])),this.visits.map((function(e){var t,r,i;return U(So||(So=ha(['\n              <tr class="','">\n                <td>',"</td>\n                <td>","</td>\n                <td>",'</td>\n                <td>\n                  <span class="status-badge ','">\n                    ',"\n                  </span>\n                </td>\n                <td>","</td>\n                <td>","</td>\n                <td>","</td>\n                <td>",'</td>\n                <td>\n                  <button \n                    class="btn-select"\n                    @click="','"\n                    ?disabled="','"\n                  >\n                    ',"\n                  </button>\n                </td>\n              </tr>\n            "])),(null===(t=n.selectedVisit)||void 0===t?void 0:t.id)===e.id?"selected":"",e.id||"N/A",e.startDate?new Date(e.startDate).toLocaleDateString():"N/A",e.type||"Regular Visit",n.getStatusClass(e.status),e.status||"Scheduled",e.episodeId||"N/A",e.transactionIdno||"N/A",e.facilityName||e.fkFacilityId||"N/A",e.doctorName||e.doctorId||"N/A",(function(){return n.selectVisit(e)}),(null===(r=n.selectedVisit)||void 0===r?void 0:r.id)===e.id,(null===(i=n.selectedVisit)||void 0===i?void 0:i.id)===e.id?"Selected":"Select")}))):U(wo||(wo=ha(['\n      <div class="empty-state">\n        No visits found for this patient\n      </div>\n    '])))}},{key:"renderCareTeam",value:function(){var e,n=this;return null!==(e=this.careTeam)&&void 0!==e&&e.length?U(Eo||(Eo=ha(['\n      <div class="table-container">\n        <table>\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>LICENSE/PIN</th>\n              <th>TITLE</th>\n              <th>NAME</th>\n              <th>DEPARTMENT</th>\n              <th>DESIGNATION</th>\n              <th>ACTION</th>\n            </tr>\n          </thead>\n          <tbody>\n        ',"\n          </tbody>\n        </table>\n            </div>\n    "])),this.careTeam.map((function(e){return U(Po||(Po=ha(["\n              <tr>\n                <td>","</td>\n                <td>","</td>\n                <td>","</td>\n                <td>","</td>\n                <td>","</td>\n                <td>",'</td>\n                <td>\n                  <button class="btn btn-secondary" @click="','">\n                    Remove\n                  </button>\n                </td>\n              </tr>\n            '])),e.id,e.pinNo||"N/A",e.title,e.name,e.departmentId||"N/A",e.designationId||"N/A",(function(){return n.removeCareTeamMember(e)}))}))):U(ko||(ko=ha(['\n      <div class="empty-state">\n        <p>No care team members found</p>\n      </div>\n    '])))}},{key:"renderVitals",value:function(){var e=this;return this.selectedVisit?U(Co||(Co=ha(['\n      <div class="vitals-container">\n        <div class="form-grid">\n          \x3c!-- Vital Signs --\x3e\n          <div class="form-group">\n            <h3 class="form-subtitle">Vital Signs</h3>\n            <div class="vital-input-group">\n              <div class="form-field">\n                <label class="form-label">Blood Pressure</label>\n                  <div class="bp-input-group">\n                  <input type="text" class="form-input bp-input" \n                    .value="','"\n                    @input="','">\n                    <span>mmHg</span>\n                  </div>\n              </div>\n              <div class="form-field">\n                <label class="form-label">Height</label>\n                  <div class="vital-input-group">\n                  <input type="number" class="form-input" \n                    .value="','"\n                    @input="','">\n                    <span>cm</span>\n                  </div>\n              </div>\n              <div class="form-field">\n                <label class="form-label">Weight</label>\n                  <div class="vital-input-group">\n                  <input type="number" class="form-input" \n                    .value="','"\n                    @input="','">\n                    <span>kg</span>\n                  </div>\n                  </div>\n                  </div>\n        </div>\n\n          \x3c!-- Clinical Information --\x3e\n          <div class="form-group">\n            <h3 class="form-subtitle">Clinical Information</h3>\n            <div class="form-field">\n              <label class="form-label">Treatment Plan</label>\n              <textarea class="form-input" name="treatmentPlan" rows="4"\n                .value="','"\n                @input="','"></textarea>\n            </div>\n            <div class="form-field">\n              <label class="form-label">Patient History</label>\n              <textarea class="form-input" name="patientHistory" rows="4"\n                .value="','"\n                @input="','"></textarea>\n            </div>\n            <div class="form-field">\n              <label class="form-label">Chief Complaint</label>\n              <textarea class="form-input" name="chiefComplaint" rows="4"\n                .value="','"\n                @input="','"></textarea>\n          </div>\n        </div>\n      </div>\n      </div>\n    '])),this.formData.vitalSigns.bloodPressure,(function(n){return e.updateFormData("vitalSigns","bloodPressure",n.target.value)}),this.formData.vitalSigns.height,(function(n){return e.updateFormData("vitalSigns","height",n.target.value)}),this.formData.vitalSigns.weight,(function(n){return e.updateFormData("vitalSigns","weight",n.target.value)}),this.formData.clinicalInfo.treatmentPlan,this.handleClinicalInfoUpdate,this.formData.clinicalInfo.patientHistory,this.handleClinicalInfoUpdate,this.formData.clinicalInfo.chiefComplaint,this.handleClinicalInfoUpdate):U(Oo||(Oo=ha(['\n      <div class="empty-state">\n        <p>No vitals information available</p>\n        <p>Please select a visit first</p>\n          </div>\n    '])))}},{key:"renderProcedureSection",value:function(){var e=this;return U(Ao||(Ao=ha(['\n      <div class="section ','">\n        <div class="section-header" @click="','">\n          <h2 class="section-title">\n            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />\n            </svg>\n            Procedures\n          </h2>\n        </div>\n        <div class="section-content">\n          ',"\n          ","\n        </div>\n      </div>\n    "])),this.isCollapsed("procedures")?"collapsed":"",(function(){return e.toggleSection("procedures")}),this.renderProcedureSearch(),this.renderProcedureTable())}},{key:"renderProcedureSearch",value:function(){return U(To||(To=ha(['\n      <div class="form-field dropdown-container" id="procedureDropdown">\n        <div class="search-input-wrapper">\n          <input \n            type="text" \n            class="form-input" \n            placeholder="Search CPT Codes"\n            @input="','"\n          >\n          ',"\n        </div>\n      </div>\n    "])),this.handleProcedureSearch,this.loadingStates.procedures?U(Do||(Do=ha(['\n            <div class="search-loading-indicator">\n              <div class="spinner"></div>\n            </div>\n          ']))):"")}},{key:"handleProcedureSearch",value:(y=ra(na().mark((function e(n){var t,r,i,o,a,s,c,l,d=this;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(t=n.target.value)||void 0===t?void 0:t.trim(),i=this.shadowRoot.querySelector("#procedureDropdown"),(o=i.querySelector(".dropdown-results"))||((o=document.createElement("div")).className="dropdown-results",i.appendChild(o)),r&&!(r.length<3)){e.next=7;break}return o.innerHTML='<div class="dropdown-empty">Enter at least 3 characters to search</div>',e.abrupt("return");case 7:return e.prev=7,this.loadingStates=oa(oa({},this.loadingStates),{},{procedures:!0}),this.requestUpdate(),e.next=12,fetch("".concat(API_ENDPOINTS.MASTER_PRICE_SERVICE_DIRECTORY.AUTOCOMPLETE_SERVICES,"?searchTerm=").concat(encodeURIComponent(r)),{method:"GET",headers:{"Content-Type":"application/json"}});case 12:if((a=e.sent).ok){e.next=15;break}throw new Error("HTTP error! status: ".concat(a.status));case 15:return e.next=17,a.json();case 17:if(!(s=e.sent).isSuccessfull||!s.dynamicResult){e.next=24;break}console.log("Found procedures:",s.dynamicResult.length),0===(c=s.dynamicResult.map((function(e){var n="number"==typeof e.standardCharges?e.standardCharges:parseFloat(e.standardCharges)||0;return{id:e.id,code:e.cptCode,name:e.serviceName,description:e.description||e.cptDescription||"No description available",type:e.serviceTypeName||"Procedure",category:e.serviceCategory||"Procedure",status:e.serviceStatus||"Unknown",facility:e.facilityName||"Unknown Facility",unitType:e.unitTypeName||"Per Service",standardCharges:n,isActive:e.isActive}}))).length?o.innerHTML='<div class="dropdown-empty">No procedures found matching your search</div>':(l=c.map((function(e){var n=JSON.stringify(e).replace(/'/g,"&apos;");return'<div class="dropdown-item" data-procedure=\''.concat(n,'\'>\n                <div class="dropdown-item-header">\n                    <span class="dropdown-item-title">').concat(e.code||"No CPT Code",'</span>\n                    <span class="dropdown-item-badge">').concat(e.type,'</span>\n                </div>\n                <span class="dropdown-item-short-desc">').concat(e.name,'</span>\n                <span class="dropdown-item-description">').concat(e.description,'</span>\n                <span class="dropdown-item-category">\n                    ').concat(e.facility," - ").concat(e.unitType,"\n                    ").concat("number"==typeof e.standardCharges?" - $".concat(e.standardCharges.toFixed(2)):"","\n                </span>\n            </div>")})).join(""),o.innerHTML=l,o.querySelectorAll(".dropdown-item").forEach((function(e){e.addEventListener("click",(function(){try{var n=JSON.parse(e.getAttribute("data-procedure"));console.log("Selected procedure:",n),d.selectProcedure(n),o.remove()}catch(e){console.error("Error selecting procedure:",e),d.showNotification("Error selecting procedure","error")}}))}))),e.next=25;break;case 24:throw new Error(s.errorMessage||"Failed to fetch procedures");case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(7),console.error("Error searching procedures:",e.t0),o.innerHTML='<div class="dropdown-error">Error: '.concat(e.t0.message,"</div>");case 31:return e.prev=31,this.loadingStates=oa(oa({},this.loadingStates),{},{procedures:!1}),this.requestUpdate(),e.finish(31);case 35:case"end":return e.stop()}}),e,this,[[7,27,31,35]])}))),function(e){return y.apply(this,arguments)})},{key:"renderProcedureTable",value:function(){var e,n=this;return null!==(e=this.procedures)&&void 0!==e&&e.length?U(jo||(jo=ha(['\n      <div class="table-container">\n        <table>\n          <thead>\n            <tr>\n              <th>CPT Code</th>\n              <th>Service Name</th>\n              <th>Description</th>\n              <th>Type</th>\n              <th>Facility</th>\n              <th>Charges</th>\n              <th>Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>\n    "])),this.procedures.map((function(e){return U(No||(No=ha(["\n              <tr>\n                <td>","</td>\n                <td>","</td>\n                <td>","</td>\n                <td>","</td>\n                <td>","</td>\n                <td>$",'</td>\n                <td>\n                  <button class="btn btn-secondary" @click="','">\n                    Remove\n                  </button>\n                </td>\n              </tr>\n            '])),e.code,e.name,e.description,e.type,e.facility,"number"==typeof e.standardCharges?e.standardCharges.toFixed(2):"0.00",(function(){return n.removeProcedure(e)}))}))):U(Io||(Io=ha(['\n        <div class="empty-state">\n          <p>No procedures added yet</p>\n          <p class="text-sm text-gray-500">Search and select procedures above</p>\n        </div>\n      '])))}},{key:"selectProcedure",value:(g=ra(na().mark((function e(n){return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Selecting procedure:",n),!this.procedures.some((function(e){return e.code===n.code}))){e.next=5;break}return console.log("Duplicate procedure found"),this.showNotification("This procedure has already been added","warning"),e.abrupt("return");case 5:Array.isArray(this.procedures)||(console.log("Initializing procedures array"),this.procedures=[]),this.procedures=[].concat(Zo(this.procedures),[n]),console.log("Updated procedures list:",this.procedures),this.updateProgress(),this.requestUpdate(),this.showNotification("Procedure added successfully","success");case 11:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"renderMedicationTable",value:function(){var e=this;return U(Lo||(Lo=ha(['\n      <div class="table-container">\n        <table class="data-table">\n          <thead>\n            <tr>\n              <th>Code</th>\n              <th>Name</th>\n              <th>Dosage</th>\n              <th>Quantity</th>\n              <th>Unit</th>\n              <th>Amount</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>\n    "])),this.medications.map((function(n){return U(Ro||(Ro=ha(["\n              <tr>\n                <td>","</td>\n                <td>","</td>\n                <td>","</td>\n                <td>","</td>\n                <td>","</td>\n                <td>SAR ",'</td>\n                <td>\n                  <button class="btn btn-secondary" @click="','">\n                    Remove\n                  </button>\n                </td>\n              </tr>\n            '])),n.code,n.name,n.dosage,n.quantity,n.unit,n.amount.toFixed(2),(function(){return e.removeMedication(n)}))})))}},{key:"handleMedicationSearch",value:(v=ra(na().mark((function e(n){var t,r,i,o,a,s,c,l;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.target.value.trim().toUpperCase(),console.log("Medication search triggered with term:",t),!(t.length<2)){e.next=6;break}return(r=this.shadowRoot.querySelector("#medicationDropdown"))&&(i=r.querySelector(".dropdown-results"))&&(i.innerHTML=""),e.abrupt("return");case 6:return e.prev=6,e.next=9,fetch("".concat(API_ENDPOINTS.MASTER_PRICE_SERVICE_DIRECTORY.AUTOCOMPLETE_SERVICES,"?searchTerm=").concat(encodeURIComponent(t),"&serviceTypeId=3"));case 9:if((o=e.sent).ok){e.next=12;break}throw new Error("Failed to fetch medications");case 12:return e.next=14,o.json();case 14:if(a=e.sent,console.log("API Response:",a),!a.isSuccessfull||!a.dynamicResult){e.next=22;break}s=a.dynamicResult,console.log("Processed Results:",s),s.length>0?this.showMedicationResults(s):(c=this.shadowRoot.querySelector("#medicationDropdown"))&&((l=c.querySelector(".dropdown-results"))||((l=document.createElement("div")).className="dropdown-results",c.appendChild(l)),l.innerHTML='<div class="dropdown-empty">No medications found</div>'),e.next=23;break;case 22:throw new Error(a.errorMessage||"Failed to fetch medications");case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(6),console.error("Error searching medications:",e.t0),this.showNotification("Error searching medications","error");case 29:case"end":return e.stop()}}),e,this,[[6,25]])}))),function(e){return v.apply(this,arguments)})},{key:"showMedicationResults",value:function(e){var n=this;console.log("Showing medication results:",e);var t=this.shadowRoot.querySelector("#medicationDropdown");if(t){var r=t.querySelector(".dropdown-results");r||((r=document.createElement("div")).className="dropdown-results",t.appendChild(r)),Array.isArray(e)&&0!==e.length?(r.innerHTML=e.map((function(e){var n;return'\n        <div class="dropdown-item" data-id="'.concat(e.id,'">\n            <div class="dropdown-item-header">\n                <span class="dropdown-item-title">').concat(e.serviceName||"N/A",'</span>\n                <span class="dropdown-item-badge">SAR ').concat((null===(n=e.standardCharges)||void 0===n?void 0:n.toFixed(2))||"0.00",'</span>\n            </div>\n            <div class="dropdown-item-content">\n                <span class="dropdown-item-description">').concat(e.description||"No description available",'</span>\n                <div class="dropdown-item-details">\n                    <span class="dropdown-item-facility">').concat(e.facilityName||"N/A","</span>\n                </div>\n            </div>\n        </div>\n    ")})).join(""),r.querySelectorAll(".dropdown-item").forEach((function(t){t.addEventListener("click",(function(){var i=t.getAttribute("data-id"),o=e.find((function(e){return e.id===parseInt(i)}));console.log("Selected medication:",o),o&&n.promptForDosage(o),r.innerHTML=""}))}))):r.innerHTML='<div class="dropdown-empty">No medications found</div>'}else console.error("Medication dropdown container not found")}},{key:"promptForDosage",value:function(e){var n=this;console.log("Prompting for dosage:",e);var t=document.createElement("div");t.innerHTML='\n        <style>\n            .btn-primary {\n                background-color: var(--medical-primary) !important;\n                color: white !important;\n                border: none !important;\n                padding: 8px 16px !important;\n                border-radius: 4px !important;\n                cursor: pointer !important;\n                font-weight: 500 !important;\n                transition: all 0.2s ease !important;\n            }\n            .btn-primary:hover {\n                background-color: var(--primary-dark) !important;\n                transform: translateY(-1px) !important;\n            }\n            .btn-secondary {\n                background-color: white !important;\n                color: var(--gray-700) !important;\n                border: 1px solid var(--gray-300) !important;\n                padding: 8px 16px !important;\n                border-radius: 4px !important;\n                cursor: pointer !important;\n                font-weight: 500 !important;\n                transition: all 0.2s ease !important;\n                margin-right: 8px !important;\n            }\n            .btn-secondary:hover {\n                border-color: var(--gray-400) !important;\n                color: var(--gray-900) !important;\n            }\n            .dosage-modal-overlay {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0, 0, 0, 0.5);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n                z-index: 9999;\n            }\n            .dosage-modal {\n                background: white;\n                padding: 2rem;\n                border-radius: 8px;\n                width: 400px;\n                max-width: 90%;\n                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n            }\n            .modal-header {\n                margin-bottom: 20px;\n            }\n            .modal-header h3 {\n                margin: 0;\n                color: var(--medical-primary);\n            }\n            .modal-header p {\n                margin: 10px 0 0;\n                color: var(--gray-600);\n                font-size: 14px;\n            }\n            .form-field {\n                margin-bottom: 15px;\n            }\n            .form-field label {\n                display: block;\n                margin-bottom: 5px;\n                color: var(--gray-700);\n            }\n            .form-field input, .form-field select {\n                width: 100%;\n                padding: 8px;\n                border: 1px solid var(--gray-300);\n                border-radius: 4px;\n            }\n            .modal-footer {\n                display: flex;\n                justify-content: flex-end;\n                gap: 10px;\n                margin-top: 20px;\n            }\n        </style>\n        <div class="dosage-modal-overlay">\n            <div class="dosage-modal">\n                <div class="modal-header">\n                    <h3>Enter Medication Details</h3>\n                    <p>'.concat(e.serviceName||"Selected Medication",'</p>\n                </div>\n                <div class="modal-content">\n                    <div class="form-field">\n                        <label>Dosage</label>\n                        <input type="text" id="dosageInput" placeholder="e.g., 500mg" required>\n                    </div>\n                    <div class="form-field">\n                        <label>Quantity</label>\n                        <input type="number" id="quantityInput" min="1" value="1" required>\n                    </div>\n                    <div class="form-field">\n                        <label>Unit</label>\n                        <select id="unitInput">\n                            <option value="tablets">Tablets</option>\n                            <option value="capsules">Capsules</option>\n                            <option value="ml">ML</option>\n                            <option value="mg">MG</option>\n                            <option value="units">Units</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-secondary" id="cancelBtn">Cancel</button>\n                    <button class="btn btn-primary" id="confirmBtn">Submit</button>\n                </div>\n            </div>\n        </div>\n    '),document.body.appendChild(t);var r=t.querySelector("#confirmBtn"),i=t.querySelector("#cancelBtn"),o=t.querySelector("#dosageInput"),a=t.querySelector("#quantityInput"),s=t.querySelector("#unitInput"),c=function(){t&&t.parentNode&&t.parentNode.removeChild(t)};r.addEventListener("click",(function(){var t=o.value.trim(),r=parseInt(a.value),i=s.value;if(t&&r){var l=oa(oa({},e),{},{dosage:t,quantity:r,unit:i,amount:(e.standardCharges||0)*r});console.log("Adding medication with data:",l),n.selectMedication(l),c()}else n.showNotification("Please fill in all required fields","error")})),i.addEventListener("click",c),t.addEventListener("click",(function(e){e.target===t.querySelector(".dosage-modal-overlay")&&c()})),o.focus()}},{key:"selectMedication",value:function(e){var n={id:e.id,code:e.serviceCode,name:e.serviceName,description:e.description||"",type:e.serviceTypeName,dosage:e.dosage,quantity:e.quantity,unit:e.unit,amount:e.standardCharges||0};this.medications=[].concat(Zo(this.medications),[n]),this.requestUpdate(),this.showNotification("Medication added successfully","success")}},{key:"renderClaims",value:function(){var e,n,t,r,i,o,a,s,c,l,d=this,u=[{id:"O1",title:"Treatment Plan",date:(new Date).toISOString(),value:(null===(e=this.formData)||void 0===e||null===(e=e.clinicalInfo)||void 0===e?void 0:e.treatmentPlan)||"Standard treatment protocol to be followed"},{id:"O2",title:"Patient History",date:(new Date).toISOString(),value:(null===(n=this.formData)||void 0===n||null===(n=n.clinicalInfo)||void 0===n?void 0:n.patientHistory)||"No significant past medical history"},{id:"O3",title:"Chief Complaint",date:(new Date).toISOString(),value:(null===(t=this.formData)||void 0===t||null===(t=t.clinicalInfo)||void 0===t?void 0:t.chiefComplaint)||"Patient presents with typical symptoms"}],p=(this.diagnoses||[]).map((function(e,n){return{id:"D".concat(n+1),code:e.code,description:e.description||e.display,date:(new Date).toISOString(),amount:e.amount||500}})),h={};p.forEach((function(e){h[e.id]=(d.procedures||[]).filter((function(n){return n.diagnosisId===e.id})).map((function(e,n){return{id:"P".concat(n+1),name:e.name||e.description,code:e.code,quantity:e.quantity||1,amount:e.amount||250}}))}));var f=(this.medications||[]).map((function(e,n){return{id:"M".concat(n+1),name:e.name||e.description,dosage:e.dosage||"100mg",quantity:e.quantity||30,unit:e.unit||"tablets",amount:e.amount||120}}));return U(_o||(_o=ha(['\n      <div class="claims-container">\n        <claim-component\n          .claimData=',"\n          .selectedDiagnosis=","\n          .selectedProcedures=","\n          .selectedMedications=","\n          .observations=","\n          @claim-submit=","\n          @save-draft=","\n        ></claim-component>\n      </div>\n    "])),{provider:{id:(null===(r=this.selectedVisit)||void 0===r?void 0:r.facilityId)||"PR-12345",name:(null===(i=this.selectedVisit)||void 0===i?void 0:i.facilityName)||"Healthcare Provider",address:(null===(o=this.selectedVisit)||void 0===o?void 0:o.facilityAddress)||"123 Medical Center Drive",city:(null===(a=this.selectedVisit)||void 0===a?void 0:a.facilityCity)||"Riyadh",country:"Saudi Arabia",contact:(null===(s=this.selectedVisit)||void 0===s?void 0:s.facilityContact)||"+966 12 345 6789"},patient:{id:(null===(c=this.selectedPatient)||void 0===c?void 0:c.nationalId)||"PT-67890",name:this.selectedPatient?"".concat(this.selectedPatient.firstName||""," ").concat(this.selectedPatient.lastName||""):"John Doe",insurance:(null===(l=this.selectedVisit)||void 0===l?void 0:l.insuranceCompany)||"Premium Health Insurance"}},p,h,f,u,this.handleClaimSubmit,this.handleClaimDraft)}},{key:"handleClaimSubmit",value:(m=ra(na().mark((function e(n){var t,r,i=this;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.detail,this.isLoading=!0,r={visitId:this.selectedVisit.id,patientId:this.selectedPatient.id,facilityId:this.selectedVisit.facilityId,diagnosis:t.diagnosis.map((function(e){return{code:e.code,description:e.description,amount:e.amount,procedures:i.selectedProcedures[e.id]||[]}})),medications:t.medications,observations:t.observations,totalAmount:parseFloat(t.totals.total),vatAmount:parseFloat(t.totals.vat),status:"SUBMITTED"},e.next=6,fetch("/api/claims",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 6:if(e.sent.ok){e.next=9;break}throw new Error("Failed to submit claim");case 9:this.showNotification("Claim submitted successfully","success"),this.switchTab("prior-auth"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error submitting claim:",e.t0),this.showNotification(e.t0.message,"error");case 17:return e.prev=17,this.isLoading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[0,13,17,20]])}))),function(e){return m.apply(this,arguments)})},{key:"handleClaimDraft",value:(f=ra(na().mark((function e(n){var t,r,i=this;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.detail,this.isLoading=!0,r={visitId:this.selectedVisit.id,patientId:this.selectedPatient.id,facilityId:this.selectedVisit.facilityId,diagnosis:t.diagnosis.map((function(e){return{code:e.code,description:e.description,amount:e.amount,procedures:i.selectedProcedures[e.id]||[]}})),medications:t.medications,observations:t.observations,totalAmount:parseFloat(t.totals.total),vatAmount:parseFloat(t.totals.vat),status:"DRAFT"},e.next=6,fetch("/api/claims/draft",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 6:if(e.sent.ok){e.next=9;break}throw new Error("Failed to save draft");case 9:this.showNotification("Draft saved successfully","success"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error saving draft:",e.t0),this.showNotification(e.t0.message,"error");case 16:return e.prev=16,this.isLoading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[0,12,16,19]])}))),function(e){return f.apply(this,arguments)})},{key:"renderReports",value:function(){return U(Fo||(Fo=ha(['\n      <div class="reports-container">\n        <h2>Reports</h2>\n        \x3c!-- Implement reports UI --\x3e\n      </div>\n    '])))}},{key:"handlePatientSelected",value:(h=ra(na().mark((function e(n){return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.prev=1,this.selectedPatient=n.detail,e.next=5,this.fetchVisits();case 5:this.updateProgress(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching patient visits:",e.t0);case 11:return e.prev=11,this.isLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,8,11,14]])}))),function(e){return h.apply(this,arguments)})},{key:"processVisitData",value:(p=ra(na().mark((function e(n){var t,r,i;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return this.visitDetails={id:n.id,date:n.visitDate,time:n.startTime,type:this.getVisitTypeName(n.fkVisitSubTypeId),status:this.getVisitStatusName(n.fkPatientVisitStatusId),facility:n.fkFacilityId,reasonOfVisit:n.reasonOfVisit,episodeId:n.episodeId,transactionId:n.transactionIdno},n.doctor&&(t={id:n.doctor.id,pinNo:n.doctor.pinNo,title:"Dr.",name:"".concat(n.doctor.fname," ").concat(n.doctor.lname).trim(),departmentId:n.doctor.departmentId,designationId:n.doctor.designationId},this.careTeam=[t]),this.selectedVisit=n,e.next=7,this.fetchVitals(n.id);case 7:r=e.sent,i=r.find((function(e){return e.visitId===n.id}))||r[0],this.formData=oa(oa({},this.formData),{},i?{vitalSigns:{bloodPressure:"".concat(i.systolic||"0","/").concat(i.diastolic||"0"),height:i.height||0,weight:i.weight||0},clinicalInfo:{chiefComplaint:i.chiefComplaint||"",treatmentPlan:this.formData.clinicalInfo.treatmentPlan,patientHistory:this.formData.clinicalInfo.patientHistory}}:{vitalSigns:{bloodPressure:"0/0",height:0,weight:0},clinicalInfo:{chiefComplaint:"",treatmentPlan:this.formData.clinicalInfo.treatmentPlan,patientHistory:this.formData.clinicalInfo.patientHistory}}),n.services&&Array.isArray(n.services)?this.procedures=n.services.map((function(e){return{id:e.id,code:e.cptCode,name:e.serviceName,description:e.description||"No description available",type:e.serviceTypeName||"Service",charges:e.charges||0,provider:e.provider,date:e.date,status:e.status}})):this.procedures=[],this.updateProgress(),this.requestUpdate(),this.showNotification("Medication added successfully","success");case 14:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"selectCareTeamMember",value:function(e){if(this.careTeam.some((function(n){return n.id===e.EmployeeId})))this.showNotification("This team member has already been added","warning");else{var n={id:e.EmployeeId,firstName:e.Fname,lastName:e.Lname,email:e.Email,department:e.DepartmentName,role:e.Role||"Healthcare Provider"};this.careTeam=[].concat(Zo(this.careTeam),[n]),this.updateProgress()}}},{key:"handlePractitionerSearch",value:(u=ra(na().mark((function e(n){var t,r,i,o;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.target.value).length<3)){e.next=3;break}return e.abrupt("return");case 3:return this.isLoading=!0,e.prev=4,e.next=7,fetch(API_ENDPOINTS.CARE_TEAM.PAGED,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:1,pageSize:10,filters:t?'Fname.contains("'.concat(t,'") or Lname.contains("').concat(t,'")'):null})});case 7:return r=e.sent,e.next=10,r.json();case 10:(i=e.sent).isSuccessfull&&(o=i.dynamicResult.map((function(e){return{id:e.id,name:"".concat(e.fname," ").concat(e.lname),title:e.title||"Dr.",pinNo:e.pinNo,departmentId:e.departmentId,designationId:e.designationId,specialty:e.specialty||"General"}})),this.showPractitionerResults(o)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error("Error searching practitioners:",e.t0),this.showNotification("Error searching practitioners","error");case 18:return e.prev=18,this.isLoading=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[4,14,18,21]])}))),function(e){return u.apply(this,arguments)})},{key:"handleDiagnosisSearch",value:(d=ra(na().mark((function e(n){var t,r,i,o,a,s,c,l=this;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.target.value,console.log("Diagnosis search triggered with term:",t),r=this.shadowRoot.querySelector("#diagnosisDropdown"),(i=r.querySelector(".dropdown-results"))||((i=document.createElement("div")).className="dropdown-results",r.appendChild(i)),!((null==t?void 0:t.length)<3)){e.next=9;break}return console.log("Search term too short, clearing results"),i.innerHTML='<div class="dropdown-empty">Please enter at least 3 characters to search</div>',e.abrupt("return");case 9:return this.isLoading=!0,i.innerHTML='<div class="dropdown-loading"><div class="loading-spinner"></div>Searching ICD codes...</div>',e.prev=11,e.next=14,fetch("".concat(API_ENDPOINTS.DIAGNOSIS.SEARCH_ICDS,"/").concat(encodeURIComponent(t)),{method:"GET",headers:{"Content-Type":"application/json"}});case 14:if(o=e.sent,console.log("Raw response status:",o.status),o.ok){e.next=18;break}throw new Error("HTTP error! status: ".concat(o.status));case 18:return e.next=20,o.json();case 20:if(a=e.sent,console.log("Diagnosis search result:",a),!a.isSuccessfull||!a.dynamicResult){e.next=28;break}console.log("Found diagnoses:",a.dynamicResult.length),0===(s=a.dynamicResult.map((function(e){return{id:e.id,code:e.icdcode,shortDescription:e.shortDescription,description:e.description,preAuthReq:e.preAuthReq}}))).length?i.innerHTML='<div class="dropdown-empty">No ICD codes found matching your search</div>':(c=s.map((function(e){var n=JSON.stringify(e).replace(/'/g,"&apos;");return'<div class="dropdown-item" data-diagnosis=\''.concat(n,'\'>\n                        <div class="dropdown-item-header">\n                            <span class="dropdown-item-title">').concat(e.code,'</span>\n                            <span class="dropdown-item-badge">').concat(e.preAuthReq?"Prior Auth Required":"No Auth Required",'</span>\n                        </div>\n                        <span class="dropdown-item-short-desc">').concat(e.shortDescription,'</span>\n                        <span class="dropdown-item-description">').concat(e.description,"</span>\n                    </div>")})).join(""),i.innerHTML=c,i.querySelectorAll(".dropdown-item").forEach((function(e){e.addEventListener("click",(function(){try{var n=JSON.parse(e.getAttribute("data-diagnosis"));console.log("Selected diagnosis:",n),l.selectDiagnosis(n),i.remove()}catch(e){console.error("Error selecting diagnosis:",e),l.showNotification("Error selecting diagnosis","error")}}))}))),e.next=29;break;case 28:throw new Error(a.errorMessage||"Failed to fetch diagnoses");case 29:e.next=36;break;case 31:e.prev=31,e.t0=e.catch(11),console.error("Error in diagnosis search:",e.t0),this.showNotification("Error searching diagnoses: ".concat(e.t0.message),"error"),i.innerHTML='<div class="dropdown-empty error"><p>Error searching diagnoses:</p><p>'+e.t0.message+"</p></div>";case 36:return e.prev=36,this.isLoading=!1,this.requestUpdate(),e.finish(36);case 40:case"end":return e.stop()}}),e,this,[[11,31,36,40]])}))),function(e){return d.apply(this,arguments)})},{key:"handleFileUpload",value:function(e){e.target.files,this.updateProgress()}},{key:"updateFormData",value:function(e,n,t){this.formData=oa(oa({},this.formData),{},aa({},e,oa(oa({},this.formData[e]),{},aa({},n,t)))),this.updateProgress()}},{key:"handleSaveAsDraft",value:(l=ra(na().mark((function e(){var n;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isLoading=!0;try{n=this.getFormData(),localStorage.setItem("priorAuthDraft",JSON.stringify(n)),this.showNotification("Draft saved successfully","success")}catch(e){console.error("Error saving draft:",e),this.showNotification("Error saving draft","error")}finally{this.isLoading=!1}case 2:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"handleValidate",value:(s=ra(na().mark((function e(){var n,t,r;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.prev=1,n=this.getFormData(),e.next=5,fetch(API_ENDPOINTS.ELIGIBILITY.VERIFY,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return t=e.sent,e.next=8,t.json();case 8:(r=e.sent).isSuccessfull?this.showNotification("Validation successful","success"):this.showNotification(r.errorMessage||"Validation failed","error"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error validating form:",e.t0),this.showNotification("Error validating form","error");case 16:return e.prev=16,this.isLoading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,12,16,19]])}))),function(){return s.apply(this,arguments)})},{key:"handleSubmit",value:(a=ra(na().mark((function e(){var n,t,r,i,o;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isSubmitting){e.next=2;break}return e.abrupt("return");case 2:if(this.isSubmitting=!0,this.requestUpdate(),e.prev=4,this.selectedPatient){e.next=7;break}throw new Error("Please select a patient first");case 7:return e.next=9,fetch("/src/data/dp.json");case 9:return t=e.sent,e.next=12,t.json();case 12:return(r=e.sent).Patient={Identifier:this.selectedPatient.id.toString(),IdentifierSystem:"http://nphies.sa/identifier/iqama",FirstName:this.selectedPatient.fname||"",LastName:this.selectedPatient.lname||"",Gender:(null===(n=this.selectedPatient.gender)||void 0===n?void 0:n.toLowerCase())||"unknown",DateOfBirth:this.selectedPatient.dateOfBirth||"",MaritalStatus:this.selectedPatient.maritalStatus||"U",Occupation:this.selectedPatient.occupation||"",PhoneNumber:this.selectedPatient.phoneNumber||"",NationalIdentity:this.selectedPatient.nationalId||""},e.next=16,fetch(API_ENDPOINTS.PRIOR_AUTH.DENTAL_SUBMIT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 16:return i=e.sent,e.next=19,i.json();case 19:if(!(o=e.sent).isSuccessfull){e.next=24;break}this.handleClose(),e.next=25;break;case 24:throw new Error(o.errorMessage||"Submission failed");case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(4),console.error("Error submitting prior auth:",e.t0),this.showNotification("Error submitting prior authorization: "+e.t0.message,"error");case 31:return e.prev=31,this.isSubmitting=!1,this.requestUpdate(),e.finish(31);case 35:case"end":return e.stop()}}),e,this,[[4,27,31,35]])}))),function(){return a.apply(this,arguments)})},{key:"removeCareTeamMember",value:function(e){this.careTeam=this.careTeam.filter((function(n){return n.id!==e.id}))}},{key:"removeDiagnosis",value:function(e){this.diagnoses=this.diagnoses.filter((function(n){return n.code!==e.code}))}},{key:"removeProcedure",value:function(e){this.procedures=this.procedures.filter((function(n){return n.code!==e.code}))}},{key:"switchTab",value:(o=ra(na().mark((function e(n){return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==this.activeTab){e.next=2;break}return e.abrupt("return");case 2:if(this.activeTab=n,"prior-auth"!==n){e.next=6;break}return e.next=6,this.fetchVisits();case 6:this.requestUpdate();case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"handleClose",value:function(){this.reset(),this.dispatchEvent(new CustomEvent("close"))}},{key:"reset",value:function(){this.activeTab="prior-auth",this.selectedPatient=null,this.selectedVisit=null,this.visits=[],this.careTeam=[],this.diagnoses=[],this.procedures=[],this.medications=[],this.collapsedSections={patient:!1,visit:!1,"care-team":!1,diagnosis:!1,procedures:!1,medications:!1,supporting:!1,errors:!1,communications:!1},this.isLoading=!1,this.formData={vitalSigns:{bloodPressure:"",height:"",weight:""},clinicalInfo:{treatmentPlan:"",patientHistory:"",chiefComplaint:""}},this.progress=0,this.visitDetails=null,this.supportingInfo=[],this.servicePrices=[],this.selectedPriceList=null,this.requestUpdate()}},{key:"getProgressPercentage",value:function(){return this.progress}},{key:"updateProgress",value:function(){var e=0;this.selectedPatient&&(e++,this.collapsedSections.patient=!0),this.selectedVisit&&(e++,this.collapsedSections.visit=!0),this.careTeam&&this.careTeam.length>0&&(e++,this.collapsedSections["care-team"]=!0),this.diagnoses&&this.diagnoses.length>0&&(e++,this.collapsedSections.diagnosis=!0),this.procedures&&this.procedures.length>0&&(e++,this.collapsedSections.procedures=!0),this.medications&&this.medications.length>0&&(e++,this.collapsedSections.medications=!0),(this.formData.vitalSigns.bloodPressure||this.formData.vitalSigns.height||this.formData.vitalSigns.weight||this.formData.clinicalInfo.treatmentPlan||this.formData.clinicalInfo.patientHistory||this.formData.clinicalInfo.chiefComplaint)&&(e++,this.collapsedSections.supporting=!0),this.progress=Math.round(e/7*100),this.updatePayloadObject(),this.requestUpdate()}},{key:"isCollapsed",value:function(e){return this.collapsedSections[e]}},{key:"toggleSection",value:function(e){this.collapsedSections=oa(oa({},this.collapsedSections),{},aa({},e,!this.collapsedSections[e])),this.requestUpdate()}},{key:"getFormData",value:function(){return{patient:this.selectedPatient,visit:this.selectedVisit,careTeam:this.careTeam,diagnoses:this.diagnoses,procedures:this.procedures,vitalSigns:this.formData.vitalSigns,clinicalInfo:this.formData.clinicalInfo,medications:this.medications}}},{key:"showNotification",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",t=document.createElement("div");t.className="notification "+n,t.textContent=e,document.body.appendChild(t),setTimeout((function(){t.style.opacity="0",setTimeout((function(){return t.remove()}),200)}),3e3)}},{key:"showPractitionerResults",value:function(e){var n=this,t=this.shadowRoot.querySelector("#practitionerDropdown");if(t){var r=document.createElement("div");r.className="dropdown-results",this.isLoading?r.innerHTML='\n        <div class="dropdown-loading">\n          <div class="loading-spinner"></div>\n          Searching...\n        </div>\n      ':e&&0!==e.length?r.innerHTML=e.map((function(e){return'\n        <div class="dropdown-item" @click="'.concat((function(){return n.selectPractitioner(e)}),'">\n          <span class="dropdown-item-title">').concat(e.name,'</span>\n          <span class="dropdown-item-subtitle">').concat(e.specialty," - ").concat(e.licenseNumber,"</span>\n        </div>\n      ")})).join(""):r.innerHTML='\n        <div class="dropdown-empty">\n          No practitioners found\n        </div>\n      ';var i=t.querySelector(".dropdown-results");i&&i.remove(),t.appendChild(r),document.addEventListener("click",(function(e){t.contains(e.target)||r.remove()}),{once:!0})}}},{key:"selectPractitioner",value:function(e){this.careTeam=[].concat(Zo(this.careTeam),[e]),this.updateProgress(),this.requestUpdate()}},{key:"selectVisit",value:function(e){this.selectedVisit=e,this.processVisitData(e),this.requestUpdate()}},{key:"debounce",value:function(e,n){var t,r=this;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){return e.apply(r,o)}),n)}}},{key:"showProcedureResults",value:function(e){var n=this,t=this.shadowRoot.querySelector("#procedureDropdown");if(t){var r=document.createElement("div");if(r.className="healthcare-results",this.isLoading)r.innerHTML='\n        <div class="dropdown-loading">\n          <div class="loading-spinner"></div>\n          <span>Searching...</span>\n        </div>\n      ';else if(e&&0!==e.length){var i=e.map((function(e){return'\n        <div class="healthcare-result-item" data-procedure=\''.concat(JSON.stringify(e),"'>\n          <h4>").concat(e.name,"</h4>\n          <p>").concat(e.description||"No description available",'</p>\n          <div class="healthcare-badges">\n            <span class="healthcare-badge badge-type">').concat(e.type,"</span>\n            ").concat(e.code?'<span class="healthcare-badge badge-code">CPT: '.concat(e.code,"</span>"):"",'\n            <span class="healthcare-badge badge-price">$').concat((e.charges||0).toFixed(2),"</span>\n          </div>\n        </div>\n      ")})).join("");r.innerHTML=i,r.querySelectorAll(".healthcare-result-item").forEach((function(e){e.addEventListener("click",(function(){var t=JSON.parse(e.getAttribute("data-procedure"));n.selectProcedure(t),r.remove()}))}))}else r.innerHTML='\n        <div class="dropdown-empty">\n          <span>No services found</span>\n        </div>\n      ';var o=t.querySelector(".healthcare-results");o&&o.remove(),t.appendChild(r),document.addEventListener("click",(function(e){t.contains(e.target)||r.remove()}),{once:!0})}}},{key:"getVisitTypeName",value:function(e){return{1:"Regular Visit",2:"Follow-up",3:"Emergency",4:"Consultation"}[e]||"Unknown"}},{key:"getVisitStatusName",value:function(e){return{1:"Scheduled",2:"In Progress",3:"Completed",4:"Cancelled"}[e]||"Unknown"}},{key:"getStatusClass",value:function(e){return{1:"status-scheduled",2:"status-in-progress",3:"status-completed",4:"status-cancelled"}[e]||"status-scheduled"}},{key:"fetchServicePrices",value:(i=ra(na().mark((function e(n){var t,r;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(API_ENDPOINTS.MPDIR_SERVICE_PRICE.PAGED,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filters:"serviceId=="+n+",isActive==true",sorts:"-effectiveFrom",page:1,pageSize:10})});case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Failed to fetch service prices");case 6:return e.next=8,t.json();case 8:if(!(r=e.sent).isSuccessfull||!r.dynamicResult){e.next=14;break}this.servicePrices=r.dynamicResult,this.requestUpdate(),e.next=15;break;case 14:throw new Error(r.errorMessage||"Failed to fetch service prices");case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Error fetching service prices:",e.t0),this.showNotification(e.t0.message,"error");case 21:case"end":return e.stop()}}),e,this,[[0,17]])}))),function(e){return i.apply(this,arguments)})},{key:"fetchPriceList",value:(r=ra(na().mark((function e(n){var t,r;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.facilityId){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch(API_ENDPOINTS.MPDIR_SERVICE_DIRECTORY_PRICELIST.PAGED,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filters:"serviceId=="+n+",facilityId=="+this.facilityId,sorts:"-effectiveDate",page:1,pageSize:10})});case 5:if((t=e.sent).ok){e.next=8;break}throw new Error("Failed to fetch price list");case 8:return e.next=10,t.json();case 10:if(!(r=e.sent).isSuccessfull||!r.dynamicResult){e.next=16;break}this.selectedPriceList=r.dynamicResult[0]||null,this.requestUpdate(),e.next=17;break;case 16:throw new Error(r.errorMessage||"Failed to fetch price list");case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),console.error("Error fetching price list:",e.t0),this.showNotification(e.t0.message,"error");case 23:case"end":return e.stop()}}),e,this,[[2,19]])}))),function(e){return r.apply(this,arguments)})},{key:"fetchVitals",value:(t=ra(na().mark((function e(n){var t,r,i,o,a,s,c;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(API_ENDPOINTS.VITALS.OUTPATIENT_BMI,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:1,pageSize:10,filters:"visitId=="+n})});case 3:return r=e.sent,i=[],e.next=7,r.json();case 7:if(!((o=e.sent).isSuccessfull&&(null===(t=o.dynamicResult)||void 0===t?void 0:t.length)>0)){e.next=12;break}i=o.dynamicResult,e.next=19;break;case 12:return e.next=14,fetch(API_ENDPOINTS.VITALS.INPATIENT_BMI,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:1,pageSize:10,filters:"NurseVisitId=="+n})});case 14:return s=e.sent,e.next=17,s.json();case 17:(c=e.sent).isSuccessfull&&(null===(a=c.dynamicResult)||void 0===a?void 0:a.length)>0&&(i=c.dynamicResult);case 19:return e.abrupt("return",i);case 22:return e.prev=22,e.t0=e.catch(0),console.error("Error fetching vitals:",e.t0),this.showNotification("Error fetching vitals information","error"),e.abrupt("return",[]);case 27:case"end":return e.stop()}}),e,this,[[0,22]])}))),function(e){return t.apply(this,arguments)})},{key:"selectDiagnosis",value:function(e){if(console.log("Selecting diagnosis:",e),this.diagnoses.some((function(n){return n.code===e.code})))return console.log("Duplicate diagnosis found"),void this.showNotification("This diagnosis has already been added","warning");Array.isArray(this.diagnoses)||(console.log("Initializing diagnoses array"),this.diagnoses=[]),this.diagnoses=[].concat(Zo(this.diagnoses),[e]),console.log("Updated diagnoses list:",this.diagnoses),this.updateProgress(),this.requestUpdate(),this.showNotification("Diagnosis added successfully","success")}},{key:"handleNotification",value:function(e){var n=e.detail,t=n.message,r=n.type;console.log("".concat(r,": ").concat(t))}},{key:"renderDiagnosisTable",value:function(){var e,n=this;return null!==(e=this.diagnoses)&&void 0!==e&&e.length?U(zo||(zo=ha(['\n      <div class="table-container">\n        <table>\n          <thead>\n            <tr>\n              <th>ICD Code</th>\n              <th>Short Description</th>\n              <th>Description</th>\n              <th>Auth Required</th>\n              <th>Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>\n    "])),this.diagnoses.map((function(e){return U(Bo||(Bo=ha(["\n              <tr>\n                <td>","</td>\n                <td>","</td>\n                <td>",'</td>\n                <td>\n                  <span class="status-badge ','">\n                    ','\n                  </span>\n                </td>\n                <td>\n                  <button class="btn btn-secondary" @click="','">\n                    Remove\n                  </button>\n                </td>\n              </tr>\n            '])),e.code,e.shortDescription,e.description,e.preAuthReq?"status-in-progress":"status-completed",e.preAuthReq?"Required":"Not Required",(function(){return n.removeDiagnosis(e)}))}))):U(Mo||(Mo=ha(['\n        <div class="empty-state">\n          <p>No diagnoses added yet</p>\n          <p class="text-sm text-gray-500">Search and select ICD-10 codes above</p>\n        </div>\n      '])))}},{key:"renderErrorSection",value:function(){var e=this;return U(Uo||(Uo=ha(['\n      <div class="section ','">\n        <div class="section-header" @click="','">\n          <h2 class="section-title">\n            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />\n            </svg>\n            Adjudication Errors\n            <span class="error-count">','</span>\n          </h2>\n        </div>\n        <div class="section-content">\n          ',"\n        </div>\n      </div>\n    "])),this.collapsedSections.errors?"collapsed":"",(function(){return e.toggleSection("errors")}),this.errors.length,this.errors.length>0?U(Vo||(Vo=ha(['\n            <div class="error-list">\n              ',"\n            </div>\n          "])),this.errors.map((function(e){return U(qo||(qo=ha(['\n                <div class="error-item">\n                  <div class="error-item-header">\n                    <div class="error-code-badge">\n                      <svg xmlns="http://www.w3.org/2000/svg" class="error-icon" viewBox="0 0 20 20" fill="currentColor">\n                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />\n                      </svg>\n                      ','\n                    </div>\n                    <div class="error-timestamp">\n                      ','\n                    </div>\n                  </div>\n                  <div class="error-content">\n                    <div class="error-message">\n                      <svg xmlns="http://www.w3.org/2000/svg" class="message-icon" viewBox="0 0 20 20" fill="currentColor">\n                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />\n                      </svg>\n                      ','\n                    </div>\n                    <div class="error-location">\n                      <svg xmlns="http://www.w3.org/2000/svg" class="location-icon" viewBox="0 0 20 20" fill="currentColor">\n                        <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />\n                      </svg>\n                      ',"\n                    </div>\n                  </div>\n                </div>\n              "])),e.code.coding[0].code,(new Date).toLocaleString(),e.code.coding[0].display,e.code.coding[0].extension[0].valueString)}))):U(Ho||(Ho=ha(['\n            <div class="empty-state">\n              <svg xmlns="http://www.w3.org/2000/svg" class="empty-icon" viewBox="0 0 20 20" fill="currentColor">\n                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />\n              </svg>\n              <p>No adjudication errors found</p>\n            </div>\n          ']))))}},{key:"renderCommunicationSection",value:function(){var e=this;return U(Go||(Go=ha(['\n      <div class="section ','">\n        <div class="section-header" @click="','">\n          <h2 class="section-title">\n            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />\n            </svg>\n            Communications\n          </h2>\n        </div>\n        <div class="section-content">\n          <div class="communication-types">\n            <div class="communication-column solicited">\n              <div class="column-header">\n                <svg xmlns="http://www.w3.org/2000/svg" class="comm-type-icon" viewBox="0 0 20 20" fill="currentColor">\n                  <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />\n                  <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />\n                </svg>\n                <h3>Solicited Communications</h3>\n              </div>\n              <div class="communication-list">\n                ','\n              </div>\n            </div>\n            <div class="communication-column unsolicited">\n              <div class="column-header">\n                <svg xmlns="http://www.w3.org/2000/svg" class="comm-type-icon" viewBox="0 0 20 20" fill="currentColor">\n                  <path fill-rule="evenodd" d="M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z" clip-rule="evenodd" />\n                </svg>\n                <h3>Unsolicited Communications</h3>\n              </div>\n              <div class="communication-list">\n                ',"\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    "])),this.collapsedSections.communications?"collapsed":"",(function(){return e.toggleSection("communications")}),this.communications.filter((function(e){return"solicited"===e.type})).length?this.communications.filter((function(e){return"solicited"===e.type})).map((function(e){return U($o||($o=ha(['\n                    <div class="communication-item">\n                      <div class="comm-header">\n                        <div class="comm-info">\n                          <svg xmlns="http://www.w3.org/2000/svg" class="comm-status-icon" viewBox="0 0 20 20" fill="currentColor">\n                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />\n                          </svg>\n                          <span class="comm-date">','</span>\n                        </div>\n                        <span class="comm-status ','">','</span>\n                      </div>\n                      <div class="comm-content">\n                        <svg xmlns="http://www.w3.org/2000/svg" class="message-icon" viewBox="0 0 20 20" fill="currentColor">\n                          <path fill-rule="evenodd" d="M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H6z" clip-rule="evenodd" />\n                        </svg>\n                        ',"\n                      </div>\n                    </div>\n                  "])),new Date(e.date).toLocaleString(),e.status.toLowerCase(),e.status,e.message)})):U(Yo||(Yo=ha(['\n                    <div class="empty-state">\n                      <svg xmlns="http://www.w3.org/2000/svg" class="empty-icon" viewBox="0 0 20 20" fill="currentColor">\n                        <path fill-rule="evenodd" d="M5 3a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V5a2 2 0 00-2-2H5zm0 2h10v7h-2l-1 2H8l-1-2H5V5z" clip-rule="evenodd" />\n                      </svg>\n                      <p>No solicited communications</p>\n                    </div>\n                  ']))),this.communications.filter((function(e){return"unsolicited"===e.type})).length?this.communications.filter((function(e){return"unsolicited"===e.type})).map((function(e){return U(Jo||(Jo=ha(['\n                    <div class="communication-item">\n                      <div class="comm-header">\n                        <div class="comm-info">\n                          <svg xmlns="http://www.w3.org/2000/svg" class="comm-status-icon" viewBox="0 0 20 20" fill="currentColor">\n                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />\n                          </svg>\n                          <span class="comm-date">','</span>\n                        </div>\n                        <span class="comm-status ','">','</span>\n                      </div>\n                      <div class="comm-content">\n                        <svg xmlns="http://www.w3.org/2000/svg" class="message-icon" viewBox="0 0 20 20" fill="currentColor">\n                          <path fill-rule="evenodd" d="M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H6z" clip-rule="evenodd" />\n                        </svg>\n                        ',"\n                      </div>\n                    </div>\n                  "])),new Date(e.date).toLocaleString(),e.status.toLowerCase(),e.status,e.message)})):U(Wo||(Wo=ha(['\n                    <div class="empty-state">\n                      <svg xmlns="http://www.w3.org/2000/svg" class="empty-icon" viewBox="0 0 20 20" fill="currentColor">\n                        <path fill-rule="evenodd" d="M5 3a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V5a2 2 0 00-2-2H5zm0 2h10v7h-2l-1 2H8l-1-2H5V5z" clip-rule="evenodd" />\n                      </svg>\n                      <p>No unsolicited communications</p>\n                    </div>\n                  ']))))}}],[{key:"properties",get:function(){return{activeTab:{type:String},selectedPatient:{type:Object},selectedVisit:{type:Object},visits:{type:Array},careTeam:{type:Array},diagnoses:{type:Array},procedures:{type:Array},medications:{type:Array},collapsedSections:{type:Object},isLoading:{type:Boolean},formData:{type:Object},progress:{type:Number},visitDetails:{type:Object},supportingInfo:{type:Array},servicePrices:{type:Array},selectedPriceList:{type:Object},facilityId:{type:Number},loadingStates:{type:Object},payloadObject:{type:Object},isSubmitting:{type:Boolean},submitStatus:{type:String},submitMessage:{type:String},errors:{type:Array},communications:{type:Array}}}},{key:"styles",get:function(){return[Pa,c(Qo||(Qo=ha(["\n        .dropdown-item-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 0.25rem;\n        }\n\n        .dropdown-item-badge {\n          background: var(--primary);\n          color: white;\n          padding: 0.125rem 0.375rem;\n          border-radius: 9999px;\n          font-size: 0.75rem;\n          font-weight: 500;\n        }\n\n        .dropdown-item-short-desc {\n          display: block;\n          color: var(--primary);\n          font-size: 0.875rem;\n          font-weight: 500;\n          margin-bottom: 0.25rem;\n        }\n\n        .dropdown-item-description {\n          display: block;\n          color: var(--gray-700);\n          font-size: 0.875rem;\n          margin-bottom: 0.25rem;\n        }\n\n        .dropdown-item-category {\n          display: block;\n          color: var(--gray-500);\n          font-size: 0.75rem;\n          font-style: italic;\n        }\n\n        .submit-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0, 0, 0, 0.7);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1000;\n        }\n\n        .submit-status {\n          background: white;\n          padding: 2rem;\n          border-radius: 8px;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n          text-align: center;\n          min-width: 300px;\n        }\n\n        .submit-status.submitting {\n          border-left: 4px solid var(--primary-color);\n        }\n\n        .submit-status.success {\n          border-left: 4px solid var(--success-color, #4CAF50);\n        }\n\n        .submit-status.error {\n          border-left: 4px solid var(--error-color, #f44336);\n        }\n\n        .loader {\n          display: inline-block;\n          width: 40px;\n          height: 40px;\n          margin-bottom: 1rem;\n          border: 4px solid #f3f3f3;\n          border-top: 4px solid var(--primary-color);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .submit-status p {\n          margin: 0;\n          color: var(--text-color);\n          font-size: 1rem;\n          line-height: 1.5;\n        }\n\n        .spinner {\n          width: 20px;\n          height: 20px;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n\n        .submit-button:disabled {\n          opacity: 0.7;\n          cursor: not-allowed;\n        }\n\n        .error-list {\n          display: flex;\n          flex-direction: column;\n          gap: 1rem;\n          padding: 1rem;\n        }\n\n        .error-item {\n          background: var(--gray-50);\n          border: 1px solid var(--gray-200);\n          border-left: 4px solid var(--error);\n          border-radius: 0.5rem;\n          padding: 1rem;\n        }\n\n        .error-code, .error-display, .error-location {\n          margin-bottom: 0.5rem;\n        }\n\n        .no-errors {\n          color: var(--gray-500);\n          text-align: center;\n          padding: 1rem;\n        }\n\n        .communication-types {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 2rem;\n          padding: 1rem;\n        }\n\n        .solicited, .unsolicited {\n          background: var(--gray-50);\n          border-radius: 0.5rem;\n          padding: 1rem;\n        }\n\n        .communication-list {\n          display: flex;\n          flex-direction: column;\n          gap: 1rem;\n          margin-top: 1rem;\n        }\n\n        .communication-item {\n          background: white;\n          border: 1px solid var(--gray-200);\n          border-radius: 0.5rem;\n          padding: 1rem;\n        }\n\n        .comm-header {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 0.5rem;\n          color: var(--gray-500);\n          font-size: 0.875rem;\n        }\n\n        .comm-content {\n          color: var(--gray-800);\n        }\n\n        /* Error Section Styles */\n        .error-count {\n          background: var(--error);\n          color: white;\n          padding: 0.25rem 0.5rem;\n          border-radius: 9999px;\n          font-size: 0.75rem;\n          margin-left: 0.5rem;\n        }\n\n        .error-item {\n          background: white;\n          border-radius: 0.5rem;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          margin-bottom: 1rem;\n          overflow: hidden;\n          border: 1px solid var(--gray-200);\n        }\n\n        .error-item-header {\n          background: var(--gray-50);\n          padding: 0.75rem 1rem;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          border-bottom: 1px solid var(--gray-200);\n        }\n\n        .error-code-badge {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          color: var(--error);\n          font-weight: 500;\n        }\n\n        .error-icon, .message-icon, .location-icon {\n          width: 1.25rem;\n          height: 1.25rem;\n        }\n\n        .error-content {\n          padding: 1rem;\n        }\n\n        .error-message, .error-location {\n          display: flex;\n          align-items: flex-start;\n          gap: 0.5rem;\n          margin-bottom: 0.5rem;\n          color: var(--gray-700);\n        }\n\n        .error-timestamp {\n          color: var(--gray-500);\n          font-size: 0.875rem;\n        }\n\n        /* Communication Section Styles */\n        .communication-types {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          gap: 1.5rem;\n          padding: 1rem;\n        }\n\n        .communication-column {\n          background: var(--gray-50);\n          border-radius: 0.5rem;\n          padding: 1rem;\n        }\n\n        .column-header {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          margin-bottom: 1rem;\n          color: var(--primary);\n        }\n\n        .comm-type-icon {\n          width: 1.5rem;\n          height: 1.5rem;\n        }\n\n        .communication-item {\n          background: white;\n          border-radius: 0.5rem;\n          padding: 1rem;\n          margin-bottom: 1rem;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          border: 1px solid var(--gray-200);\n        }\n\n        .comm-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 0.75rem;\n        }\n\n        .comm-info {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n\n        .comm-status-icon {\n          width: 1rem;\n          height: 1rem;\n        }\n\n        .comm-date {\n          color: var(--gray-500);\n          font-size: 0.875rem;\n        }\n\n        .comm-status {\n          padding: 0.25rem 0.5rem;\n          border-radius: 9999px;\n          font-size: 0.75rem;\n          font-weight: 500;\n        }\n\n        .comm-status.pending {\n          background: var(--warning);\n          color: white;\n        }\n\n        .comm-status.completed {\n          background: var(--success);\n          color: white;\n        }\n\n        .comm-content {\n          display: flex;\n          align-items: flex-start;\n          gap: 0.5rem;\n          color: var(--gray-700);\n          font-size: 0.875rem;\n          line-height: 1.5;\n        }\n\n        .empty-state {\n          text-align: center;\n          padding: 2rem;\n          color: var(--gray-500);\n        }\n\n        .empty-icon {\n          width: 3rem;\n          height: 3rem;\n          margin-bottom: 1rem;\n          color: var(--gray-400);\n        }\n\n        .empty-state p {\n          margin: 0;\n          font-size: 0.875rem;\n        }\n      "])))]}}]);var t,r,i,o,a,s,l,d,u,p,h,f,m,v,g,y,b,w}(se);function Ca(e){return Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(e)}function Aa(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Ta(){Ta=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Ca(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(Ca(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function Da(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function Ia(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){Da(o,r,i,a,s,"next",e)}function s(e){Da(o,r,i,a,s,"throw",e)}a(void 0)}))}}function ja(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Na(r.key),r)}}function Na(e){var n=function(e){if("object"!=Ca(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Ca(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ca(n)?n:n+""}function La(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(La=function(){return!!e})()}function Ra(e,n,t,r){var i=_a(Fa(1&r?e.prototype:e),n,t);return 2&r&&"function"==typeof i?function(e){return i.apply(t,e)}:i}function _a(){return _a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,n,t){var r=function(e,n){for(;!{}.hasOwnProperty.call(e,n)&&null!==(e=Fa(e)););return e}(e,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(arguments.length<3?e:t):i.value}},_a.apply(null,arguments)}function Fa(e){return Fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fa(e)}function Ma(e,n){return Ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},Ma(e,n)}customElements.get("prior-auth-claim-management")||customElements.define("prior-auth-claim-management",Oa);var za,Ba,Ua,Va,qa,Ha,Ga,$a,Ya,Ja,Wa,Qa,Ka,Xa,Za,es,ns,ts,rs,is,os,as,ss=function(e){function n(){var e,t,r,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=this,r=n,r=Fa(r),e=function(e,n){if(n&&("object"==Ca(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,La()?Reflect.construct(r,i||[],Fa(t).constructor):r.apply(t,i))).priorAuths=[],e.loading=!0,e.searchType="mrn",e.searchQuery="",e.startDate="",e.endDate="",e.selectedCaseType="all",e.selectedStatus="all",e.selectedPatient=null,e.selectedVisit=null,e.visits=[],e.vitals={bloodPressure:"",height:"",weight:"",bmi:""},e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Ma(e,n)}(n,e),function(e,n,t){return n&&ja(e.prototype,n),t&&ja(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"connectedCallback",value:(s=Ia(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ra(n,"connectedCallback",this,3)([]),e.next=3,this.fetchPriorAuths();case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"fetchPriorAuths",value:(a=Ia(Ta().mark((function e(){var n,t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,fetch(Dn.PREAUTHORIZATION.PAGED,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:1,pageSize:10,caseType:this.selectedCaseType,status:this.selectedStatus,searchType:this.searchType,searchQuery:this.searchQuery,startDate:this.startDate,endDate:this.endDate})});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Failed to fetch prior auths");case 7:return e.next=9,n.json();case 9:(t=e.sent).dynamicResult&&(this.priorAuths=t.dynamicResult),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error fetching prior auths:",e.t0);case 16:return e.prev=16,this.loading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[0,13,16,19]])}))),function(){return a.apply(this,arguments)})},{key:"handleSearch",value:function(){this.fetchPriorAuths()}},{key:"handleCreateNew",value:function(){var e=document.createElement("div");e.id="prior-auth-management-container",e.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100vh;\n      background: rgba(0, 0, 0, 0.5);\n      display: flex;\n      z-index: 9998;\n      padding: 2rem;\n      box-sizing: border-box;\n      justify-content: center;\n      align-items: flex-start;\n    ";var n=document.createElement("prior-auth-claim-management");n.style.cssText="\n      margin: 0 auto;\n      width: 100%;\n      max-width: 1200px;\n      height: calc(100vh - 4rem);\n      position: relative;\n      z-index: 9999;\n      background: white;\n      border-radius: 0.75rem;\n      overflow: hidden;\n      display: flex;\n      flex-direction: column;\n      animation: slideIn 0.3s ease-out;\n    ",e.appendChild(n),document.body.appendChild(e),document.body.style.overflow="hidden";var t=function(){e.remove(),document.body.style.overflow=""};e.addEventListener("click",(function(n){n.target===e&&t()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&t()})),n.addEventListener("close",t);var r=document.createElement("style");r.textContent="\n      @keyframes slideIn {\n        from {\n          opacity: 0;\n          transform: translateY(20px);\n        }\n        to {\n          opacity: 1;\n          transform: translateY(0);\n        }\n      }\n    ",document.head.appendChild(r)}},{key:"handlePatientSelect",value:(o=Ia(Ta().mark((function e(n){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,t=n.detail,this.selectedPatient=t,e.next=6,this.fetchVisits();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error handling patient selection:",e.t0),this.showNotification("Error loading patient data","error");case 12:return e.prev=12,this.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,8,12,15]])}))),function(e){return o.apply(this,arguments)})},{key:"fetchVisits",value:(i=Ia(Ta().mark((function e(){var n,t,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.selectedPatient){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.prev=3,e.next=6,fetch(Dn.VISIT.PAGED,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:1,pageSize:10,filters:"patientId=="+this.selectedPatient.id})});case 6:return n=e.sent,e.next=9,n.json();case 9:(t=e.sent).isSuccessfull&&t.dynamicResult&&(null!==(r=t.dynamicResult[0])&&void 0!==r&&r.visitmanagementVisits?this.visits=t.dynamicResult[0].visitmanagementVisits:this.visits=t.dynamicResult,this.visits.length>0&&this.selectVisit(this.visits[0])),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error fetching visits:",e.t0),this.showNotification("Error loading visit data","error");case 17:return e.prev=17,this.loading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[3,13,17,20]])}))),function(){return i.apply(this,arguments)})},{key:"selectVisit",value:(r=Ia(Ta().mark((function e(n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.selectedVisit=n,e.next=3,this.fetchVitals(n.id);case 3:this.requestUpdate();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"fetchVitals",value:(t=Ia(Ta().mark((function e(n){var t,r,i,o,a,s,c,l;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Dn.VITALS.OUTPATIENT_BMI,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:1,pageSize:10,filters:"visitId=="+n})});case 3:return r=e.sent,i=[],e.next=7,r.json();case 7:if(!((o=e.sent).isSuccessfull&&(null===(t=o.dynamicResult)||void 0===t?void 0:t.length)>0)){e.next=12;break}i=o.dynamicResult,e.next=19;break;case 12:return e.next=14,fetch(Dn.VITALS.INPATIENT_BMI,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:1,pageSize:10,filters:"NurseVisitId=="+n})});case 14:return s=e.sent,e.next=17,s.json();case 17:(c=e.sent).isSuccessfull&&(null===(a=c.dynamicResult)||void 0===a?void 0:a.length)>0&&(i=c.dynamicResult);case 19:i.length>0&&(l=i[0],this.vitals={bloodPressure:"".concat(l.systolic||"0","/").concat(l.diastolic||"0"),height:l.height||0,weight:l.weight||0,bmi:l.bmi||0}),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),console.error("Error fetching vitals:",e.t0),this.showNotification("Error fetching vitals information","error");case 26:case"end":return e.stop()}}),e,this,[[0,22]])}))),function(e){return t.apply(this,arguments)})},{key:"getStatusClass",value:function(e){return{1:"status-info",2:"status-warning",3:"status-error",4:"status-success",5:"status-warning",6:"status-error"}[e]||"status-info"}},{key:"getVisitTypeName",value:function(e){return{1:"Regular Visit",2:"Follow-up",3:"Emergency",4:"Consultation"}[e]||"Unknown"}},{key:"getVisitStatusName",value:function(e){return{1:"Scheduled",2:"In Progress",3:"Completed",4:"Cancelled"}[e]||"Unknown"}},{key:"renderVisitGrid",value:function(){var e,n=this;return this.selectedPatient?null!==(e=this.visits)&&void 0!==e&&e.length?U(va||(va=Aa(['\n      <div class="visit-grid">\n        <table class="visit-table">\n          <thead>\n            <tr>\n              <th>Visit ID</th>\n              <th>Visit Date</th>\n              <th>Visit Type</th>\n              <th>Status</th>\n              <th>Episode ID</th>\n              <th>Transaction ID</th>\n              <th>Facility</th>\n              <th>Provider</th>\n              <th>Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>\n    "])),this.visits.map((function(e){var t,r,i;return U(ga||(ga=Aa(['\n              <tr class="','">\n                <td>',"</td>\n                <td>","</td>\n                <td>",'</td>\n                <td>\n                  <span class="status-badge ','">\n                    ',"\n                  </span>\n                </td>\n                <td>","</td>\n                <td>","</td>\n                <td>","</td>\n                <td>",'</td>\n                <td>\n                  <button \n                    class="btn-select"\n                    ?disabled="','"\n                    @click="','"\n                  >\n                    ',"\n                  </button>\n                </td>\n              </tr>\n            "])),(null===(t=n.selectedVisit)||void 0===t?void 0:t.id)===e.id?"selected":"",e.id||"N/A",e.startDate?new Date(e.startDate).toLocaleDateString():"N/A",n.getVisitTypeName(e.fkVisitSubTypeId),n.getStatusClass(e.fkPatientVisitStatusId),n.getVisitStatusName(e.fkPatientVisitStatusId),e.episodeId||"N/A",e.transactionIdno||"N/A",e.facilityName||e.fkFacilityId||"N/A",e.doctorName||e.doctorId||"N/A",(null===(r=n.selectedVisit)||void 0===r?void 0:r.id)===e.id,(function(){return n.selectVisit(e)}),(null===(i=n.selectedVisit)||void 0===i?void 0:i.id)===e.id?"Selected":"Select")}))):U(ma||(ma=Aa(['\n        <div class="empty-state">\n          <p>No visits found for this patient</p>\n        </div>\n      ']))):U(fa||(fa=Aa(['\n        <div class="empty-state">\n          <p>Please select a patient to view visits</p>\n        </div>\n      '])))}},{key:"renderVitals",value:function(){return this.selectedVisit?U(ya||(ya=Aa(['\n      <div class="vitals-section">\n        <h3 class="section-title">Vital Information</h3>\n        <div class="vitals-grid">\n          <div class="vital-card">\n            <div class="vital-label">Blood Pressure</div>\n            <div class="vital-value">',' mmHg</div>\n          </div>\n          <div class="vital-card">\n            <div class="vital-label">Height</div>\n            <div class="vital-value">',' cm</div>\n          </div>\n          <div class="vital-card">\n            <div class="vital-label">Weight</div>\n            <div class="vital-value">',' kg</div>\n          </div>\n          <div class="vital-card">\n            <div class="vital-label">BMI</div>\n            <div class="vital-value">',"</div>\n          </div>\n        </div>\n      </div>\n    "])),this.vitals.bloodPressure,this.vitals.height,this.vitals.weight,this.vitals.bmi):""}},{key:"render",value:function(){var e=this;return U(ba||(ba=Aa(['\n      <div class="page-header">\n        <h1 class="page-title">Prior Authorization Management</h1>\n        <p class="page-description">View and manage your prior authorizations and claims</p>\n      </div>\n\n      <div class="widget-container">\n        <div class="filters-section">\n          <div class="filters-header">\n            <h2 class="section-title">\n              <svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 012-2h2a2 2 0 012 2M9 5a2 2 0 012 2h2a2 2 0 012-2" stroke-width="2"/>\n              </svg>\n              Prior Requests List\n            </h2>\n          </div>\n\n          \x3c!-- First Row --\x3e\n          <div class="filters-row">\n            <div class="filter-group case-type">\n              <label class="filter-label">Case Type:</label>\n              <select class="filter-input" .value="','" @change="','">\n                <option value="all">All</option>\n                <option value="dental">Dental</option>\n                <option value="medical">Medical</option>\n              </select>\n            </div>\n\n            <div class="filter-group status">\n              <label class="filter-label">Status:</label>\n              <select class="filter-input" .value="','" @change="','">\n                <option value="all">All</option>\n                <option value="pending">Pending</option>\n                <option value="approved">Approved</option>\n                <option value="rejected">Rejected</option>\n              </select>\n            </div>\n          </div>\n\n          \x3c!-- Second Row --\x3e\n          <div class="filters-row">\n            <div class="filter-group search-type">\n              <label class="filter-label">Search Type:</label>\n              <div class="radio-group">\n                <label class="radio-label">\n                  <input type="radio" name="searchType" value="mrn" ?checked="','" @change="','">\n                  MRN\n                </label>\n                <label class="radio-label">\n                  <input type="radio" name="searchType" value="nationalId" ?checked="','" @change="','">\n                  National ID\n                </label>\n                <label class="radio-label">\n                  <input type="radio" name="searchType" value="requestId" ?checked="','" @change="','">\n                  Request ID\n                </label>\n              </div>\n            </div>\n\n         \n          </div>\n\n          \x3c!-- Third Row --\x3e\n          <div class="filters-row">\n            <div class="filter-group date-range">\n              <label class="filter-label">Date Range:</label>\n              <div class="date-inputs">\n                <input type="date" class="filter-input" .value="','" @input="','">\n                <input type="date" class="filter-input" .value="','" @input="','">\n              </div>\n            </div>\n           <div class="filter-group search-field" style="padding-left :30px;">\n              <label class="filter-label">Search:</label>\n              <input type="text" class="filter-input"  placeholder="Enter search term..." .value="','" @input="','">\n            </div>\n            <div class="filter-group generate-button-container">\n              <button class="button create-button" @click="','">\n                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                  <path d="M12 4v16m8-8H4" stroke-width="2" stroke-linecap="round"/>\n                </svg>\n                Create New\n              </button>\n              <button class="button generate-button" @click="','">\n                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                  <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-width="2"/>\n                </svg>\n                Generate\n              </button>\n            </div>\n          </div>\n        </div>\n\n        ',"\n        ",'\n\n        <div class="grid-section">\n          ',"\n        </div>\n      </div>\n    "])),this.selectedCaseType,(function(n){return e.selectedCaseType=n.target.value}),this.selectedStatus,(function(n){return e.selectedStatus=n.target.value}),"mrn"===this.searchType,(function(n){return e.searchType=n.target.value}),"nationalId"===this.searchType,(function(n){return e.searchType=n.target.value}),"requestId"===this.searchType,(function(n){return e.searchType=n.target.value}),this.startDate,(function(n){return e.startDate=n.target.value}),this.endDate,(function(n){return e.endDate=n.target.value}),this.searchQuery,(function(n){return e.searchQuery=n.target.value}),this.handleCreateNew,this.handleSearch,this.renderVisitGrid(),this.renderVitals(),this.loading?U(wa||(wa=Aa(['\n            <div class="loading-spinner"></div>\n          ']))):0===this.priorAuths.length?U(xa||(xa=Aa(['\n            <div class="empty-state">\n              <p>No records to display.</p>\n            </div>\n          ']))):U(Sa||(Sa=Aa(['\n            <div class="grid-container">\n              <div class="grid-header">\n                <div class="grid-row">\n                  <div>ID</div>\n                  <div>Case Type</div>\n                  <div>MRN</div>\n                  <div>Patient Name</div>\n                  <div>Plan</div>\n                  <div>Auth Start</div>\n                  <div>Auth End</div>\n                  <div>Denial Code</div>\n                  <div>Status</div>\n                </div>\n              </div>\n              <div class="grid-body">\n                ',"\n              </div>\n            </div>\n          "])),this.priorAuths.map((function(n){var t,r,i,o,a=JSON.parse(n.customEndpointRequest);return U(ka||(ka=Aa(['\n                    <div class="grid-row">\n                      <div>',"</div>\n                      <div>","</div>\n                      <div>","</div>\n                      <div>"," ","</div>\n                      <div>","</div>\n                      <div>","</div>\n                      <div>","</div>\n                      <div>",'</div>\n                      <div>\n                        <span class="status-badge ','">\n                          ',"\n                        </span>\n                      </div>\n                    </div>\n                  "])),a.RequestId,a.CaseType||"N/A",(null===(t=a.Patient)||void 0===t?void 0:t.MRN)||"N/A",null===(r=a.Patient)||void 0===r?void 0:r.FirstName,null===(i=a.Patient)||void 0===i?void 0:i.LastName,(null===(o=a.Coverage)||void 0===o?void 0:o.PlanName)||"N/A",new Date(a.AuthStartDate).toLocaleDateString(),new Date(a.AuthEndDate).toLocaleDateString(),a.DenialCode||"N/A",e.getStatusClass(n.status),e.getStatusText(n.status))}))))}},{key:"getStatusText",value:function(e){return{1:"Draft",2:"Processing",3:"Cancelled",4:"Approved",5:"In Queue",6:"Rejected"}[e]||"Unknown"}}],[{key:"properties",get:function(){return{priorAuths:{type:Array},loading:{type:Boolean},searchType:{type:String},searchQuery:{type:String},startDate:{type:String},endDate:{type:String},selectedCaseType:{type:String},selectedStatus:{type:String},selectedPatient:{type:Object},selectedVisit:{type:Object},visits:{type:Array},vitals:{type:Object}}}},{key:"styles",get:function(){return c(Ea||(Ea=Aa(['\n      :host {\n        display: block;\n        --primary: #8500d8;\n        --primary-light: #a64ced;\n        --primary-dark: #6a00ad;\n        --success: #10B981;\n        --warning: #F59E0B;\n        --error: #EF4444;\n        --gray-50: #F9FAFB;\n        --gray-100: #F3F4F6;\n        --gray-200: #E5E7EB;\n        --gray-300: #D1D5DB;\n        --gray-400: #9CA3AF;\n        --gray-500: #6B7280;\n        --gray-600: #4B5563;\n        --gray-700: #374151;\n        --gray-800: #1F2937;\n        --gray-900: #111827;\n        font-family: \'Inter\', system-ui, -apple-system, sans-serif;\n      }\n\n      .page-header {\n        max-width: 1400px;\n        margin: 0 auto 2rem;\n        padding: 0 1rem;\n      }\n\n      .page-title {\n        font-size: 2rem;\n        font-weight: 600;\n        color: var(--gray-900);\n        margin-bottom: 0.5rem;\n      }\n\n      .page-description {\n        color: var(--gray-600);\n        font-size: 1.125rem;\n      }\n\n      @media (max-width: 768px) {\n        .page-title {\n          font-size: 1.5rem;\n        }\n\n        .page-description {\n          font-size: 1rem;\n        }\n      }\n\n      .widget-container {\n        background: white;\n        border-radius: 1rem;\n        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n        overflow: hidden;\n      }\n\n      .filters-section {\n        background: white;\n        padding: 2rem;\n        display: flex;\n        flex-direction: column;\n        gap: 1.25rem;\n      }\n\n      .filters-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 1.5rem;\n      }\n\n      .section-title {\n        font-size: 1.25rem;\n        font-weight: 600;\n        color: var(--gray-900);\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n      }\n\n      .filters-row {\n        display: flex;\n        gap: 2rem;\n        align-items: flex-start;\n      }\n\n      .filter-group {\n        display: flex;\n        flex-direction: column;\n        gap: 0.5rem;\n      }\n\n      .filter-group.case-type,\n      .filter-group.status {\n        width: 200px;\n      }\n\n      .filter-group.search-type {\n        width: 420px;\n      }\n\n      .filter-group.search-field {\n        width: 320px;\n      }\n\n      .filter-group.date-range {\n        width: 420px;\n      }\n\n      .filter-group.generate-button-container {\n        margin-left: auto;\n        padding-top: 1.5rem;\n        display: flex;\n        gap: 1rem;\n        align-items: center;\n      }\n\n      .filter-label {\n        font-size: 0.875rem;\n        font-weight: 500;\n        color: var(--gray-700);\n        margin-bottom: 0.25rem;\n      }\n\n      .filter-input {\n        padding: 0.625rem 1rem;\n        border: 1px solid var(--gray-300);\n        border-radius: 0.5rem;\n        font-size: 0.875rem;\n        color: var(--gray-900);\n        background: white;\n        transition: all 0.2s;\n        height: 40px;\n        width: 100%;\n        appearance: none;\n        -webkit-appearance: none;\n      }\n\n      .radio-group {\n        display: flex;\n        gap: 2rem;\n        align-items: center;\n        padding: 0.5rem 0;\n      }\n\n      .radio-label {\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n        font-size: 0.875rem;\n        color: var(--gray-700);\n        cursor: pointer;\n      }\n\n      .radio-label input[type="radio"] {\n        width: 1.125rem;\n        height: 1.125rem;\n        border: 2px solid var(--primary);\n        border-radius: 50%;\n        appearance: none;\n        -webkit-appearance: none;\n        position: relative;\n        margin: 0;\n        cursor: pointer;\n      }\n\n      .radio-label input[type="radio"]:checked {\n        background-color: var(--primary);\n        border-color: var(--primary);\n      }\n\n      .radio-label input[type="radio"]:checked::after {\n        content: \'\';\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        width: 0.375rem;\n        height: 0.375rem;\n        background-color: white;\n        border-radius: 50%;\n      }\n\n      .date-inputs {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 5rem;\n      }\n\n      .button {\n        height: 40px;\n        border-radius: 0.5rem;\n        font-weight: 500;\n        cursor: pointer;\n        transition: all 0.2s;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        gap: 0.5rem;\n        padding: 0.75rem 1.5rem;\n      }\n\n      .create-button {\n        background: white;\n        color: var(--primary);\n        border: 1px solid var(--primary);\n        width: 180px;\n      }\n\n      .create-button:hover {\n        background: var(--gray-50);\n      }\n\n      .generate-button {\n        background: var(--primary);\n        color: white;\n        border: none;\n        width: 140px;\n      }\n\n      .generate-button:hover {\n        background: var(--primary-dark);\n      }\n\n      .grid-section {\n        padding: 1.5rem;\n      }\n\n      .grid-header {\n        background: var(--primary);\n        border: 1px solid var(--primary-dark);\n        border-radius: 0.5rem 0.5rem 0 0;\n      }\n\n      .grid-header .grid-row {\n        font-weight: 600;\n        color: white;\n      }\n\n      .grid-body {\n        border: 1px solid var(--gray-200);\n        border-top: none;\n        border-radius: 0 0 0.5rem 0.5rem;\n        background: white;\n      }\n\n      .grid-body .grid-row {\n        border-bottom: 1px solid var(--gray-200);\n        transition: background-color 0.2s;\n      }\n\n      .grid-body .grid-row:hover {\n        background-color: var(--gray-50);\n      }\n\n      .grid-body .grid-row:last-child {\n        border-bottom: none;\n      }\n\n      .status-badge {\n        padding: 0.375rem 0.75rem;\n        border-radius: 9999px;\n        font-size: 0.75rem;\n        font-weight: 500;\n        text-align: center;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        min-width: 100px;\n      }\n\n      .status-success { \n        background: #D1FAE5; \n        color: #065F46;\n      }\n      \n      .status-warning { \n        background: #FEF3C7; \n        color: #92400E;\n      }\n      \n      .status-error { \n        background: #FEE2E2; \n        color: #991B1B;\n      }\n      \n      .status-info { \n        background: #DBEAFE; \n        color: #1E40AF;\n      }\n\n      .empty-state {\n        padding: 3rem;\n        text-align: center;\n        color: var(--gray-500);\n      }\n\n      .loading-spinner {\n        width: 2rem;\n        height: 2rem;\n        border: 2px solid var(--gray-200);\n        border-top-color: var(--primary);\n        border-radius: 50%;\n        animation: spin 1s linear infinite;\n        margin: 2rem auto;\n      }\n\n      @keyframes spin {\n        to { transform: rotate(360deg); }\n      }\n\n      .grid-row {\n        display: grid;\n        grid-template-columns: 1fr 1fr 1fr 1.5fr 1.5fr 1fr 1fr 1fr 1fr;\n        gap: 1rem;\n        padding: 1rem;\n        align-items: center;\n      }\n\n      @media (max-width: 1024px) {\n        .grid-row {\n          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n        }\n      }\n\n      .visit-grid {\n        margin-top: 1.5rem;\n        background: white;\n        border-radius: 0.5rem;\n        overflow: hidden;\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n      }\n\n      .visit-table {\n        width: 100%;\n        border-collapse: collapse;\n      }\n\n      .visit-table th,\n      .visit-table td {\n        padding: 1rem;\n        text-align: left;\n        border-bottom: 1px solid var(--gray-200);\n      }\n\n      .visit-table th {\n        background: var(--primary);\n        color: white;\n        font-weight: 500;\n      }\n\n      .visit-table tr:hover {\n        background: var(--gray-50);\n      }\n\n      .visit-table tr.selected {\n        background: var(--primary-light);\n        color: white;\n      }\n\n      .btn-select {\n        padding: 0.5rem 1rem;\n        border-radius: 0.375rem;\n        border: 1px solid var(--primary);\n        background: white;\n        color: var(--primary);\n        cursor: pointer;\n        transition: all 0.2s;\n      }\n\n      .btn-select:hover {\n        background: var(--primary);\n        color: white;\n      }\n\n      .btn-select:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n\n      .vitals-section {\n        margin-top: 1.5rem;\n        padding: 1.5rem;\n        background: white;\n        border-radius: 0.5rem;\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n      }\n\n      .vitals-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: 1.5rem;\n        margin-top: 1rem;\n      }\n\n      .vital-card {\n        padding: 1rem;\n        background: var(--gray-50);\n        border-radius: 0.5rem;\n        border: 1px solid var(--gray-200);\n      }\n\n      .vital-label {\n        font-size: 0.875rem;\n        color: var(--gray-600);\n        margin-bottom: 0.5rem;\n      }\n\n      .vital-value {\n        font-size: 1.25rem;\n        font-weight: 500;\n        color: var(--gray-900);\n      }\n    '])))}}]);var t,r,i,o,a,s}(se);function cs(e){return cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(e)}function ls(e,n,t){return(n=fs(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ds(){ds=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==cs(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(cs(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function us(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function ps(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){us(o,r,i,a,s,"next",e)}function s(e){us(o,r,i,a,s,"throw",e)}a(void 0)}))}}function hs(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fs(r.key),r)}}function fs(e){var n=function(e){if("object"!=cs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=cs(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==cs(n)?n:n+""}function ms(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ms=function(){return!!e})()}function vs(e,n,t,r){var i=gs(ys(1&r?e.prototype:e),n,t);return 2&r&&"function"==typeof i?function(e){return i.apply(t,e)}:i}function gs(){return gs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,n,t){var r=function(e,n){for(;!{}.hasOwnProperty.call(e,n)&&null!==(e=ys(e)););return e}(e,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(arguments.length<3?e:t):i.value}},gs.apply(null,arguments)}function ys(e){return ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ys(e)}function bs(e,n){return bs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},bs(e,n)}function ws(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}customElements.get("prior-auth-widget")||customElements.define("prior-auth-widget",ss);var xs=c(za||(za=ws(["\n  :host {\n    display: block;\n    position: relative;\n  }\n\n  .grid-container {\n    width: 100%;\n    overflow-x: auto;\n    background: white;\n    border-radius: 0.5rem;\n    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  }\n\n  table {\n    width: 100%;\n    border-collapse: separate;\n    border-spacing: 0;\n    min-width: 1000px;\n  }\n\n  th, td {\n    padding: 1rem;\n    text-align: left;\n    border-bottom: 1px solid #E5E7EB;\n    vertical-align: top;\n  }\n\n  th {\n    background-color: #F9FAFB;\n    font-weight: 600;\n    color: #374151;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n    border-bottom: 2px solid #E5E7EB;\n  }\n\n  tr:nth-child(even) {\n    background-color: #F9FAFB;\n  }\n\n  tr:hover {\n    background-color: #F3F4F6;\n  }\n\n  .status-cell {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    padding: 0.375rem 0.75rem;\n    border-radius: 9999px;\n    font-size: 0.875rem;\n    font-weight: 500;\n    min-width: 100px;\n    text-align: center;\n  }\n\n  .status-draft {\n    background-color: #E5E7EB;\n    color: #374151;\n  }\n\n  .status-processing {\n    background-color: #DBEAFE;\n    color: #1E40AF;\n  }\n\n  .status-cancelled {\n    background-color: #FEE2E2;\n    color: #991B1B;\n  }\n\n  .status-reapplied {\n    background-color: #FEF3C7;\n    color: #92400E;\n  }\n\n  .status-inqueue {\n    background-color: #F3E8FF;\n    color: #6B21A8;\n  }\n\n  .status-rejected {\n    background-color: #FEE2E2;\n    color: #991B1B;\n  }\n\n  .status-completed {\n    background-color: #D1FAE5;\n    color: #065F46;\n  }\n\n  .status-queued {\n    background-color: #F3E8FF;\n    color: #6B21A8;\n  }\n\n  .status-partial {\n    background-color: #FEF3C7;\n    color: #92400E;\n  }\n\n  .status-error {\n    background-color: #FEE2E2;\n    color: #991B1B;\n  }\n\n  .status-pending {\n    background-color: #DBEAFE;\n    color: #1E40AF;\n  }\n\n  .action-cell {\n    display: flex;\n    gap: 0.5rem;\n  }\n\n  .action-button {\n    padding: 0.375rem 0.75rem;\n    border-radius: 0.375rem;\n    background-color: #4F46E5;\n    color: white;\n    border: none;\n    cursor: pointer;\n    font-size: 0.875rem;\n    transition: all 0.2s;\n  }\n\n  .action-button:hover {\n    background-color: #4338CA;\n    transform: translateY(-1px);\n  }\n\n  .action-button:active {\n    transform: translateY(0);\n  }\n\n  .error-list {\n    margin-top: 0.5rem;\n    font-size: 0.875rem;\n    color: #991B1B;\n  }\n\n  .error-item {\n    margin-bottom: 0.25rem;\n  }\n\n  .small-text {\n    font-size: 0.75rem;\n    color: #6B7280;\n    display: block;\n  }\n\n  .patient-info {\n    display: flex;\n    flex-direction: column;\n    gap: 0.375rem;\n  }\n\n  .patient-name {\n    font-weight: 500;\n    color: #111827;\n  }\n\n  .patient-details {\n    font-size: 0.75rem;\n    color: #6B7280;\n    line-height: 1.4;\n  }\n\n  .loading-overlay {\n    position: absolute;\n    inset: 0;\n    background: rgba(255, 255, 255, 0.9);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 50;\n  }\n\n  .loading-spinner {\n    width: 2.5rem;\n    height: 2.5rem;\n    border: 3px solid #E5E7EB;\n    border-top-color: #4F46E5;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n\n  .empty-state {\n    padding: 3rem;\n    text-align: center;\n    color: #6B7280;\n  }\n\n  @keyframes spin {\n    to {\n      transform: rotate(360deg);\n    }\n  }\n\n  @media (max-width: 1024px) {\n    .grid-container {\n      border-radius: 0;\n    }\n  }\n\n  .claim-invoice {\n    padding: 2rem;\n    background: white;\n    border: 1px solid var(--gray-200);\n    border-radius: 0.5rem;\n    margin: 1rem;\n  }\n\n  .invoice-header {\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 1.5rem;\n    margin-bottom: 2rem;\n  }\n\n  .invoice-title {\n    text-align: center;\n  }\n\n  .invoice-title h2 {\n    color: var(--gray-900);\n    margin: 0;\n  }\n\n  .invoice-details {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 2rem;\n  }\n\n  .provider-info,\n  .patient-info,\n  .insurance-info {\n    padding: 1rem;\n    background: var(--gray-50);\n    border-radius: 0.5rem;\n  }\n\n  .provider-info h3,\n  .patient-info h3,\n  .insurance-info h3 {\n    color: var(--gray-700);\n    margin: 0 0 0.5rem 0;\n    font-size: 1rem;\n  }\n\n  .invoice-items table {\n    width: 100%;\n    margin: 2rem 0;\n  }\n\n  .invoice-items th {\n    background: var(--gray-100);\n    padding: 0.75rem;\n    text-align: left;\n  }\n\n  .invoice-items td {\n    padding: 0.75rem;\n    border-bottom: 1px solid var(--gray-200);\n  }\n\n  .text-right {\n    text-align: right;\n    font-weight: 500;\n  }\n\n  .grand-total {\n    font-weight: 600;\n    font-size: 1.1em;\n    background: var(--gray-50);\n  }\n\n  .invoice-footer {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 2rem;\n    margin-top: 2rem;\n    padding-top: 2rem;\n    border-top: 1px solid var(--gray-200);\n  }\n\n  .diagnosis-info,\n  .practitioner-info {\n    padding: 1rem;\n    background: var(--gray-50);\n    border-radius: 0.5rem;\n  }\n\n  .diagnosis-info h3,\n  .practitioner-info h3 {\n    color: var(--gray-700);\n    margin: 0 0 0.5rem 0;\n    font-size: 1rem;\n  }\n\n  .careteam-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n    gap: 1.5rem;\n    margin-top: 1.5rem;\n  }\n\n  .member-card {\n    background: white;\n    border: 1px solid var(--gray-200);\n    border-radius: 0.5rem;\n    padding: 1.25rem;\n    transition: all 0.2s;\n  }\n\n  .member-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 1rem;\n    padding-bottom: 0.75rem;\n    border-bottom: 1px solid var(--gray-100);\n  }\n\n  .member-role {\n    font-weight: 600;\n    color: var(--primary);\n    font-size: 1.1rem;\n  }\n\n  .member-content {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n\n  .member-id {\n    font-weight: 500;\n    color: var(--gray-900);\n  }\n\n  .member-qualification {\n    font-size: 0.875rem;\n    color: var(--gray-700);\n  }\n\n  .member-specialty {\n    font-size: 0.875rem;\n    color: var(--gray-700);\n  }\n\n  .medications-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 1.5rem;\n    margin-top: 1.5rem;\n  }\n\n  .medication-card {\n    background: white;\n    border: 1px solid var(--gray-200);\n    border-radius: 0.5rem;\n    padding: 1.25rem;\n    transition: all 0.2s;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  }\n\n  .medication-card:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n  }\n\n  .medication-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 1rem;\n    padding-bottom: 0.75rem;\n    border-bottom: 1px solid var(--gray-100);\n  }\n\n  .medication-code {\n    font-weight: 600;\n    color: var(--primary);\n    font-size: 1.1rem;\n  }\n\n  .medication-status {\n    padding: 0.25rem 0.75rem;\n    border-radius: 9999px;\n    font-size: 0.875rem;\n    font-weight: 500;\n    background: var(--gray-100);\n    color: var(--gray-700);\n  }\n\n  .medication-content {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n\n  .medication-content .detail-item {\n    display: flex;\n    flex-direction: column;\n    gap: 0.25rem;\n  }\n\n  .medication-instructions {\n    margin-top: 0.5rem;\n    padding-top: 0.5rem;\n    border-top: 1px solid var(--gray-100);\n  }\n\n  .medication-instructions .value {\n    margin-top: 0.25rem;\n    font-size: 0.875rem;\n    color: var(--gray-600);\n    line-height: 1.5;\n  }\n\n  .invoice-actions {\n    display: flex;\n    justify-content: flex-end;\n    gap: 1rem;\n    margin-top: 1rem;\n  }\n\n  .submit-claim-button {\n    display: inline-flex;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 0.75rem 1.5rem;\n    background: var(--primary, #8500d8);\n    color: white;\n    border: none;\n    border-radius: 0.5rem;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.2s;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n\n  .submit-claim-button:hover {\n    background: var(--primary-dark, #6a00ad);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  }\n\n  .submit-claim-button:active {\n    transform: translateY(0);\n  }\n\n  .button-icon {\n    width: 1.25rem;\n    height: 1.25rem;\n    stroke-width: 2;\n  }\n\n  .notification {\n    position: fixed;\n    bottom: 2rem;\n    right: 2rem;\n    padding: 1rem 1.5rem;\n    border-radius: 0.5rem;\n    background: white;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    z-index: 1000;\n    animation: slideIn 0.3s ease-out;\n  }\n\n  .notification.success {\n    background: #10B981;\n    color: white;\n  }\n\n  .notification.error {\n    background: #EF4444;\n    color: white;\n  }\n\n  .notification.info {\n    background: #3B82F6;\n    color: white;\n  }\n\n  @keyframes slideIn {\n    from {\n      transform: translateX(100%);\n      opacity: 0;\n    }\n    to {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n"]))),Ss=function(e){function n(){var e,t,r,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=this,r=n,r=ys(r),e=function(e,n){if(n&&("object"==cs(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,ms()?Reflect.construct(r,i||[],ys(t).constructor):r.apply(t,i))).priorAuths=[],e.loading=!0,e.activeClaimTab="invoice",e.selectedClaimView=null,e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&bs(e,n)}(n,e),function(e,n,t){return n&&hs(e.prototype,n),t&&hs(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"connectedCallback",value:(i=ps(ds().mark((function e(){return ds().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vs(n,"connectedCallback",this,3)([]),e.next=3,this.fetchPriorAuths();case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"fetchPriorAuths",value:(r=ps(ds().mark((function e(){var n,t;return ds().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,fetch(Dn.PREAUTHORIZATION.PAGED,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:1,pageSize:10})});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Failed to fetch prior auths");case 7:return e.next=9,n.json();case 9:(t=e.sent).dynamicResult&&(this.priorAuths=t.dynamicResult.sort((function(e,n){var t=JSON.parse(e.customEndpointRequest),r=JSON.parse(n.customEndpointRequest),i=new Date(t.CreatedDate||t.RequestDate||0);return new Date(r.CreatedDate||r.RequestDate||0)-i}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error fetching prior auths:",e.t0);case 16:return e.prev=16,this.loading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[0,13,16,19]])}))),function(){return r.apply(this,arguments)})},{key:"getPostingStatusClass",value:function(e){var n=ls(ls(ls(ls(ls(ls({},1,"draft"),2,"processing"),3,"cancelled"),4,"reapplied"),5,"inqueue"),6,"rejected");return"status-cell status-".concat(n[e]||"draft")}},{key:"getPostingStatusText",value:function(e){return ls(ls(ls(ls(ls(ls({},1,"Draft"),2,"Processing"),3,"Cancelled"),4,"Reapplied"),5,"SEND FOR AUTH"),6,"Rejected")[e]||"Unknown"}},{key:"getOutcomeStatusClass",value:function(e){var n=ls(ls(ls(ls(ls(ls({},0,"completed"),1,"queued"),2,"partial"),3,"error"),4,"pending"),5,"rejected");return"status-cell status-".concat(n[e]||"pending")}},{key:"getOutcomeStatusText",value:function(e){return ls(ls(ls(ls(ls(ls({},0,"Completed"),1,"Queued"),2,"Partial"),3,"Error"),4,"Pending"),5,"Rejected")[e]||"Unknown"}},{key:"parseErrors",value:function(e){try{var n;if(!e)return[];var t="string"==typeof e?JSON.parse(e):e;return t?Array.isArray(t)?t.map((function(e){return"object"===cs(e)?e.message||e.display||JSON.stringify(e):String(e)})):((null===(n=t.entry)||void 0===n||null===(n=n.find((function(e){var n;return null===(n=e.resource)||void 0===n?void 0:n.error})))||void 0===n||null===(n=n.resource)||void 0===n?void 0:n.error)||[]).map((function(e){var n;return(null===(n=e.code)||void 0===n||null===(n=n.coding)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.display)||e.message||"Unknown error"})):[]}catch(e){return console.error("Error parsing FHIR response:",e),[]}}},{key:"formatOutcome",value:function(e){return this.getOutcomeStatusText(e)}},{key:"renderClaimTabs",value:function(e){var n=this;return U(Ba||(Ba=ws(['\n      <div class="claim-tabs">\n        <button \n          class="tab-button ','"\n          @click=','>\n          <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n            <path d="M9 17h6m-6-4h6m-6-4h6M5 21h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z" stroke-width="2" stroke-linecap="round"/>\n          </svg>\n          Invoice\n        </button>\n        <button \n          class="tab-button ','"\n          @click=','>\n          <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n            <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" stroke-width="2" stroke-linecap="round"/>\n          </svg>\n          Coverage\n        </button>\n        <button \n          class="tab-button ','"\n          @click=','>\n          <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n            <path d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke-width="2" stroke-linecap="round"/>\n          </svg>\n          Procedures\n        </button>\n        <button \n          class="tab-button ','"\n          @click=','>\n          <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n            <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 012-2h2a2 2 0 012 2M9 5a2 2 0 012 2h2a2 2 0 012-2" stroke-width="2" stroke-linecap="round"/>\n          </svg>\n          Diagnosis\n        </button>\n        <button \n          class="tab-button ','"\n          @click=','>\n          <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n            <path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" stroke-width="2" stroke-linecap="round"/>\n          </svg>\n          Medications\n        </button>\n        <button \n          class="tab-button ','"\n          @click=','>\n          <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n            <path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" stroke-width="2" stroke-linecap="round"/>\n          </svg>\n          Care Team\n        </button>\n      </div>\n    '])),"invoice"===this.activeClaimTab?"active":"",(function(){return n.activeClaimTab="invoice"}),"coverage"===this.activeClaimTab?"active":"",(function(){return n.activeClaimTab="coverage"}),"procedures"===this.activeClaimTab?"active":"",(function(){return n.activeClaimTab="procedures"}),"diagnosis"===this.activeClaimTab?"active":"",(function(){return n.activeClaimTab="diagnosis"}),"medications"===this.activeClaimTab?"active":"",(function(){return n.activeClaimTab="medications"}),"careteam"===this.activeClaimTab?"active":"",(function(){return n.activeClaimTab="careteam"}))}},{key:"renderClaimContent",value:function(e){switch(this.activeClaimTab){case"invoice":default:return this.renderInvoice(e);case"coverage":return this.renderCoverage(e);case"procedures":return this.renderProcedures(e);case"diagnosis":return this.renderDiagnosis(e);case"medications":return this.renderMedications(e);case"careteam":return this.renderCareTeam(e)}}},{key:"handleClaimSubmit",value:(t=ps(ds().mark((function e(n){var t,r;return ds().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Dn.PREAUTHORIZATION.DENTAL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Failed to submit claim");case 6:return e.next=8,t.json();case 8:return r=e.sent,this.showNotification("Claim submitted successfully","success"),e.abrupt("return",r);case 13:throw e.prev=13,e.t0=e.catch(0),console.error("Error submitting claim:",e.t0),this.showNotification("Failed to submit claim: "+e.t0.message,"error"),e.t0;case 18:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(e){return t.apply(this,arguments)})},{key:"showNotification",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";this.dispatchEvent(new CustomEvent("notification",{detail:{message:e,type:n},bubbles:!0,composed:!0}))}},{key:"renderInvoice",value:function(e){var n=this,t=e.Procedures||[],r=t.reduce((function(e,n){return e+n.UnitPrice}),0),i=.15*r,o=r+i;return U(Ua||(Ua=ws(['\n      <div class="modern-invoice">\n        <div class="invoice-header">\n          <div class="invoice-branding">\n            <svg class="invoice-logo" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n              <path d="M12 14l9-5-9-5-9 5 9 5z" stroke-width="2" stroke-linecap="round"/>\n              <path d="M12 14l9-5-9-5-9 5 9 5z" stroke-width="2" stroke-linecap="round" transform="translate(0 6)"/>\n            </svg>\n            <div class="invoice-title">\n              <h2>Dental Claim Invoice</h2>\n              <p class="invoice-number">Request ID: ','</p>\n            </div>\n          </div>\n          <div class="invoice-actions">\n            <button \n              class="submit-claim-button" \n              @click=','\n            >\n              <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 012-2h2a2 2 0 012 2M9 5a2 2 0 012 2h2a2 2 0 012-2" stroke-width="2"/>\n              </svg>\n              Submit for Claim\n            </button>\n          </div>\n        </div>\n\n        <div class="invoice-info-grid">\n          <div class="info-card provider">\n            <div class="card-header">\n              <svg class="card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                <path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke-width="2"/>\n                <path d="M9 10h.01M15 10h.01M9.75 15h4.5" stroke-width="2" stroke-linecap="round"/>\n              </svg>\n              <h3>Provider</h3>\n            </div>\n            <div class="card-content">\n              <p class="name">','</p>\n              <p class="detail">License: ','</p>\n              <p class="detail">System: ','</p>\n            </div>\n          </div>\n\n          <div class="info-card patient">\n            <div class="card-header">\n              <svg class="card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" stroke-width="2" stroke-linecap="round"/>\n              </svg>\n              <h3>Patient</h3>\n            </div>\n            <div class="card-content">\n              <p class="name">'," ",'</p>\n              <p class="detail">ID: ','</p>\n              <p class="detail">Phone: ','</p>\n            </div>\n          </div>\n\n          <div class="info-card insurance">\n            <div class="card-header">\n              <svg class="card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" stroke-width="2" stroke-linecap="round"/>\n              </svg>\n              <h3>Insurance</h3>\n            </div>\n            <div class="card-content">\n              <p class="name">','</p>\n              <p class="detail">Plan: ','</p>\n              <p class="detail">Member ID: ','</p>\n            </div>\n          </div>\n        </div>\n\n        <div class="invoice-items">\n          <table class="modern-table">\n            <thead>\n              <tr>\n                <th>Procedure</th>\n                <th>Tooth</th>\n                <th>Surface</th>\n                <th>Date</th>\n                <th>Amount</th>\n              </tr>\n            </thead>\n            <tbody>\n              ','\n            </tbody>\n            <tfoot>\n              <tr class="subtotal">\n                <td colspan="4">Subtotal</td>\n                <td>SAR ','</td>\n              </tr>\n              <tr class="vat">\n                <td colspan="4">VAT (15%)</td>\n                <td>SAR ','</td>\n              </tr>\n              <tr class="total">\n                <td colspan="4">Total Amount</td>\n                <td>SAR ',"</td>\n              </tr>\n            </tfoot>\n          </table>\n        </div>\n      </div>\n    "])),e.RequestId,(function(){return n.handleClaimSubmit(e)}),e.ProviderLicense.Name,e.ProviderLicense.LicenseNumber,e.ProviderLicense.System,e.Patient.FirstName,e.Patient.LastName,e.Patient.Identifier,e.Patient.PhoneNumber,e.PayerLicense.Name,e.Coverage.PlanName,e.Coverage.MemberId,t.map((function(e){return U(Va||(Va=ws(['\n                <tr>\n                  <td>\n                    <div class="procedure-info">\n                      <span class="procedure-code">','</span>\n                      <span class="procedure-system">',"</span>\n                    </div>\n                  </td>\n                  <td>","</td>\n                  <td>","</td>\n                  <td>",'</td>\n                  <td class="amount">SAR ',"</td>\n                </tr>\n              "])),e.ProcedureCode,e.ProcedureSystem,e.ToothCode||"N/A",e.ToothSiteCode||"N/A",new Date(e.ServiceDate).toLocaleDateString(),e.UnitPrice.toFixed(2))})),r.toFixed(2),i.toFixed(2),o.toFixed(2))}},{key:"renderCoverage",value:function(e){var n=e.Coverage;return U(qa||(qa=ws(['\n      <div class="coverage-details">\n        <div class="section-header">\n          <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n            <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" stroke-width="2"/>\n          </svg>\n          <h3>Coverage Details</h3>\n        </div>\n        <div class="coverage-grid">\n          <div class="coverage-item">\n            <span class="label">Policy Holder ID</span>\n            <span class="value">','</span>\n          </div>\n          <div class="coverage-item">\n            <span class="label">Coverage Type</span>\n            <span class="value">','</span>\n          </div>\n          <div class="coverage-item">\n            <span class="label">Member ID</span>\n            <span class="value">','</span>\n          </div>\n          <div class="coverage-item">\n            <span class="label">Plan Name</span>\n            <span class="value">','</span>\n          </div>\n          <div class="coverage-item">\n            <span class="label">Network</span>\n            <span class="value">','</span>\n          </div>\n          <div class="coverage-item">\n            <span class="label">Valid From</span>\n            <span class="value">','</span>\n          </div>\n          <div class="coverage-item">\n            <span class="label">Valid To</span>\n            <span class="value">',"</span>\n          </div>\n        </div>\n      </div>\n    "])),n.PolicyHolderId,n.CoverageTypeDisplay,n.MemberId,n.PlanName,n.Network,new Date(n.CoverageStartDate).toLocaleDateString(),new Date(n.CoverageEndDate).toLocaleDateString())}},{key:"renderProcedures",value:function(e){var n=e.Procedures||[];return U(Ha||(Ha=ws(['\n      <div class="procedures-details">\n        <div class="section-header">\n          <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n            <path d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke-width="2"/>\n          </svg>\n          <h3>Dental Procedures</h3>\n        </div>\n        <div class="procedures-grid">\n          ',"\n        </div>\n      </div>\n    "])),n.map((function(e){return U(Ga||(Ga=ws(['\n            <div class="procedure-card">\n              <div class="procedure-header">\n                <span class="procedure-code">','</span>\n                <span class="procedure-date">','</span>\n              </div>\n              <div class="procedure-details">\n                <div class="detail-item">\n                  <span class="label">Tooth</span>\n                  <span class="value">','</span>\n                </div>\n                <div class="detail-item">\n                  <span class="label">Surface</span>\n                  <span class="value">','</span>\n                </div>\n                <div class="detail-item">\n                  <span class="label">Amount</span>\n                  <span class="value">SAR ',"</span>\n                </div>\n              </div>\n            </div>\n          "])),e.ProcedureCode,new Date(e.ServiceDate).toLocaleDateString(),e.ToothCode||"N/A",e.ToothSiteCode||"N/A",e.UnitPrice.toFixed(2))})))}},{key:"renderDiagnosis",value:function(e){var n=e.Diagnoses||[];return U($a||($a=ws(['\n      <div class="diagnosis-details">\n        <div class="section-header">\n          <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n            <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 012-2h2a2 2 0 012 2M9 5a2 2 0 012 2h2a2 2 0 012-2" stroke-width="2"/>\n          </svg>\n          <h3>Diagnosis Information</h3>\n        </div>\n        <div class="diagnosis-grid">\n          ',"\n        </div>\n      </div>\n    "])),n.map((function(e){return U(Ya||(Ya=ws(['\n            <div class="diagnosis-card">\n              <div class="diagnosis-header">\n                <span class="diagnosis-code">','</span>\n                <span class="diagnosis-type">','</span>\n              </div>\n              <div class="diagnosis-content">\n                <p class="diagnosis-display">','</p>\n                <p class="diagnosis-system">',"</p>\n              </div>\n            </div>\n          "])),e.Code,e.Type,e.Display,e.System)})))}},{key:"renderMedications",value:function(e){var n=e.Medications||[];return U(Ja||(Ja=ws(['\n      <div class="medications-details">\n        <div class="section-header">\n          <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n            <path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" stroke-width="2"/>\n          </svg>\n          <h3>Medications</h3>\n        </div>\n        <div class="medications-grid">\n          ',"\n        </div>\n      </div>\n    "])),n.map((function(e){return U(Wa||(Wa=ws(['\n            <div class="medication-card">\n              <div class="medication-header">\n                <span class="medication-code">','</span>\n                <span class="medication-status">','</span>\n              </div>\n              <div class="medication-content">\n                <div class="detail-item">\n                  <span class="label">Name</span>\n                  <span class="value">','</span>\n                </div>\n                <div class="detail-item">\n                  <span class="label">Dosage</span>\n                  <span class="value">','</span>\n                </div>\n                <div class="detail-item">\n                  <span class="label">Frequency</span>\n                  <span class="value">','</span>\n                </div>\n                <div class="detail-item">\n                  <span class="label">Duration</span>\n                  <span class="value">',"</span>\n                </div>\n                ","\n              </div>\n            </div>\n          "])),e.Code,e.Status,e.Display,e.Dosage||"N/A",e.Frequency||"N/A",e.Duration||"N/A",e.Instructions?U(Qa||(Qa=ws(['\n                  <div class="medication-instructions">\n                    <span class="label">Instructions</span>\n                    <p class="value">',"</p>\n                  </div>\n                "])),e.Instructions):"")})))}},{key:"renderCareTeam",value:function(e){var n=e.CareTeam||[];return U(Ka||(Ka=ws(['\n      <div class="careteam-details">\n        <div class="section-header">\n          <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n            <path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" stroke-width="2"/>\n          </svg>\n          <h3>Care Team Members</h3>\n        </div>\n        <div class="careteam-grid">\n          ',"\n        </div>\n      </div>\n    "])),n.map((function(e){return U(Xa||(Xa=ws(['\n            <div class="member-card">\n              <div class="member-header">\n                <span class="member-role">','</span>\n              </div>\n              <div class="member-content">\n                <p class="member-id">ID: ','</p>\n                <p class="member-qualification">','</p>\n                <p class="member-specialty">',"</p>\n              </div>\n            </div>\n          "])),e.Role,e.PractitionerId,e.Qualification,e.Specialty)})))}},{key:"renderClaimInvoice",value:function(e){var n=JSON.parse(e.customEndpointRequest);return U(Za||(Za=ws(['\n      <div class="claim-container">\n        ','\n        <div class="claim-content">\n          ',"\n        </div>\n      </div>\n    "])),this.renderClaimTabs(n),this.renderClaimContent(n))}},{key:"render",value:function(){var e=this;if(this.selectedClaimView){var n=JSON.parse(this.selectedClaimView.customEndpointRequest);return U(es||(es=ws(['\n        <div class="claim-container">\n          ','\n          <div class="claim-content">\n            ',"\n          </div>\n        </div>\n      "])),this.renderClaimTabs(n),this.renderClaimContent(n))}return U(ns||(ns=ws(['\n      <div class="grid-container">\n        ',"\n        \n        ","\n      </div>\n    "])),this.loading?U(ts||(ts=ws(['\n          <div class="loading-overlay">\n            <div class="loading-spinner"></div>\n          </div>\n        ']))):"",0!==this.priorAuths.length||this.loading?U(is||(is=ws(["\n          <table>\n            <thead>\n              <tr>\n                <th>Request ID</th>\n                <th>Patient Information</th>\n                <th>Provider Details</th>\n                <th>Insurance</th>\n                <th>Posting Status</th>\n                <th>Outcome</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              ","\n            </tbody>\n          </table>\n        "])),this.priorAuths.map((function(n){var t=JSON.parse(n.customEndpointRequest);return U(os||(os=ws(["\n                  <tr>\n                    <td>",'</td>\n                    <td>\n                      <div class="patient-info">\n                        <span class="patient-name">'," ",'</span>\n                        <span class="patient-details">\n                          ID: ',"<br>\n                          DOB: ","<br>\n                          Gender: ",'\n                        </span>\n                      </div>\n                    </td>\n                    <td>\n                      <div class="patient-info">\n                        <span class="patient-name">','</span>\n                        <span class="patient-details">\n                          License: ',"<br>\n                          System: ",'\n                        </span>\n                      </div>\n                    </td>\n                    <td>\n                      <div class="patient-info">\n                        <span class="patient-name">','</span>\n                        <span class="patient-details">\n                          Plan: ',"<br>\n                          Type: ",'\n                        </span>\n                      </div>\n                    </td>\n                    <td>\n                      <span class="','">\n                        ','\n                      </span>\n                    </td>\n                    <td>\n                      <div class="outcome-container">\n                        <span class="','">\n                          ','\n                        </span>\n                      </div>\n                    </td>\n                    <td class="action-cell">\n                    \n                      <button class="action-button" @click=','>\n                        Convert to Claim\n                      </button>\n                      <button class="action-button" @click=',">\n                        Resubmit\n                      </button>\n                    </td>\n                  </tr>\n                "])),t.RequestId,t.Patient.FirstName,t.Patient.LastName,t.Patient.Identifier,new Date(t.Patient.DateOfBirth).toLocaleDateString(),t.Patient.Gender,t.ProviderLicense.Name,t.ProviderLicense.LicenseNumber,t.ProviderLicense.System,t.PayerLicense.Name,t.Coverage.PlanName,t.Coverage.CoverageTypeDisplay,e.getPostingStatusClass(n.postingStatus),e.getPostingStatusText(n.postingStatus),e.getOutcomeStatusClass(n.status),e.getOutcomeStatusText(n.status),(function(){return e.viewClaim(n)}),(function(){return e.resubmit(n)}))}))):U(rs||(rs=ws(['\n          <div class="empty-state">\n            No prior authorizations found\n          </div>\n        ']))))}},{key:"viewDetails",value:function(e){this.dispatchEvent(new CustomEvent("view-details",{detail:e,bubbles:!0,composed:!0}))}},{key:"viewClaim",value:function(e){this.dispatchEvent(new CustomEvent("view-claim",{detail:e,bubbles:!0,composed:!0}))}},{key:"resubmit",value:function(e){this.dispatchEvent(new CustomEvent("resubmit",{detail:e,bubbles:!0,composed:!0}))}}],[{key:"properties",get:function(){return{priorAuths:{type:Array},loading:{type:Boolean},activeClaimTab:{type:String},selectedClaimView:{type:Object}}}},{key:"styles",get:function(){return[xs,c(as||(as=ws(["\n      .claim-container {\n        background: var(--gray-50);\n        border-radius: 0.75rem;\n        overflow: hidden;\n        margin: 1rem;\n        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n      }\n\n      .claim-tabs {\n        display: flex;\n        background: white;\n        padding: 1rem 1rem 0;\n        border-bottom: 1px solid var(--gray-200);\n        gap: 0.5rem;\n      }\n\n      .tab-button {\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n        padding: 0.75rem 1.25rem;\n        border: none;\n        background: transparent;\n        color: var(--gray-600);\n        border-radius: 0.5rem 0.5rem 0 0;\n        cursor: pointer;\n        transition: all 0.2s;\n      }\n\n      .tab-button:hover {\n        background: var(--gray-50);\n        color: var(--gray-900);\n      }\n\n      .tab-button.active {\n        background: var(--primary);\n        color: white;\n      }\n\n      .tab-icon {\n        width: 1.25rem;\n        height: 1.25rem;\n      }\n\n      .claim-content {\n        padding: 1.5rem;\n        background: white;\n      }\n\n      .modern-invoice {\n        max-width: 1200px;\n        margin: 0 auto;\n      }\n\n      .invoice-branding {\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n      }\n\n      .invoice-logo {\n        width: 3rem;\n        height: 3rem;\n        color: var(--primary);\n      }\n\n      .invoice-info-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n        gap: 1.5rem;\n        margin: 2rem 0;\n      }\n\n      .info-card {\n        background: var(--gray-50);\n        border-radius: 0.5rem;\n        padding: 1.5rem;\n        border: 1px solid var(--gray-200);\n      }\n\n      .card-header {\n        display: flex;\n        align-items: center;\n        gap: 0.75rem;\n        margin-bottom: 1rem;\n      }\n\n      .card-icon {\n        width: 1.5rem;\n        height: 1.5rem;\n        color: var(--primary);\n      }\n\n      .modern-table {\n        width: 100%;\n        border-collapse: separate;\n        border-spacing: 0;\n        margin: 2rem 0;\n      }\n\n      .modern-table th {\n        background: var(--gray-50);\n        padding: 1rem;\n        text-align: left;\n        font-weight: 600;\n        color: var(--gray-700);\n      }\n\n      .modern-table td {\n        padding: 1rem;\n        border-bottom: 1px solid var(--gray-100);\n      }\n\n      .modern-table tfoot tr {\n        background: var(--gray-50);\n      }\n\n      .modern-table tfoot td {\n        padding: 1rem;\n        font-weight: 600;\n      }\n\n      .coverage-grid,\n      .procedures-grid,\n      .diagnosis-grid,\n      .careteam-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n        gap: 1.5rem;\n        margin-top: 1.5rem;\n      }\n\n      .coverage-item,\n      .procedure-card,\n      .diagnosis-card,\n      .member-card {\n        background: white;\n        border: 1px solid var(--gray-200);\n        border-radius: 0.5rem;\n        padding: 1.25rem;\n        transition: all 0.2s;\n      }\n\n      .coverage-item:hover,\n      .procedure-card:hover,\n      .diagnosis-card:hover,\n      .member-card:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n      }\n\n      .section-header {\n        display: flex;\n        align-items: center;\n        gap: 0.75rem;\n        margin-bottom: 1.5rem;\n      }\n\n      .section-icon {\n        width: 1.75rem;\n        height: 1.75rem;\n        color: var(--primary);\n      }\n\n      .label {\n        display: block;\n        font-size: 0.875rem;\n        color: var(--gray-500);\n        margin-bottom: 0.25rem;\n      }\n\n      .value {\n        font-weight: 500;\n        color: var(--gray-900);\n      }\n\n      .status-badge {\n        display: inline-flex;\n        align-items: center;\n        padding: 0.375rem 0.75rem;\n        border-radius: 9999px;\n        font-size: 0.875rem;\n        font-weight: 500;\n        background: var(--primary);\n        color: white;\n      }\n    "])))]}}]);var t,r,i}(se);customElements.get("prior-auth-grid")||customElements.define("prior-auth-grid",Ss);const ks=e.p+"images/c9e242a0550a7ff6c44a.png";function Es(e){return Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(e)}var Ps,Os,Cs,As;function Ts(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ds(r.key),r)}}function Ds(e){var n=function(e){if("object"!=Es(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Es(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Es(n)?n:n+""}function Is(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Is=function(){return!!e})()}function js(e){return js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},js(e)}function Ns(e,n){return Ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},Ns(e,n)}function Ls(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var Rs,_s=c(Ps||(Ps=Ls(["\n  :host {\n    display: block;\n    font-family: var(--sw-font-family, 'Inter', system-ui, -apple-system, sans-serif);\n    --primary: #8500d8;\n    --primary-dark: #6a00ad;\n    --gray-50: #F9FAFB;\n    --gray-100: #F3F4F6;\n    --gray-200: #E5E7EB;\n    --gray-300: #D1D5DB;\n    --gray-400: #9CA3AF;\n    --gray-500: #6B7280;\n    --gray-600: #4B5563;\n    --gray-700: #374151;\n    --gray-800: #1F2937;\n    --gray-900: #111827;\n  }\n\n  .modal-backdrop {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100vh;\n    background: rgba(0, 0, 0, 0.5);\n    display: flex;\n    z-index: 9998;\n    padding: 2rem;\n    box-sizing: border-box;\n    justify-content: center;\n    align-items: flex-start;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  }\n\n  .modal-backdrop.open {\n    opacity: 1;\n  }\n\n  .modal-content {\n    background: white;\n    width: 100%;\n    max-width: 1200px;\n    height: calc(100vh - 4rem);\n    border-radius: 0.75rem;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    z-index: 9999;\n    opacity: 0;\n    transform: translateY(20px);\n    transition: all 0.3s ease;\n  }\n\n  .modal-content.open {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  .modal-header {\n    background: var(--primary);\n    color: white;\n    padding: 1.5rem 2rem;\n    display: flex;\n    gap: 2rem;\n    align-items: flex-start;\n    position: relative;\n  }\n\n  .nphies-logo {\n    width: 140px;\n    height: auto;\n    object-fit: contain;\n  }\n\n  .header-content {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    flex: 1;\n  }\n\n  .modal-title {\n    font-size: 24px;\n    font-weight: 500;\n    margin: 0;\n    line-height: 1.2;\n  }\n\n  .close-button {\n    position: absolute;\n    top: 1.5rem;\n    right: 1.5rem;\n    background: rgba(255, 255, 255, 0.1);\n    border: none;\n    color: white;\n    cursor: pointer;\n    padding: 0.75rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 0.375rem;\n    transition: all 0.2s ease;\n  }\n\n  .close-button:hover {\n    background: rgba(255, 255, 255, 0.2);\n    transform: scale(1.1);\n  }\n\n  .close-button svg {\n    width: 1.25rem;\n    height: 1.25rem;\n    stroke-width: 2.5;\n  }\n\n  .modal-tabs {\n    display: flex;\n    background: white;\n    padding: 0;\n    border-bottom: 1px solid var(--gray-200);\n    gap: 0.5rem;\n  }\n\n  .modal-tab {\n    padding: 1rem 2rem;\n    color: var(--gray-600);\n    background: transparent;\n    border: none;\n    border-bottom: 2px solid transparent;\n    cursor: pointer;\n    font-weight: 500;\n    transition: all 0.2s;\n    font-size: 0.875rem;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .modal-tab:hover {\n    color: var(--primary);\n    background: var(--gray-50);\n  }\n\n  .modal-tab.active {\n    color: var(--primary);\n    border-bottom-color: var(--primary);\n    background: var(--gray-50);\n  }\n\n  .modal-tab-icon {\n    width: 1.25rem;\n    height: 1.25rem;\n  }\n\n  .modal-body {\n    flex: 1;\n    overflow-y: auto;\n    padding: 1.5rem;\n    background: var(--gray-50);\n  }\n\n  .modal-footer {\n    padding: 1rem 2rem;\n    background: white;\n    border-top: 1px solid var(--gray-200);\n    display: flex;\n    justify-content: flex-end;\n    gap: 1rem;\n    box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1);\n  }\n\n  .button {\n    padding: 0.75rem 1.5rem;\n    border-radius: 0.5rem;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.2s;\n    font-size: 0.875rem;\n    display: inline-flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .button-secondary {\n    background: white;\n    border: 1.5px solid var(--gray-300);\n    color: var(--gray-700);\n  }\n\n  .button-secondary:hover {\n    border-color: var(--gray-400);\n    color: var(--gray-900);\n    transform: translateY(-1px);\n  }\n\n  .tab-content {\n    display: none;\n  }\n\n  .tab-content.active {\n    display: block;\n  }\n\n  @keyframes slideIn {\n    from {\n      opacity: 0;\n      transform: translateY(1rem);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  .animate-in {\n    animation: slideIn 0.3s ease-out;\n  }\n"]))),Fs=function(e){function n(){var e,t,r,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=this,r=n,r=js(r),e=function(e,n){if(n&&("object"==Es(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,Is()?Reflect.construct(r,i||[],js(t).constructor):r.apply(t,i))).isOpen=!1,e.title="Prior Authorization List",e.activeTab="list",e.selectedAuth=null,e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Ns(e,n)}(n,e),function(e,n,t){return n&&Ts(e.prototype,n),t&&Ts(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"handleBackdropClick",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"close",value:function(){var e=this,n=this.shadowRoot.querySelector(".modal-backdrop"),t=this.shadowRoot.querySelector(".modal-content");n.style.opacity="0",t.style.opacity="0",t.style.transform="translateY(20px)",setTimeout((function(){e.isOpen=!1,e.activeTab="list",e.selectedAuth=null,e.dispatchEvent(new CustomEvent("close")),document.body.style.overflow=""}),300)}},{key:"switchTab",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.activeTab=e,n&&(this.selectedAuth=n)}},{key:"updated",value:function(e){var n=this;e.has("isOpen")&&this.isOpen&&setTimeout((function(){var e=n.shadowRoot.querySelector(".modal-backdrop"),t=n.shadowRoot.querySelector(".modal-content");e.offsetHeight,t.offsetHeight,e.classList.add("open"),t.classList.add("open"),document.body.style.overflow="hidden"}),0)}},{key:"handleViewClaim",value:function(e){this.switchTab("claim",e)}},{key:"render",value:function(){var e=this;return this.isOpen?U(Os||(Os=Ls(['\n      <div class="modal-backdrop" @click="','">\n        <div class="modal-content">\n          <div class="modal-header">\n            <img src="','" class="nphies-logo" alt="NPHIES">\n            <div class="header-content">\n              <h1 class="modal-title">','</h1>\n            </div>\n            <button class="close-button" @click="','">\n              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                <path d="M18 6L6 18M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"/>\n              </svg>\n            </button>\n          </div>\n          \n          <div class="modal-tabs">\n            <button \n              class="modal-tab ','"\n              @click="','">\n              <svg class="modal-tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                <path d="M4 6h16M4 10h16M4 14h16M4 18h16" stroke-width="2" stroke-linecap="round"/>\n              </svg>\n              Prior Authorizations\n            </button>\n            ','\n          </div>\n          \n          <div class="modal-body">\n            <div class="tab-content ','">\n              <prior-auth-grid\n                @view-claim="','"\n              ></prior-auth-grid>\n            </div>\n            \n            ','\n          </div>\n          \n          <div class="modal-footer">\n            <button class="button button-secondary" @click="','">Close</button>\n          </div>\n        </div>\n      </div>\n    '])),this.handleBackdropClick,ks,this.title,this.close,"list"===this.activeTab?"active":"",(function(){return e.switchTab("list")}),this.selectedAuth?U(Cs||(Cs=Ls(['\n              <button \n                class="modal-tab ','"\n                @click="','">\n                <svg class="modal-tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                  <path d="M9 17h6m-6-4h6m-6-4h6M5 21h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z" stroke-width="2" stroke-linecap="round"/>\n                </svg>\n                Claim Details\n              </button>\n            '])),"claim"===this.activeTab?"active":"",(function(){return e.switchTab("claim")})):"","list"===this.activeTab?"active":"",(function(n){return e.handleViewClaim(n.detail)}),this.selectedAuth?U(As||(As=Ls(['\n              <div class="tab-content ','">\n                <prior-auth-grid\n                  .selectedClaimView="','"\n                ></prior-auth-grid>\n              </div>\n            '])),"claim"===this.activeTab?"active":"",this.selectedAuth):"",this.close):null}}],[{key:"properties",get:function(){return{isOpen:{type:Boolean},title:{type:String},activeTab:{type:String},selectedAuth:{type:Object}}}},{key:"styles",get:function(){return _s}}])}(se);customElements.get("prior-auth-grid-modal")||customElements.define("prior-auth-grid-modal",Fs);var Ms,zs,Bs,Us,Vs,qs,Hs,Gs,$s,Ys,Js,Ws,Qs,Ks,Xs,Zs,ec,nc,tc,rc,ic,oc,ac,sc,cc,lc,dc,uc,pc,hc,fc,mc,vc,gc,yc,bc,wc,xc,Sc,kc,Ec,Pc,Oc,Cc,Ac,Tc,Dc,Ic,jc,Nc,Lc,Rc,_c,Fc,Mc,zc,Bc,Uc,Vc,qc,Hc,Gc,$c,Yc,Jc,Wc,Qc,Kc,Xc,Zc,el,nl,tl,rl,il,ol,al,sl,cl,ll,dl,ul,pl,hl,fl,ml,vl=c(Rs||(Ws=["\n    :host {\n        --primary: #8500d8;\n        --primary-light: #a64ced;\n        --primary-dark: #6a00ad;\n        --success: #10B981;\n        --warning: #F59E0B;\n        --error: #EF4444;\n        --gray-50: #F9FAFB;\n        --gray-100: #F3F4F6;\n        --gray-200: #E5E7EB;\n        --gray-300: #D1D5DB;\n        --gray-400: #9CA3AF;\n        --gray-500: #6B7280;\n        --gray-600: #4B5563;\n        --gray-700: #374151;\n        --gray-800: #1F2937;\n        --gray-900: #111827;\n    }\n\n    /* Enhanced Form Controls */\n    .form-section {\n        margin-bottom: 2rem;\n        background: white;\n        border-radius: 12px;\n        padding: 1.5rem;\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n    }\n\n    .section-title {\n        color: var(--gray-900);\n        font-size: 1.25rem;\n        font-weight: 600;\n        margin-bottom: 1.5rem;\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n    }\n\n    .section-title::before {\n        content: '';\n        display: block;\n        width: 4px;\n        height: 24px;\n        background: var(--primary);\n        border-radius: 2px;\n    }\n\n    .form-group {\n        margin-bottom: 1.25rem;\n    }\n\n    .form-label {\n        color: var(--gray-700);\n        font-size: 0.875rem;\n        font-weight: 500;\n        margin-bottom: 0.5rem;\n        display: block;\n    }\n\n    .form-control {\n        background-color: var(--gray-50);\n        border: 1px solid var(--gray-200);\n        border-radius: 8px;\n        color: var(--gray-900);\n        font-size: 0.875rem;\n        line-height: 1.5;\n        padding: 0.625rem 1rem;\n        transition: all 0.2s ease;\n        width: 100%;\n    }\n\n    .form-control:focus {\n        background-color: white;\n        border-color: var(--primary);\n        box-shadow: 0 0 0 3px rgba(133, 0, 216, 0.1);\n        outline: none;\n    }\n\n    .form-control:read-only {\n        background-color: var(--gray-100);\n        border-color: var(--gray-200);\n        color: var(--gray-700);\n        cursor: not-allowed;\n    }\n\n    /* Enhanced Search Controls */\n    .search-container {\n        position: relative;\n    }\n\n    .search-input-wrapper {\n        position: relative;\n        display: flex;\n        align-items: center;\n    }\n\n    .search-icon {\n        position: absolute;\n        left: 12px;\n        color: var(--gray-400);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        pointer-events: none;\n    }\n\n    .search-input {\n        padding-left: 40px;\n        padding-right: 40px;\n    }\n\n    .loader-container {\n        position: absolute;\n        right: 12px;\n        top: 50%;\n        transform: translateY(-50%);\n        display: flex;\n        align-items: center;\n    }\n\n    .search-loader {\n        width: 20px;\n        height: 20px;\n        border: 2px solid var(--gray-200);\n        border-top-color: var(--primary);\n        border-radius: 50%;\n        animation: spin 0.8s linear infinite;\n    }\n\n    .search-results {\n        position: absolute;\n        top: 100%;\n        left: 0;\n        right: 0;\n        background: white;\n        border: 1px solid var(--gray-200);\n        border-radius: 8px;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n        margin-top: 4px;\n        max-height: 400px;\n        overflow-y: auto;\n        z-index: 1000;\n    }\n\n    .search-result-item {\n        padding: 12px 16px;\n        border-bottom: 1px solid var(--gray-100);\n        cursor: pointer;\n        transition: all 0.2s ease;\n    }\n\n    .search-result-item:hover {\n        background-color: var(--gray-50);\n    }\n\n    .search-result-item:last-child {\n        border-bottom: none;\n    }\n\n    /* Healthcare Specific Styles */\n    .healthcare-icon {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        width: 20px;\n        height: 20px;\n        color: var(--gray-400);\n    }\n\n    .badge {\n        display: inline-flex;\n        align-items: center;\n        padding: 0.25rem 0.75rem;\n        border-radius: 9999px;\n        font-size: 0.75rem;\n        font-weight: 500;\n        text-transform: uppercase;\n    }\n\n    .badge-success {\n        background-color: var(--success);\n        color: white;\n    }\n\n    .badge-warning {\n        background-color: var(--warning);\n        color: white;\n    }\n\n    .badge-error {\n        background-color: var(--error);\n        color: white;\n    }\n\n    /* Grid Layouts */\n    .details-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 1rem;\n        margin-top: 1rem;\n    }\n\n    /* Form Control with Icons */\n    .form-control-group {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n    }\n\n    .form-control-icon {\n        position: absolute;\n        left: 12px;\n        top: 50%;\n        transform: translateY(-50%);\n        width: 20px;\n        height: 20px;\n        color: var(--gray-400);\n    }\n\n    .form-control-icon svg {\n        width: 100%;\n        height: 100%;\n    }\n\n    .form-control-with-icon {\n        padding-left: 40px !important;\n    }\n\n    /* Buttons */\n    .button {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        padding: 0.5rem 1rem;\n        border-radius: 6px;\n        font-size: 0.875rem;\n        font-weight: 500;\n        transition: all 0.2s ease;\n        cursor: pointer;\n        border: none;\n        gap: 0.5rem;\n    }\n\n    .button-primary {\n        background-color: var(--primary);\n        color: white;\n    }\n\n    .button-primary:hover {\n        background-color: var(--primary-dark);\n    }\n\n    .button-secondary {\n        background-color: var(--gray-100);\n        color: var(--gray-700);\n    }\n\n    .button-secondary:hover {\n        background-color: var(--gray-200);\n    }\n\n    /* Loading States */\n    @keyframes spin {\n        to { transform: rotate(360deg); }\n    }\n\n    .loading-indicator {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 2rem;\n        color: var(--gray-600);\n    }\n\n    .loader {\n        width: 24px;\n        height: 24px;\n        border: 2px solid var(--gray-200);\n        border-top-color: var(--primary);\n        border-radius: 50%;\n        animation: spin 0.8s linear infinite;\n        margin-right: 1rem;\n    }\n\n    /* Empty States */\n    .empty-state {\n        text-align: center;\n        padding: 2rem;\n        color: var(--gray-500);\n    }\n\n    .empty-state-icon {\n        font-size: 2rem;\n        margin-bottom: 1rem;\n    }\n\n    .empty-state-text {\n        font-size: 0.875rem;\n        margin-bottom: 0.5rem;\n    }\n\n    .empty-state-subtext {\n        font-size: 0.75rem;\n        color: var(--gray-400);\n    }\n"],Qs||(Qs=Ws.slice(0)),Rs=Object.freeze(Object.defineProperties(Ws,{raw:{value:Object.freeze(Qs)}}))));function gl(e){return gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(e)}function yl(){yl=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==gl(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(gl(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function bl(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function wl(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function xl(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sl(r.key),r)}}function Sl(e){var n=function(e){if("object"!=gl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=gl(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gl(n)?n:n+""}function kl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kl=function(){return!!e})()}function El(e){return El=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},El(e)}function Pl(e,n){return Pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},Pl(e,n)}function Ol(e){return Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(e)}function Cl(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Al(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Cl(Object(t),!0).forEach((function(n){Tl(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cl(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Tl(e,n,t){return(n=Rl(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Dl(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function Il(){Il=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Ol(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(Ol(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function jl(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function Nl(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Ll(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rl(r.key),r)}}function Rl(e){var n=function(e){if("object"!=Ol(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Ol(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ol(n)?n:n+""}function _l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_l=function(){return!!e})()}function Fl(e){return Fl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fl(e)}function Ml(e,n){return Ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},Ml(e,n)}function zl(e){return zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(e)}function Bl(){Bl=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==zl(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(zl(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function Ul(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function Vl(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function ql(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hl(r.key),r)}}function Hl(e){var n=function(e){if("object"!=zl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=zl(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zl(n)?n:n+""}function Gl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gl=function(){return!!e})()}function $l(e){return $l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$l(e)}function Yl(e,n){return Yl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},Yl(e,n)}function Jl(e){return Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(e)}function Wl(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Ql(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kl(r.key),r)}}function Kl(e){var n=function(e){if("object"!=Jl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Jl(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jl(n)?n:n+""}function Xl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xl=function(){return!!e})()}function Zl(e){return Zl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zl(e)}function ed(e,n){return ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},ed(e,n)}function nd(e){return nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(e)}function td(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function rd(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?td(Object(t),!0).forEach((function(n){id(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):td(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function id(e,n,t){return(n=dd(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function od(){od=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==nd(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(nd(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function ad(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function sd(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){ad(o,r,i,a,s,"next",e)}function s(e){ad(o,r,i,a,s,"throw",e)}a(void 0)}))}}function cd(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function ld(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dd(r.key),r)}}function dd(e){var n=function(e){if("object"!=nd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=nd(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nd(n)?n:n+""}function ud(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ud=function(){return!!e})()}function pd(e){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pd(e)}function hd(e,n){return hd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},hd(e,n)}function fd(e){return fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(e)}function md(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function vd(){vd=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==fd(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(fd(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function gd(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function yd(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){gd(o,r,i,a,s,"next",e)}function s(e){gd(o,r,i,a,s,"throw",e)}a(void 0)}))}}function bd(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wd(r.key),r)}}function wd(e){var n=function(e){if("object"!=fd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=fd(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fd(n)?n:n+""}function xd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xd=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sd(e)}function kd(e,n){return kd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},kd(e,n)}function Ed(e){return Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(e)}function Pd(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Od(r.key),r)}}function Od(e){var n=function(e){if("object"!=Ed(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Ed(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ed(n)?n:n+""}En("medication-section")((Ms=function(e){function n(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,n,t){return n=El(n),function(e,n){if(n&&("object"==gl(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kl()?Reflect.construct(n,t||[],El(e).constructor):n.apply(e,t))}(this,n)).medications=[],e.medicationSearchResults=[],e.showMedicationResults=!1,e.isLoadingMedications=!1,e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Pl(e,n)}(n,e),function(e,n,t){return n&&xl(e.prototype,n),t&&xl(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"render",value:function(){var e=this;return U(zs||(zs=wl(['\n            <div class="form-section">\n                <div class="search-section">\n                    <div class="form-group">\n                        <label class="form-label">Search Medication</label>\n                        <div class="search-container">\n                            <input \n                                type="text" \n                                class="form-control" \n                                placeholder="Search by medication code or name..."\n                                @input=',"\n                                @focus=","\n                                @blur=","\n                            >\n                            ","\n                        </div>\n                    </div>\n                </div>\n\n                ","\n            </div>\n        "])),this.handleMedicationSearch,(function(){return e.showMedicationResults=!0}),(function(){return setTimeout((function(){return e.showMedicationResults=!1}),200)}),this.renderSearchResults(),this.renderMedicationTable())}},{key:"renderSearchResults",value:function(){var e,n=this;return this.showMedicationResults?U(Bs||(Bs=wl(['\n            <div class="search-results">\n                ',"\n            </div>\n        "])),this.isLoadingMedications?U(Us||(Us=wl(['\n                    <div class="search-status">Searching...</div>\n                ']))):(null===(e=this.medicationSearchResults)||void 0===e?void 0:e.length)>0?U(Vs||(Vs=wl(["\n                    ","\n                "])),this.medicationSearchResults.map((function(e){var t;return U(qs||(qs=wl(['\n                        <div class="search-result-item" @click=','>\n                            <div class="patient-name">','</div>\n                            <div class="patient-info">\n                                <span class="highlight">Code: ',"</span> | \n                                Price: SAR ",'\n                            </div>\n                            <div class="search-info">\n                                Facility: ',"\n                            </div>\n                        </div>\n                    "])),(function(){return n.selectMedication(e)}),e.description,e.serviceName,(null===(t=e.standardCharges)||void 0===t?void 0:t.toFixed(2))||"0.00",e.facilityName||"N/A")}))):U(Hs||(Hs=wl(['\n                    <div class="search-status">No medications found</div>\n                '])))):""}},{key:"renderMedicationTable",value:function(){var e=this;return Array.isArray(this.medications)&&0!==this.medications.length?U($s||($s=wl(['\n            <table class="medication-table">\n                <thead>\n                    <tr>\n                        <th>Med Code</th>\n                        <th>Name</th>\n                        <th>Status</th>\n                        <th>Intent</th>\n                        <th>Dosage</th>\n                        <th>Route</th>\n                        <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    ',"\n                </tbody>\n            </table>\n        "])),this.medications.map((function(n){return U(Ys||(Ys=wl(['\n                        <tr>\n                            <td>\n                                <span class="highlight">',"</span>\n                            </td>\n                            <td>",'</td>\n                            <td>\n                                <select class="form-control" \n                                        .value=',"\n                                        @change=",'>\n                                    <option value="active">Active</option>\n                                    <option value="completed">Completed</option>\n                                    <option value="stopped">Stopped</option>\n                                </select>\n                            </td>\n                            <td>\n                                <select class="form-control"\n                                        .value=',"\n                                        @change=",'>\n                                    <option value="proposal">Proposal</option>\n                                    <option value="plan">Plan</option>\n                                    <option value="order">Order</option>\n                                </select>\n                            </td>\n                            <td>\n                                <input type="text" \n                                       class="form-control"\n                                       .value=',"\n                                       @change=",'\n                                       placeholder="Enter dosage"\n                                >\n                            </td>\n                            <td>\n                                <select class="form-control"\n                                        .value=',"\n                                        @change=",'>\n                                    <option value="oral">Oral</option>\n                                    <option value="intravenous">Intravenous</option>\n                                    <option value="intramuscular">Intramuscular</option>\n                                    <option value="subcutaneous">Subcutaneous</option>\n                                </select>\n                            </td>\n                            <td class="actions-cell">\n                                <button class="button button-secondary" \n                                        @click=',">\n                                    Remove\n                                </button>\n                            </td>\n                        </tr>\n                    "])),n.code,n.name,n.status,(function(t){return e.updateMedication(n,"status",t.target.value)}),n.intent,(function(t){return e.updateMedication(n,"intent",t.target.value)}),n.dosage,(function(t){return e.updateMedication(n,"dosage",t.target.value)}),n.route,(function(t){return e.updateMedication(n,"route",t.target.value)}),(function(){return e.removeMedication(n)}))}))):U(Gs||(Gs=wl(['\n                <div class="empty-state">\n                    <p>No medications added yet. Use the search above to add medications.</p>\n                </div>\n            '])))}},{key:"handleMedicationSearch",value:(t=function(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){bl(o,r,i,a,s,"next",e)}function s(e){bl(o,r,i,a,s,"throw",e)}a(void 0)}))}}(yl().mark((function e(n){var t,r,i;return yl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.target.value.trim().toUpperCase()).length<2)){e.next=5;break}return this.medicationSearchResults=[],this.showMedicationResults=!1,e.abrupt("return");case 5:return this.isLoadingMedications=!0,this.showMedicationResults=!0,e.prev=7,e.next=10,fetch("".concat(Dn.MASTER_PRICE_SERVICE_DIRECTORY.AUTOCOMPLETE_SERVICES,"?searchTerm=").concat(encodeURIComponent(t),"&serviceTypeId=7"));case 10:if((r=e.sent).ok){e.next=13;break}throw new Error("Failed to fetch medications");case 13:return e.next=15,r.json();case 15:"success"===(i=e.sent).messageType&&Array.isArray(i.dynamicResult)?this.medicationSearchResults=i.dynamicResult:(this.medicationSearchResults=[],console.error("No results in medication search response")),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(7),console.error("Error searching medications:",e.t0),this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:"Error searching medications",type:"error"},bubbles:!0,composed:!0})),this.medicationSearchResults=[];case 24:return e.prev=24,this.isLoadingMedications=!1,e.finish(24);case 27:case"end":return e.stop()}}),e,this,[[7,19,24,27]])}))),function(e){return t.apply(this,arguments)})},{key:"selectMedication",value:function(e){var n={id:e.id,code:e.serviceName,name:e.description,status:"active",intent:"proposal",dosage:this.extractDosageFromDescription(e.description),route:"oral",price:e.standardCharges,facility:e.facilityName};this.dispatchEvent(new CustomEvent("medication-selected",{detail:n,bubbles:!0,composed:!0})),this.showMedicationResults=!1,this.medicationSearchResults=[]}},{key:"extractDosageFromDescription",value:function(e){var n=e.match(/\d+(\.\d+)?(\s*)(MG|MCG|G|ML)/i);return n?n[0]:""}},{key:"updateMedication",value:function(e,n,t){this.dispatchEvent(new CustomEvent("medication-updated",{detail:{medication:e,field:n,value:t},bubbles:!0,composed:!0}))}},{key:"removeMedication",value:function(e){this.dispatchEvent(new CustomEvent("medication-removed",{detail:e,bubbles:!0,composed:!0}))}}],[{key:"properties",get:function(){return{medications:{type:Array},medicationSearchResults:{type:Array,state:!0},showMedicationResults:{type:Boolean,state:!0},isLoadingMedications:{type:Boolean,state:!0}}}}]);var t}(se),Ms.styles=[vl,c(Js||(Js=wl(["\n            :host {\n                display: block;\n            }\n\n            .medication-table {\n                width: 100%;\n                border-collapse: collapse;\n                margin-top: 1rem;\n                background: white;\n                border-radius: 8px;\n                overflow: hidden;\n                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n            }\n\n            .medication-table th {\n                background: var(--gray-50);\n                padding: 1rem;\n                text-align: left;\n                font-weight: 500;\n                color: var(--gray-700);\n                border-bottom: 1px solid var(--gray-200);\n            }\n\n            .medication-table td {\n                padding: 1rem;\n                border-bottom: 1px solid var(--gray-100);\n                vertical-align: middle;\n            }\n\n            .medication-table tr:last-child td {\n                border-bottom: none;\n            }\n\n            .medication-table .form-control {\n                width: 100%;\n                min-width: 120px;\n            }\n\n            .medication-table .actions-cell {\n                text-align: right;\n                white-space: nowrap;\n            }\n\n            .highlight {\n                font-family: monospace;\n                padding: 0.25rem 0.5rem;\n                background: var(--gray-50);\n                border-radius: 4px;\n                color: var(--primary);\n            }\n\n            .empty-state {\n                text-align: center;\n                padding: 2rem;\n                background: white;\n                border-radius: 8px;\n                border: 2px dashed var(--gray-200);\n                color: var(--gray-500);\n                margin-top: 1rem;\n            }\n        "])))],Ms)),En("diagnosis-section")(function(e){function n(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,n,t){return n=Fl(n),function(e,n){if(n&&("object"==Ol(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_l()?Reflect.construct(n,t||[],Fl(e).constructor):n.apply(e,t))}(this,n)).diagnoses=[],e.diagnosisSearchResults=[],e.showDiagnosisResults=!1,e.isLoadingDiagnosis=!1,e.addEventListener("diagnosis-selected",(function(){return e.requestUpdate()})),e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Ml(e,n)}(n,e),function(e,n,t){return n&&Ll(e.prototype,n),t&&Ll(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"updated",value:function(e){e.has("diagnoses")&&console.log("Diagnoses updated:",this.diagnoses)}},{key:"render",value:function(){var e=this;return console.log("Rendering DiagnosisSection, diagnoses:",this.diagnoses),U(Ks||(Ks=Nl(['\n            <div class="form-section">\n                <div class="search-section">\n                    <div class="form-group">\n                        <label class="form-label">Search Diagnosis</label>\n                        <div class="search-container">\n                            <input \n                                type="text" \n                                class="form-control" \n                                placeholder="Search by ICD code or description (minimum 3 characters)..."\n                                @input=',"\n                                @focus=","\n                                @blur=","\n                            >\n                            ","\n                        </div>\n                    </div>\n                </div>\n\n                ","\n            </div>\n        "])),this.handleDiagnosisSearch,(function(){return e.showDiagnosisResults=!0}),(function(){return setTimeout((function(){return e.showDiagnosisResults=!1}),200)}),this.renderSearchResults(),this.renderDiagnosisGrid())}},{key:"renderSearchResults",value:function(){var e,n=this;return this.showDiagnosisResults?U(Xs||(Xs=Nl(['\n            <div class="search-results">\n                ',"\n            </div>\n        "])),this.isLoadingDiagnosis?U(Zs||(Zs=Nl(['\n                    <div class="search-status">Searching...</div>\n                ']))):(null===(e=this.diagnosisSearchResults)||void 0===e?void 0:e.length)>0?U(ec||(ec=Nl(["\n                    ","\n                "])),this.diagnosisSearchResults.map((function(e){return U(nc||(nc=Nl(['\n                        <div class="search-result-item" @click=','>\n                            <div class="patient-name">','</div>\n                            <div class="patient-info">\n                                <span class="highlight">ICD-',": ","</span>\n                                ",'\n                            </div>\n                            <div class="search-info">\n                                ',"\n                            </div>\n                        </div>\n                    "])),(function(){return n.selectDiagnosis(e)}),e.shortDescription,1===e.icdtype?"9":"10",e.code,e.preAuthReq?U(tc||(tc=Nl(['\n                                    <span class="badge badge-warning">Prior Auth Required</span>\n                                ']))):U(rc||(rc=Nl(['\n                                    <span class="badge badge-success">No Auth Required</span>\n                                ']))),e.description!==e.shortDescription?e.description:"")}))):U(ic||(ic=Nl(['\n                    <div class="search-status">No diagnoses found</div>\n                '])))):""}},{key:"renderDiagnosisGrid",value:function(){var e=this;return console.log("Rendering diagnosis grid with:",this.diagnoses),Array.isArray(this.diagnoses)&&0!==this.diagnoses.length?U(ac||(ac=Nl(['\n            <table class="diagnosis-table">\n                <thead>\n                    <tr>\n                        <th>ICD Code</th>\n                        <th>Description</th>\n                        <th>Type</th>\n                        <th>Present On Admission</th>\n                        <th>Auth Required</th>\n                        <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    ',"\n                </tbody>\n            </table>\n        "])),this.diagnoses.map((function(n){return U(sc||(sc=Nl(['\n                        <tr>\n                            <td>\n                                <span class="highlight">ICD-',": ","</span>\n                            </td>\n                            <td>",'</td>\n                            <td>\n                                <select class="form-control"\n                                        .value=',"\n                                        ?disabled=","\n                                        @change=",'>\n                                    <option value="principal">Principal</option>\n                                    <option value="secondary">Secondary</option>\n                                    <option value="admitting">Admitting</option>\n                                </select>\n                            </td>\n                            <td class="checkbox-cell">\n                                <input \n                                    type="checkbox" \n                                    ?checked=',"\n                                    @change=",'\n                                >\n                            </td>\n                            <td>\n                                <span class="badge ','">\n                                    ','\n                                </span>\n                            </td>\n                            <td class="actions-cell">\n                                <button class="button button-secondary" \n                                        ?disabled=',"\n                                        @click=",">\n                                    Remove\n                                </button>\n                            </td>\n                        </tr>\n                    "])),1===n.icdtype?"9":"10",n.code,n.description,n.type||"secondary","principal"===n.type&&e.diagnoses.length>1,(function(t){return e.updateDiagnosis(n,"type",t.target.value)}),n.presentOnAdmission,(function(t){return e.updateDiagnosis(n,"presentOnAdmission",t.target.checked)}),n.preAuthReq?"badge-warning":"badge-success",n.preAuthReq?"Required":"Not Required","principal"===n.type&&e.diagnoses.length>1,(function(){return e.removeDiagnosis(n)}))}))):U(oc||(oc=Nl(['\n                <div class="empty-state">\n                    <p>No diagnoses added yet. Use the search above to add diagnoses.</p>\n                </div>\n            '])))}},{key:"handleDiagnosisSearch",value:(t=function(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){jl(o,r,i,a,s,"next",e)}function s(e){jl(o,r,i,a,s,"throw",e)}a(void 0)}))}}(Il().mark((function e(n){var t,r,i;return Il().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.target.value.trim()).length<3)){e.next=5;break}return this.diagnosisSearchResults=[],this.showDiagnosisResults=!1,e.abrupt("return");case 5:return this.isLoadingDiagnosis=!0,this.showDiagnosisResults=!0,e.prev=7,e.next=10,fetch("".concat(Dn.DIAGNOSIS.SEARCH_ICDS,"/").concat(encodeURIComponent(t)),{method:"GET",headers:{"Content-Type":"application/json"}});case 10:if((r=e.sent).ok){e.next=13;break}throw new Error("Failed to fetch diagnoses");case 13:return e.next=15,r.json();case 15:"success"===(i=e.sent).messageType&&Array.isArray(i.dynamicResult)?this.diagnosisSearchResults=i.dynamicResult.map((function(e){return{id:e.id,code:e.icdcode,shortDescription:e.shortDescription,description:e.description,preAuthReq:1===e.preAuthReq,icdtype:e.icdtype}})):(this.diagnosisSearchResults=[],console.error("No results in diagnosis search response")),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(7),console.error("Error searching diagnoses:",e.t0),this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:"Error searching diagnoses",type:"error"},bubbles:!0,composed:!0})),this.diagnosisSearchResults=[];case 24:return e.prev=24,this.isLoadingDiagnosis=!1,e.finish(24);case 27:case"end":return e.stop()}}),e,this,[[7,19,24,27]])}))),function(e){return t.apply(this,arguments)})},{key:"selectDiagnosis",value:function(e){console.log("Selecting diagnosis:",e);var n=this.diagnoses.some((function(n){return n.code===e.code}));if(n)this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:"This diagnosis has already been added",type:"warning"},bubbles:!0,composed:!0}));else{var t={id:e.id,code:e.code,description:e.shortDescription||e.description,shortDescription:e.shortDescription,type:0===this.diagnoses.length?"principal":"secondary",presentOnAdmission:!1,preAuthReq:e.preAuthReq,icdtype:e.icdtype,sequence:this.diagnoses.length+1};this.diagnoses=[].concat(function(e){return function(e){if(Array.isArray(e))return Dl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return Dl(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Dl(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.diagnoses),[t]),this.dispatchEvent(new CustomEvent("diagnosis-selected",{detail:t,bubbles:!0,composed:!0})),this.showDiagnosisResults=!1,this.diagnosisSearchResults=[],this.requestUpdate()}}},{key:"updateDiagnosis",value:function(e,n,t){this.diagnoses=this.diagnoses.map((function(r){return r.id===e.id?Al(Al({},r),{},Tl({},n,t)):r})),this.dispatchEvent(new CustomEvent("diagnosis-updated",{detail:{diagnosis:e,field:n,value:t},bubbles:!0,composed:!0})),this.requestUpdate()}},{key:"removeDiagnosis",value:function(e){this.diagnoses=this.diagnoses.filter((function(n){return n.id!==e.id})),this.dispatchEvent(new CustomEvent("diagnosis-removed",{detail:e,bubbles:!0,composed:!0})),this.requestUpdate()}}],[{key:"styles",get:function(){return[vl,c(cc||(cc=Nl(["\n                :host {\n                    display: block;\n                }\n\n                .diagnosis-grid {\n                    display: grid;\n                    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n                    gap: 1.5rem;\n                    margin-top: 1rem;\n                }\n\n                .diagnosis-card {\n                    background: white;\n                    border: 1px solid var(--gray-200);\n                    border-radius: 12px;\n                    padding: 1.25rem;\n                    transition: all 0.2s ease;\n                    position: relative;\n                }\n\n                .diagnosis-card:hover {\n                    border-color: var(--primary-light);\n                    box-shadow: 0 2px 4px rgba(133, 0, 216, 0.1);\n                }\n\n                .diagnosis-header {\n                    display: flex;\n                    align-items: center;\n                    gap: 1rem;\n                    margin-bottom: 1rem;\n                }\n\n                .diagnosis-icon {\n                    width: 40px;\n                    height: 40px;\n                    color: var(--primary);\n                    padding: 8px;\n                    background: var(--gray-50);\n                    border-radius: 10px;\n                }\n\n                .diagnosis-info {\n                    flex: 1;\n                }\n\n                .diagnosis-title {\n                    color: var(--gray-900);\n                    font-weight: 500;\n                    margin-bottom: 0.25rem;\n                }\n\n                .diagnosis-code {\n                    color: var(--primary);\n                    font-family: monospace;\n                    font-size: 0.875rem;\n                    background: var(--gray-50);\n                    padding: 0.25rem 0.5rem;\n                    border-radius: 4px;\n                    display: inline-block;\n                }\n\n                .diagnosis-meta {\n                    display: flex;\n                    flex-wrap: wrap;\n                    gap: 1rem;\n                    margin-top: 1rem;\n                    padding-top: 1rem;\n                    border-top: 1px solid var(--gray-100);\n                }\n\n                .meta-item {\n                    display: flex;\n                    align-items: center;\n                    gap: 0.5rem;\n                    color: var(--gray-600);\n                    font-size: 0.875rem;\n                }\n\n                .meta-icon {\n                    width: 16px;\n                    height: 16px;\n                    color: var(--gray-400);\n                }\n\n                .diagnosis-actions {\n                    position: absolute;\n                    top: 1rem;\n                    right: 1rem;\n                    display: flex;\n                    gap: 0.5rem;\n                }\n\n                .action-button {\n                    background: var(--gray-50);\n                    border: none;\n                    border-radius: 8px;\n                    color: var(--gray-700);\n                    cursor: pointer;\n                    padding: 0.5rem;\n                    transition: all 0.2s ease;\n                }\n\n                .action-button:hover {\n                    background: var(--gray-100);\n                    color: var(--gray-900);\n                }\n\n                .action-icon {\n                    width: 20px;\n                    height: 20px;\n                }\n\n                .add-diagnosis {\n                    border: 2px dashed var(--gray-200);\n                    border-radius: 12px;\n                    padding: 2rem;\n                    text-align: center;\n                    transition: all 0.2s ease;\n                    background: var(--gray-50);\n                    cursor: pointer;\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n                    justify-content: center;\n                    gap: 1rem;\n                }\n\n                .add-diagnosis:hover {\n                    border-color: var(--primary);\n                    background: white;\n                }\n\n                .add-icon {\n                    width: 48px;\n                    height: 48px;\n                    color: var(--primary);\n                }\n\n                .add-text {\n                    color: var(--gray-700);\n                    font-size: 1rem;\n                }\n\n                .badge {\n                    padding: 0.25rem 0.75rem;\n                    border-radius: 9999px;\n                    font-size: 0.75rem;\n                    font-weight: 500;\n                    text-transform: uppercase;\n                }\n\n                .badge-primary {\n                    background-color: var(--primary-light);\n                    color: white;\n                }\n\n                .badge-secondary {\n                    background-color: var(--gray-100);\n                    color: var(--gray-700);\n                }\n\n                .search-results {\n                    position: absolute;\n                    top: 100%;\n                    left: 0;\n                    right: 0;\n                    background: white;\n                    border: 1px solid var(--gray-200);\n                    border-radius: 8px;\n                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n                    margin-top: 4px;\n                    max-height: 300px;\n                    overflow-y: auto;\n                    z-index: 1000;\n                }\n\n                .search-result-item {\n                    padding: 0.75rem 1rem;\n                    cursor: pointer;\n                    border-bottom: 1px solid var(--gray-100);\n                    transition: all 0.2s ease;\n                }\n\n                .search-result-item:hover {\n                    background: var(--gray-50);\n                }\n\n                .search-result-item:last-child {\n                    border-bottom: none;\n                }\n\n                .result-code {\n                    color: var(--primary);\n                    font-family: monospace;\n                    margin-right: 0.5rem;\n                }\n\n                .result-description {\n                    color: var(--gray-700);\n                }\n\n                .diagnosis-table {\n                    width: 100%;\n                    border-collapse: collapse;\n                    margin-top: 1rem;\n                    background: white;\n                    border-radius: 8px;\n                    overflow: hidden;\n                    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n                }\n\n                .diagnosis-table th {\n                    background: var(--gray-50);\n                    padding: 1rem;\n                    text-align: left;\n                    font-weight: 500;\n                    color: var(--gray-700);\n                    border-bottom: 1px solid var(--gray-200);\n                }\n\n                .diagnosis-table td {\n                    padding: 1rem;\n                    border-bottom: 1px solid var(--gray-100);\n                    vertical-align: middle;\n                }\n\n                .diagnosis-table tr:last-child td {\n                    border-bottom: none;\n                }\n\n                .diagnosis-table .form-control {\n                    width: 100%;\n                    min-width: 120px;\n                }\n\n                .diagnosis-table .checkbox-cell {\n                    text-align: center;\n                }\n\n                .diagnosis-table .actions-cell {\n                    text-align: right;\n                    white-space: nowrap;\n                }\n\n                .highlight {\n                    font-family: monospace;\n                    padding: 0.25rem 0.5rem;\n                    background: var(--gray-50);\n                    border-radius: 4px;\n                    color: var(--primary);\n                }\n\n                .badge {\n                    display: inline-block;\n                    padding: 0.25rem 0.75rem;\n                    border-radius: 9999px;\n                    font-size: 0.75rem;\n                    font-weight: 500;\n                    text-align: center;\n                }\n\n                .badge-warning {\n                    background-color: var(--warning-light);\n                    color: var(--warning-dark);\n                }\n\n                .badge-success {\n                    background-color: var(--success-light);\n                    color: var(--success-dark);\n                }\n\n                .empty-state {\n                    text-align: center;\n                    padding: 2rem;\n                    background: white;\n                    border-radius: 8px;\n                    border: 2px dashed var(--gray-200);\n                    color: var(--gray-500);\n                    margin-top: 1rem;\n                }\n            "])))]}},{key:"properties",get:function(){return{diagnoses:{type:Array},diagnosisSearchResults:{type:Array,state:!0},showDiagnosisResults:{type:Boolean,state:!0},isLoadingDiagnosis:{type:Boolean,state:!0}}}}]);var t}(se)),En("care-team-section")((lc=function(e){function n(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,n,t){return n=$l(n),function(e,n){if(n&&("object"==zl(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gl()?Reflect.construct(n,t||[],$l(e).constructor):n.apply(e,t))}(this,n)).careTeam=[],e.practitionerSearchResults=[],e.showPractitionerResults=!1,e.isLoadingPractitioners=!1,e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Yl(e,n)}(n,e),function(e,n,t){return n&&ql(e.prototype,n),t&&ql(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"render",value:function(){var e=this;return U(dc||(dc=Vl(['\n            <div class="form-section">\n                <div class="search-section">\n                    <div class="form-group">\n                        <label class="form-label">Search Care Team Member</label>\n                        <div class="search-container">\n                            <input \n                                type="text" \n                                class="form-control" \n                                placeholder="Search by provider name or ID..."\n                                @input=',"\n                                @focus=","\n                                @blur=","\n                            >\n                            ","\n                        </div>\n                    </div>\n                </div>\n\n                ","\n            </div>\n        "])),this.handleProviderSearch,(function(){return e.showProviderResults=!0}),(function(){return setTimeout((function(){return e.showProviderResults=!1}),200)}),this.renderSearchResults(),this.renderCareTeamTable())}},{key:"renderSearchResults",value:function(){var e,n=this;return this.showProviderResults?U(uc||(uc=Vl(['\n            <div class="search-results">\n                ',"\n            </div>\n        "])),this.isLoadingProviders?U(pc||(pc=Vl(['\n                    <div class="search-status">Searching...</div>\n                ']))):(null===(e=this.providerSearchResults)||void 0===e?void 0:e.length)>0?U(hc||(hc=Vl(["\n                    ","\n                "])),this.providerSearchResults.map((function(e){return U(fc||(fc=Vl(['\n                        <div class="search-result-item" @click=','>\n                            <div class="patient-name">','</div>\n                            <div class="patient-info">\n                                <span class="highlight">ID: ',"</span> | \n                                Specialty: ",'\n                            </div>\n                            <div class="search-info">\n                                Facility: ',"\n                            </div>\n                        </div>\n                    "])),(function(){return n.selectProvider(e)}),e.name,e.id,e.specialty||"N/A",e.facilityName||"N/A")}))):U(mc||(mc=Vl(['\n                    <div class="search-status">No providers found</div>\n                '])))):""}},{key:"renderCareTeamTable",value:function(){var e=this;return Array.isArray(this.careTeam)&&0!==this.careTeam.length?U(gc||(gc=Vl(['\n            <table class="care-team-table">\n                <thead>\n                    <tr>\n                        <th>Provider ID</th>\n                        <th>Name</th>\n                        <th>Role</th>\n                        <th>Specialty</th>\n                        <th>Facility</th>\n                        <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    ',"\n                </tbody>\n            </table>\n        "])),this.careTeam.map((function(n){return U(yc||(yc=Vl(['\n                        <tr>\n                            <td>\n                                <span class="highlight">',"</span>\n                            </td>\n                            <td>",'</td>\n                            <td>\n                                <select class="form-control" \n                                        .value=',"\n                                        @change=",'>\n                                    <option value="primary">Primary</option>\n                                    <option value="secondary">Secondary</option>\n                                    <option value="consulting">Consulting</option>\n                                </select>\n                            </td>\n                            <td>',"</td>\n                            <td>",'</td>\n                            <td class="actions-cell">\n                                <button class="button button-secondary" \n                                        @click=',">\n                                    Remove\n                                </button>\n                            </td>\n                        </tr>\n                    "])),n.id,n.name,n.role,(function(t){return e.updateProvider(n,"role",t.target.value)}),n.specialty||"N/A",n.facilityName||"N/A",(function(){return e.removeProvider(n)}))}))):U(vc||(vc=Vl(['\n                <div class="empty-state">\n                    <p>No care team members added yet. Use the search above to add providers.</p>\n                </div>\n            '])))}},{key:"handlePractitionerSearch",value:(t=function(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){Ul(o,r,i,a,s,"next",e)}function s(e){Ul(o,r,i,a,s,"throw",e)}a(void 0)}))}}(Bl().mark((function e(n){var t,r,i;return Bl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.target.value.trim()).length<2)){e.next=5;break}return this.practitionerSearchResults=[],this.showPractitionerResults=!1,e.abrupt("return");case 5:return this.isLoadingPractitioners=!0,this.showPractitionerResults=!0,e.prev=7,e.next=10,fetch("".concat(Dn.PRACTITIONER.SEARCH,"?term=").concat(encodeURIComponent(t)));case 10:if((r=e.sent).ok){e.next=13;break}throw new Error("Failed to fetch practitioners");case 13:return e.next=15,r.json();case 15:"success"===(i=e.sent).messageType&&Array.isArray(i.dynamicResult)?this.practitionerSearchResults=i.dynamicResult:(this.practitionerSearchResults=[],console.error("No results in practitioner search response")),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(7),console.error("Error searching practitioners:",e.t0),this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:"Error searching practitioners",type:"error"},bubbles:!0,composed:!0})),this.practitionerSearchResults=[];case 24:return e.prev=24,this.isLoadingPractitioners=!1,e.finish(24);case 27:case"end":return e.stop()}}),e,this,[[7,19,24,27]])}))),function(e){return t.apply(this,arguments)})},{key:"selectPractitioner",value:function(e){var n={id:e.id,identifier:{system:"http://nphies.sa/license/practitioner-license",value:e.licenseNumber},name:{text:e.name,family:e.lastName,given:[e.firstName]},role:{system:"http://terminology.hl7.org/CodeSystem/claimcareteamrole",code:0===this.careTeam.length?"primary":"secondary"},qualification:{system:"http://nphies.sa/terminology/CodeSystem/practice-codes",code:e.specialtyCode,display:e.specialty},contact:{phone:e.phone||"",email:e.email||""}};this.dispatchEvent(new CustomEvent("care-team-member-selected",{detail:n,bubbles:!0,composed:!0})),this.showPractitionerResults=!1,this.practitionerSearchResults=[]}},{key:"updateMember",value:function(e,n,t){this.dispatchEvent(new CustomEvent("care-team-member-updated",{detail:{member:e,path:n,value:t},bubbles:!0,composed:!0}))}},{key:"removeMember",value:function(e){this.dispatchEvent(new CustomEvent("care-team-member-removed",{detail:e,bubbles:!0,composed:!0}))}},{key:"getRoleDisplay",value:function(e){return{primary:"Primary Care Provider",secondary:"Secondary Provider",consulting:"Consulting Provider"}[e]||e}},{key:"getQualificationOptions",value:function(){return[{code:"08.11",display:"Oncology"},{code:"19.08",display:"General Surgery"},{code:"15.02",display:"Cardiology"},{code:"13.01",display:"Internal Medicine"},{code:"19.01",display:"General Practice"}]}}],[{key:"properties",get:function(){return{careTeam:{type:Array},practitionerSearchResults:{type:Array,state:!0},showPractitionerResults:{type:Boolean,state:!0},isLoadingPractitioners:{type:Boolean,state:!0}}}}]);var t}(se),lc.styles=[vl,c(bc||(bc=Vl(["\n            :host {\n                display: block;\n            }\n\n            .care-team-table {\n                width: 100%;\n                border-collapse: collapse;\n                margin-top: 1rem;\n                background: white;\n                border-radius: 8px;\n                overflow: hidden;\n                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n            }\n\n            .care-team-table th {\n                background: var(--gray-50);\n                padding: 1rem;\n                text-align: left;\n                font-weight: 500;\n                color: var(--gray-700);\n                border-bottom: 1px solid var(--gray-200);\n            }\n\n            .care-team-table td {\n                padding: 1rem;\n                border-bottom: 1px solid var(--gray-100);\n                vertical-align: middle;\n            }\n\n            .care-team-table tr:last-child td {\n                border-bottom: none;\n            }\n\n            .care-team-table .form-control {\n                width: 100%;\n                min-width: 120px;\n            }\n\n            .care-team-table .actions-cell {\n                text-align: right;\n                white-space: nowrap;\n            }\n\n            .highlight {\n                font-family: monospace;\n                padding: 0.25rem 0.5rem;\n                background: var(--gray-50);\n                border-radius: 4px;\n                color: var(--primary);\n            }\n\n            .empty-state {\n                text-align: center;\n                padding: 2rem;\n                background: white;\n                border-radius: 8px;\n                border: 2px dashed var(--gray-200);\n                color: var(--gray-500);\n                margin-top: 1rem;\n            }\n        "])))],lc)),En("vitals-section")((wc=function(e){function n(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,n,t){return n=Zl(n),function(e,n){if(n&&("object"==Jl(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xl()?Reflect.construct(n,t||[],Zl(e).constructor):n.apply(e,t))}(this,n)).vitalsData=null,e.visitDate=null,e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&ed(e,n)}(n,e),function(e,n,t){return n&&Ql(e.prototype,n),t&&Ql(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"getVitalsConfig",value:function(){return{height:{icon:"",label:"Height",unit:"cm",normalRange:{min:0,max:300}},weight:{icon:"",label:"Weight",unit:"kg",normalRange:{min:0,max:500}},bmi:{icon:"",label:"BMI",unit:"kg/m",normalRange:{min:18.5,max:24.9}},systolic:{icon:"",label:"Blood Pressure (Systolic)",unit:"mmHg",normalRange:{min:90,max:120}},diastolic:{icon:"",label:"Blood Pressure (Diastolic)",unit:"mmHg",normalRange:{min:60,max:80}},pulseRate:{icon:"",label:"Pulse Rate",unit:"bpm",normalRange:{min:60,max:100}},temperature:{icon:"",label:"Temperature",unit:"C",normalRange:{min:36.1,max:37.2}},spo2:{icon:"",label:"SpO2",unit:"%",normalRange:{min:95,max:100}},respRate:{icon:"",label:"Respiratory Rate",unit:"/min",normalRange:{min:12,max:20}},bloodSugar:{icon:"",label:"Blood Sugar",unit:"mg/dL",normalRange:{min:70,max:140}}}}},{key:"getVitalStatus",value:function(e,n){return e&&0!==e?e<n.min?{class:"status-warning",label:"Low"}:e>n.max?{class:"status-critical",label:"High"}:{class:"status-normal",label:"Normal"}:{class:"",label:"Not Recorded"}}},{key:"formatDate",value:function(e){return e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}},{key:"render",value:function(){var e=this;if(!this.vitalsData)return U(xc||(xc=Wl(['\n                <div class="empty-state">\n                    <p>No vitals data available for this visit.</p>\n                </div>\n            '])));var n=this.getVitalsConfig(),t=Object.keys(n).filter((function(n){return n in e.vitalsData&&"number"==typeof e.vitalsData[n]}));return U(Sc||(Sc=Wl(['\n            <div class="vitals-grid">\n                ',"\n            </div>\n\n            ","\n        "])),t.map((function(t){var r=n[t],i=e.vitalsData[t],o=e.getVitalStatus(i,r.normalRange);return U(kc||(kc=Wl(['\n                        <div class="vital-card">\n                            <div class="vital-header">\n                                <span class="vital-icon">','</span>\n                                <span class="vital-title">','</span>\n                            </div>\n                            <div class="vital-value">\n                                ',"\n                                ",'\n                            </div>\n                            <div class="vital-meta">\n                                <div class="vital-date">\n                                     ','\n                                </div>\n                                <div class="vital-status ','">\n                                     ',"\n                                </div>\n                            </div>\n                        </div>\n                    "])),r.icon,r.label,0===i?"":i,0!==i?U(Ec||(Ec=Wl(['<span class="vital-unit">',"</span>"])),r.unit):"",e.formatDate(e.vitalsData.creationDate),o.class,o.label)})),this.vitalsData.chiefComplaint?U(Pc||(Pc=Wl(['\n                <div class="vital-card" style="margin-top: 1.5rem;">\n                    <div class="vital-header">\n                        <span class="vital-icon"></span>\n                        <span class="vital-title">Chief Complaint</span>\n                    </div>\n                    <div class="vital-value" style="font-size: 1rem;">\n                        ','\n                    </div>\n                    <div class="vital-meta">\n                        <div class="vital-date">\n                             ',"\n                        </div>\n                    </div>\n                </div>\n            "])),this.vitalsData.chiefComplaint,this.formatDate(this.vitalsData.creationDate)):"")}}],[{key:"properties",get:function(){return{vitalsData:{type:Object},visitDate:{type:String}}}}])}(se),wc.styles=[vl,c(Oc||(Oc=Wl(["\n            :host {\n                display: block;\n            }\n\n            .vitals-grid {\n                display: grid;\n                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n                gap: 1.5rem;\n                margin-top: 1rem;\n            }\n\n            .vital-card {\n                background: white;\n                border: 1px solid var(--gray-200);\n                border-radius: 12px;\n                padding: 1.25rem;\n                transition: all 0.2s ease;\n            }\n\n            .vital-card:hover {\n                border-color: var(--primary-light);\n                box-shadow: 0 2px 4px rgba(133, 0, 216, 0.1);\n            }\n\n            .vital-card.selected {\n                border-color: var(--primary);\n                background-color: var(--gray-50);\n            }\n\n            .vital-header {\n                display: flex;\n                align-items: center;\n                gap: 0.75rem;\n                margin-bottom: 1rem;\n            }\n\n            .vital-icon {\n                width: 32px;\n                height: 32px;\n                color: var(--primary);\n                padding: 6px;\n                background: var(--gray-50);\n                border-radius: 8px;\n            }\n\n            .vital-title {\n                color: var(--gray-700);\n                font-size: 0.875rem;\n                font-weight: 500;\n            }\n\n            .vital-value {\n                color: var(--gray-900);\n                font-size: 1.5rem;\n                font-weight: 600;\n                margin-bottom: 0.5rem;\n                display: flex;\n                align-items: baseline;\n                gap: 0.25rem;\n            }\n\n            .vital-unit {\n                color: var(--gray-500);\n                font-size: 0.875rem;\n                font-weight: normal;\n            }\n\n            .vital-meta {\n                color: var(--gray-500);\n                font-size: 0.75rem;\n                display: flex;\n                align-items: center;\n                gap: 0.5rem;\n            }\n\n            .vital-date {\n                display: flex;\n                align-items: center;\n                gap: 0.25rem;\n            }\n\n            .vital-status {\n                display: flex;\n                align-items: center;\n                gap: 0.25rem;\n                font-size: 0.875rem;\n            }\n\n            .status-normal {\n                color: var(--success);\n            }\n\n            .status-warning {\n                color: var(--warning);\n            }\n\n            .status-critical {\n                color: var(--error);\n            }\n\n            .empty-state {\n                text-align: center;\n                padding: 2rem;\n                color: var(--gray-500);\n            }\n        "])))],wc)),En("patient-section")((Cc=function(e){function n(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,n,t){return n=pd(n),function(e,n){if(n&&("object"==nd(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ud()?Reflect.construct(n,t||[],pd(e).constructor):n.apply(e,t))}(this,n)).patient=null,e.familyMembers=[],e.selectedDependent=null,e.hasDependent=!1,e.patientSearchResults=[],e.showPatientResults=!1,e.isLoading=!1,e.isDependentLoading=!1,e.dependentError="",e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&hd(e,n)}(n,e),function(e,n,t){return n&&ld(e.prototype,n),t&&ld(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"render",value:function(){var e,n,t,r,i=this;return U(Ac||(Ac=cd(['\n            <div class="form-section">\n                <div class="search-section">\n                    <div class="form-group">\n                        <label class="form-label">Search Patient</label>\n                        <div class="search-container">\n                            <input \n                                type="text" \n                                class="form-control" \n                                placeholder="Search by patient PIN, name or national ID..."\n                                @input=',"\n                                @focus=","\n                            >\n                            ","\n                        </div>\n                    </div>\n                </div>\n\n                ","\n            </div>\n        "])),this.handlePatientSearch,(function(){return i.showPatientResults=!0}),this.showPatientResults?U(Tc||(Tc=cd(['\n                                <div class="search-results">\n                                    ',"\n                                </div>\n                            "])),this.isLoading?U(Dc||(Dc=cd(['\n                                        <div class="search-status">\n                                            <div class="loader"></div>\n                                            <div class="loading-text">Searching patients...</div>\n                                        </div>\n                                    ']))):this.patientSearchResults&&this.patientSearchResults.length>0?U(Ic||(Ic=cd(["\n                                        ","\n                                    "])),this.patientSearchResults.map((function(e){var n,t,r,o;return U(jc||(jc=cd(['\n                                            <div class="search-result-item" @click=','>\n                                                <div class="result-header">\n                                                    <div class="patient-name">\n                                                        <span class="info-icon"></span>\n                                                        ',"\n                                                    </div>\n                                                    ",'\n                                                </div>\n                                                <div class="patient-info">\n                                                    <div class="info-item">\n                                                        <span class="info-icon"></span>\n                                                        <span>MRN:</span>\n                                                        <strong>','</strong>\n                                                    </div>\n                                                    <div class="info-item">\n                                                        <span class="info-icon"></span>\n                                                        <span>National ID:</span>\n                                                        <strong>',"</strong>\n                                                    </div>\n                                                    ","\n                                                </div>\n                                                ","\n                                            </div>\n                                        "])),(function(){return i.selectPatient(e)}),i.formatPatientName(e),(null===(n=e.patientInsurances)||void 0===n?void 0:n.length)>0?U(Nc||(Nc=cd(['\n                                                        <span class="badge badge-success">\n                                                            <span></span>\n                                                            Insured\n                                                        </span>\n                                                    ']))):U(Lc||(Lc=cd(['\n                                                        <span class="badge badge-warning">\n                                                            <span></span>\n                                                            Self Pay\n                                                        </span>\n                                                    ']))),e.pinNo,e.nic,e.cellPhoneNo?U(Rc||(Rc=cd(['\n                                                        <div class="info-item">\n                                                            <span class="info-icon"></span>\n                                                            <span>Mobile:</span>\n                                                            <strong>',"</strong>\n                                                        </div>\n                                                    "])),e.cellPhoneNo):"",(null===(t=e.patientInsurances)||void 0===t?void 0:t.length)>0?U(_c||(_c=cd(['\n                                                    <div class="insurance-info">\n                                                        <div class="info-item">\n                                                            <span class="info-icon"></span>\n                                                            <span>Insurance:</span>\n                                                            <strong>','</strong>\n                                                        </div>\n                                                        <div class="info-item">\n                                                            <span class="info-icon"></span>\n                                                            <span>Plan:</span>\n                                                            <strong>',"</strong>\n                                                        </div>\n                                                    </div>\n                                                "])),(null===(r=e.patientInsurances[0].payer)||void 0===r?void 0:r.companyName)||"N/A",(null===(o=e.patientInsurances[0].fkPlan)||void 0===o?void 0:o.planName)||"N/A"):"")}))):U(Fc||(Fc=cd(['\n                                        <div class="search-status">\n                                            <div class="no-results-icon"></div>\n                                            <div class="no-results-text">No matching patients found</div>\n                                            <div class="no-results-hint">Try searching with a different term</div>\n                                        </div>\n                                    '])))):"",this.patient?U(Mc||(Mc=cd(['\n                    <div class="patient-details">\n                        <h3 class="section-title">Patient Information</h3>\n                        <div class="details-grid">\n                            ',"\n                            ","\n                            ","\n                            ","\n                            ","\n                            ",'\n                        </div>\n\n                        <div class="insurance-section">\n                            <h3 class="section-title">Insurance Information</h3>\n                            ',"\n                        </div>\n                    </div>\n                "])),this.renderFormControl("Patient Name",this.formatPatientName(this.patient),""),this.renderFormControl("MRN",this.patient.pinNo,""),this.renderFormControl("National ID",this.patient.nic,""),this.renderFormControl("Mobile",this.patient.cellPhoneNo||"N/A",""),this.renderFormControl("Gender",(null===(e=this.patient.gender)||void 0===e?void 0:e.genderName)||"N/A",""),this.renderFormControl("Date of Birth",this.formatDate(this.patient.dateOfBirth),""),(null===(n=this.patient.patientInsurances)||void 0===n?void 0:n.length)>0?U(zc||(zc=cd(['\n                                <div class="details-grid">\n                                    ',"\n                                    ","\n                                    ","\n                                    ","\n                                    ","\n                                </div>\n                            "])),this.renderFormControl("Insurance Provider",(null===(t=this.patient.patientInsurances[0].payer)||void 0===t?void 0:t.companyName)||"N/A",""),this.renderFormControl("Member ID",this.patient.patientInsurances[0].memberId||"N/A",""),this.renderFormControl("Plan Name",(null===(r=this.patient.patientInsurances[0].fkPlan)||void 0===r?void 0:r.planName)||"N/A",""),this.renderFormControl("Start Date",this.formatDate(this.patient.patientInsurances[0].startDate),""),this.renderFormControl("Expiry Date",this.formatDate(this.patient.patientInsurances[0].expiryDate),"")):U(Bc||(Bc=cd(['\n                                <div class="self-pay-notice">\n                                    <span class="icon"></span>\n                                    <span class="message">Self Pay Patient</span>\n                                </div>\n                            '])))):"")}},{key:"renderDependentSection",value:function(){var e=this;return this.hasDependent?U(Uc||(Uc=cd(['\n            <div class="dependent-section">\n                <h3 class="subsection-title">Dependent Information</h3>\n                ',"\n            </div>\n        "])),this.isDependentLoading?U(Vc||(Vc=cd(['\n                    <div class="loading-indicator">\n                        <div class="loader"></div>\n                        <p>Loading dependents...</p>\n                    </div>\n                ']))):this.dependentError?U(qc||(qc=cd(['\n                    <div class="error-message">\n                        ',"\n                    </div>\n                "])),this.dependentError):0===this.familyMembers.length?U(Hc||(Hc=cd(['\n                    <div class="notice">\n                        No dependents found for this patient.\n                    </div>\n                ']))):U(Gc||(Gc=cd(['\n                    <div class="dependent-grid">\n                        ',"\n                    </div>\n                "])),this.familyMembers.map((function(n){var t;return U($c||($c=cd(['\n                            <div class="dependent-card ','"\n                                 @click=','>\n                                <div class="dependent-header">\n                                    <span class="dependent-name">','</span>\n                                    <span class="relationship-badge">','</span>\n                                </div>\n                                <div class="dependent-details">\n                                    <div>DOB: ',"</div>\n                                    <div>Gender: ","</div>\n                                    <div>Nationality: ","</div>\n                                </div>\n                            </div>\n                        "])),(null===(t=e.selectedDependent)||void 0===t?void 0:t.id)===n.id?"selected":"",(function(){return e.selectDependent(n)}),n.fullName,n.relationship,e.formatDate(n.dateOfBirth),n.gender,n.nationality)})))):""}},{key:"handlePatientSearch",value:(r=sd(od().mark((function e(n){var t,r,i;return od().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.target.value.trim()).length<3)){e.next=5;break}return this.patientSearchResults=[],this.showPatientResults=!1,e.abrupt("return");case 5:return this.isLoading=!0,this.showPatientResults=!0,e.prev=7,e.next=10,fetch(Dn.PATIENT.PAGED,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filters:"(pinNo|firstName|middleName|lastName|nic|cellPhoneNo)_=".concat(t),page:1,pageSize:50})});case 10:if((r=e.sent).ok){e.next=13;break}throw new Error("Failed to fetch patients");case 13:return e.next=15,r.json();case 15:"success"===(i=e.sent).messageType&&Array.isArray(i.dynamicResult)?this.patientSearchResults=i.dynamicResult:(this.patientSearchResults=[],console.error("No results in patient search response")),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(7),console.error("Error searching patients:",e.t0),this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:"Error searching patients",type:"error"},bubbles:!0,composed:!0})),this.patientSearchResults=[];case 24:return e.prev=24,this.isLoading=!1,e.finish(24);case 27:case"end":return e.stop()}}),e,this,[[7,19,24,27]])}))),function(e){return r.apply(this,arguments)})},{key:"selectPatient",value:function(e){var n,t,r,i,o,a,s,c,l,d,u=(null==e||null===(n=e.patientInsurances)||void 0===n?void 0:n.length)>0?e.patientInsurances[0]:null,p=(null==e||null===(t=e.insuranceCoverages)||void 0===t?void 0:t.length)>0,h=u?{company:(null===(r=u.payer)||void 0===r?void 0:r.companyName)||"N/A",contractNumber:u.memberId||"N/A",memberID:u.memberId||"N/A",policyNumber:u.memberId||"N/A",coveragePlan:(null===(i=u.fkPlan)||void 0===i?void 0:i.planName)||"N/A",planDetails:u.fkPlan||null,contractDetails:(null===(o=u.fkPlan)||void 0===o?void 0:o.fkContract)||null,isNphiesEnabled:(null===(a=u.payer)||void 0===a?void 0:a.isNphiesEnabled)||!1}:null,f={type:u?"Primary":"Self Pay",dependent:"No",relationship:1===(null==u?void 0:u.fkRelationId)?"Self":"Other",startDate:(null==u?void 0:u.startDate)||"N/A",endDate:(null==u?void 0:u.expiryDate)||"N/A",payorReference:(null==u?void 0:u.payerId)||"N/A",groupNumber:(null==u?void 0:u.workCompanyId)||"N/A",groupName:(null==h||null===(s=h.contractDetails)||void 0===s?void 0:s.contractName)||"N/A",planNumber:(null==u?void 0:u.fkPlanId)||"N/A",planName:(null==h||null===(c=h.planDetails)||void 0===c?void 0:c.planName)||"N/A",network:"In-Network",subrogation:"Not Covered",lastEligibilityVerificationDate:(null===(l=e.insuranceCoverages)||void 0===l?void 0:l.length)>0?e.insuranceCoverages[0].lastEligiblityVerifcationDate:null,isNphiesVerified:p};this.dispatchEvent(new CustomEvent("patient-selected",{detail:{patient:rd(rd({},e),{},{insuranceInfo:h,coverageDetails:f,patientType:(null===(d=e.patientType)||void 0===d?void 0:d.patientTypeName)||"Self Pay",isNphiesVerified:p,insuranceCoverages:e.insuranceCoverages||[]})},bubbles:!0,composed:!0})),this.showPatientResults=!1,this.patientSearchResults=[]}},{key:"handleDependentCheck",value:(t=sd(od().mark((function e(n){var t;return od().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.target.checked,this.dispatchEvent(new CustomEvent("dependent-check-changed",{detail:{hasDependent:t},bubbles:!0,composed:!0}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"selectDependent",value:function(e){this.dispatchEvent(new CustomEvent("dependent-selected",{detail:e,bubbles:!0,composed:!0}))}},{key:"formatDate",value:function(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}},{key:"formatPatientName",value:function(e){return[e.firstName,e.middleName,e.lastName].filter((function(e){return e&&""!==e.trim()})).join(" ")}},{key:"renderFormControl",value:function(e,n,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return U(Yc||(Yc=cd(['\n            <div class="form-group">\n                <label class="form-label">','</label>\n                <div class="form-control-group">\n                    <div class="form-control-icon">\n                        ','\n                    </div>\n                    <input \n                        type="text" \n                        class="form-control form-control-with-icon" \n                        .value=',"\n                        ?readonly=","\n                    >\n                </div>\n            </div>\n        "])),e,"string"==typeof t?U(Jc||(Jc=cd(['<span class="emoji-icon">',"</span>"])),t):t,this.formatValue(n),r)}},{key:"formatValue",value:function(e){return null==e?"":"object"===nd(e)?e.toString()||"":e}}],[{key:"icons",get:function(){return{user:U(Wc||(Wc=cd(['<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 7a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/></svg>']))),calendar:U(Qc||(Qc=cd(['<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>']))),id:U(Kc||(Kc=cd(['<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="16" rx="2"/><path d="M7 8h10M7 12h10M7 16h10"/></svg>']))),passport:U(Xc||(Xc=cd(['<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="12" cy="10" r="3"/><path d="M7 21v-2a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v2"/></svg>']))),phone:U(Zc||(Zc=cd(['<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.362 1.903.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.339 1.85.574 2.81.7A2 2 0 0 1 22 16.92z"/></svg>']))),gender:U(el||(el=cd(['<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M14.83 14.83L19 19M9.17 14.83L5 19"/><circle cx="12" cy="8" r="2"/></svg>']))),ring:U(nl||(nl=cd(['<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="8"/><path d="M16 12a4 4 0 0 1-8 0"/></svg>']))),globe:U(tl||(tl=cd(['<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>']))),briefcase:U(rl||(rl=cd(['<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>'])))}}},{key:"properties",get:function(){return{patient:{type:Object},familyMembers:{type:Array},selectedDependent:{type:Object},hasDependent:{type:Boolean},patientSearchResults:{type:Array,state:!0},showPatientResults:{type:Boolean,state:!0},isLoading:{type:Boolean,state:!0},isDependentLoading:{type:Boolean,state:!0},dependentError:{type:String,state:!0}}}}]);var t,r}(se),Cc.styles=[vl,c(il||(il=cd(["\n            :host {\n                display: block;\n            }\n\n            .patient-details-grid {\n                display: grid;\n                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n                gap: 1rem;\n                margin-top: 1rem;\n            }\n\n            .dependent-section {\n                margin-top: 2rem;\n                padding-top: 1rem;\n                border-top: 1px solid var(--gray-200);\n            }\n\n            .dependent-grid {\n                display: grid;\n                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n                gap: 1rem;\n                margin-top: 1rem;\n            }\n\n            .dependent-card {\n                border: 1px solid var(--gray-200);\n                border-radius: 6px;\n                padding: 1rem;\n                cursor: pointer;\n                transition: all 0.2s ease-in-out;\n            }\n\n            .dependent-card:hover {\n                border-color: var(--primary);\n                background-color: var(--gray-50);\n            }\n\n            .dependent-card.selected {\n                border-color: var(--primary);\n                background-color: var(--gray-50);\n            }\n\n            .dependent-header {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                margin-bottom: 0.5rem;\n            }\n\n            .dependent-name {\n                font-weight: 500;\n                color: var(--gray-900);\n            }\n\n            .relationship-badge {\n                background-color: var(--primary-light);\n                color: white;\n                padding: 0.25rem 0.5rem;\n                border-radius: 4px;\n                font-size: 0.75rem;\n            }\n\n            .dependent-details {\n                color: var(--gray-600);\n                font-size: 0.875rem;\n            }\n\n            .loading-indicator {\n                display: flex;\n                align-items: center;\n                gap: 1rem;\n                padding: 1rem;\n                color: var(--gray-600);\n            }\n\n            .error-message {\n                color: var(--error);\n                padding: 1rem;\n                text-align: center;\n            }\n\n            .dependent-check {\n                display: flex;\n                align-items: center;\n                gap: 0.5rem;\n            }\n\n            .checkbox-label {\n                display: flex;\n                align-items: center;\n                gap: 0.5rem;\n                cursor: pointer;\n                user-select: none;\n            }\n\n            /* Enhanced Autocomplete Styles */\n            .search-container {\n                position: relative;\n            }\n\n            .search-input-wrapper {\n                position: relative;\n                display: flex;\n                align-items: center;\n            }\n\n            .search-icon {\n                position: absolute;\n                left: 12px;\n                color: var(--gray-400);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                pointer-events: none;\n            }\n\n            .search-input {\n                padding-left: 40px !important;\n                padding-right: 40px;\n                transition: all 0.2s ease;\n            }\n\n            .search-input:focus {\n                box-shadow: 0 0 0 3px rgba(133, 0, 216, 0.1);\n            }\n\n            .loader-container {\n                position: absolute;\n                right: 12px;\n                display: flex;\n                align-items: center;\n            }\n\n            .search-loader {\n                width: 20px;\n                height: 20px;\n                border: 2px solid var(--gray-200);\n                border-top-color: var(--primary);\n                border-radius: 50%;\n                animation: spin 0.8s linear infinite;\n            }\n\n            .search-results {\n                position: absolute;\n                top: 100%;\n                left: 0;\n                right: 0;\n                background: white;\n                border: 1px solid var(--gray-200);\n                border-radius: 12px;\n                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\n                margin-top: 8px;\n                max-height: 400px;\n                overflow-y: auto;\n                z-index: 1000;\n            }\n\n            .search-results-overlay {\n                position: absolute;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background: rgba(255, 255, 255, 0.9);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                z-index: 1;\n            }\n\n            .search-result-item {\n                padding: 16px;\n                border-bottom: 1px solid var(--gray-100);\n                cursor: pointer;\n                transition: all 0.2s ease;\n                display: flex;\n                flex-direction: column;\n                gap: 8px;\n            }\n\n            .search-result-item:hover {\n                background-color: var(--gray-50);\n            }\n\n            .search-result-item:last-child {\n                border-bottom: none;\n            }\n\n            .result-header {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n            }\n\n            .patient-name {\n                color: var(--gray-900);\n                font-weight: 600;\n                font-size: 1rem;\n                display: flex;\n                align-items: center;\n                gap: 8px;\n            }\n\n            .patient-info {\n                display: flex;\n                flex-wrap: wrap;\n                gap: 16px;\n                margin-top: 4px;\n            }\n\n            .info-item {\n                display: flex;\n                align-items: center;\n                gap: 6px;\n                color: var(--gray-700);\n                font-size: 0.875rem;\n            }\n\n            .info-icon {\n                color: var(--gray-500);\n                font-size: 1rem;\n            }\n\n            .insurance-info {\n                display: flex;\n                align-items: center;\n                gap: 8px;\n                margin-top: 4px;\n            }\n\n            .badge {\n                display: inline-flex;\n                align-items: center;\n                gap: 4px;\n                padding: 4px 12px;\n                border-radius: 9999px;\n                font-size: 0.75rem;\n                font-weight: 500;\n            }\n\n            .badge-success {\n                background-color: var(--success);\n                color: white;\n            }\n\n            .badge-warning {\n                background-color: var(--warning);\n                color: white;\n            }\n\n            .search-status {\n                padding: 24px;\n                text-align: center;\n                color: var(--gray-600);\n            }\n\n            .loader {\n                width: 24px;\n                height: 24px;\n                border: 2px solid var(--gray-200);\n                border-top-color: var(--primary);\n                border-radius: 50%;\n                animation: spin 0.8s linear infinite;\n                margin: 0 auto;\n            }\n\n            .loading-text {\n                margin-top: 8px;\n                font-size: 0.875rem;\n            }\n\n            .no-results-icon {\n                font-size: 24px;\n                margin-bottom: 8px;\n            }\n\n            .no-results-text {\n                font-size: 0.9rem;\n                margin-bottom: 4px;\n            }\n\n            .no-results-hint {\n                font-size: 0.8rem;\n                color: var(--gray-400);\n            }\n\n            @keyframes spin {\n                to { transform: rotate(360deg); }\n            }\n\n            /* Enhanced Form Control Styles */\n            .form-control-group {\n                position: relative;\n                display: flex;\n                flex-direction: column;\n            }\n\n            .form-control-icon {\n                position: absolute;\n                left: 12px;\n                top: 50%;\n                transform: translateY(-50%);\n                width: 20px;\n                height: 20px;\n                color: var(--gray-400);\n            }\n\n            .form-control-icon svg {\n                width: 100%;\n                height: 100%;\n            }\n\n            .form-control-with-icon {\n                padding-left: 40px !important;\n            }\n\n            .form-control {\n                background-color: var(--gray-50);\n                border: 1px solid var(--gray-200);\n                border-radius: 8px;\n                color: var(--gray-900);\n                font-size: 0.875rem;\n                line-height: 1.5;\n                padding: 0.625rem 1rem;\n                transition: all 0.2s ease;\n                width: 100%;\n            }\n\n            .form-control:focus {\n                background-color: white;\n                border-color: var(--primary);\n                box-shadow: 0 0 0 3px rgba(133, 0, 216, 0.1);\n                outline: none;\n            }\n\n            .form-control:read-only {\n                background-color: var(--gray-100);\n                border-color: var(--gray-200);\n                color: var(--gray-700);\n                cursor: not-allowed;\n            }\n\n            .form-label {\n                color: var(--gray-700);\n                font-size: 0.875rem;\n                font-weight: 500;\n                margin-bottom: 0.5rem;\n            }\n\n            .form-group {\n                margin-bottom: 1.25rem;\n            }\n\n            /* Healthcare specific form styling */\n            .patient-info-field {\n                position: relative;\n                background-color: white;\n                border-radius: 8px;\n                transition: all 0.2s ease;\n            }\n\n            .patient-info-field:hover {\n                background-color: var(--gray-50);\n            }\n\n            .patient-info-label {\n                font-size: 0.75rem;\n                color: var(--gray-500);\n                margin-bottom: 0.25rem;\n            }\n\n            .patient-info-value {\n                font-size: 0.875rem;\n                color: var(--gray-900);\n                font-weight: 500;\n            }\n\n            .patient-info-empty {\n                color: var(--gray-400);\n                font-style: italic;\n            }\n\n            /* Healthcare Icons */\n            .healthcare-icon {\n                display: inline-flex;\n                align-items: center;\n                justify-content: center;\n                width: 20px;\n                height: 20px;\n                color: var(--gray-400);\n            }\n        "])))],Cc)),En("visit-section")((ol=function(e){function n(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,n,t){return n=Sd(n),function(e,n){if(n&&("object"==fd(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xd()?Reflect.construct(n,t||[],Sd(e).constructor):n.apply(e,t))}(this,n)).selectedPatient=null,e.selectedVisit=null,e.visits=[],e.isLoading=!1,e.disabled=!0,e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&kd(e,n)}(n,e),function(e,n,t){return n&&bd(e.prototype,n),t&&bd(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"fetchVisits",value:(i=yd(vd().mark((function e(){var n,t;return vd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.selectedPatient){e.next=2;break}return e.abrupt("return");case 2:return this.isLoading=!0,e.prev=3,e.next=6,fetch(Dn.VISIT.PAGED,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:1,pageSize:10,filters:"patientId=="+this.selectedPatient.id})});case 6:return n=e.sent,e.next=9,n.json();case 9:(t=e.sent).isSuccessfull&&t.dynamicResult&&(this.visits=t.dynamicResult,this.visits.length>0&&this.selectVisit(this.visits[0])),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error fetching visits:",e.t0),this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:"Error loading visits",type:"error"},bubbles:!0,composed:!0}));case 17:return e.prev=17,this.isLoading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[3,13,17,20]])}))),function(){return i.apply(this,arguments)})},{key:"updated",value:function(e){e.has("selectedPatient")&&this.selectedPatient&&(this.disabled=!1,this.fetchVisits())}},{key:"selectVisit",value:(r=yd(vd().mark((function e(n){var t,r,i,o;return vd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.selectedVisit=n,i={id:n.id,clinicalSessionId:n.clinicalSessionId,startTime:n.startTime,endTime:n.endTime,visitDate:n.visitDate,type:(null===(t=n.fkVisitSubType)||void 0===t?void 0:t.subTypeName)||this.getVisitTypeName(n.fkVisitSubTypeId),status:(null===(r=n.fkPatientVisitStatus)||void 0===r?void 0:r.statusName)||this.getVisitStatusName(n.fkPatientVisitStatusId),facility:n.fkFacilityId,episodeId:n.episodeId,transactionId:n.transactionIdno,reasonOfVisit:n.reasonOfVisit,doctor:n.doctor?{id:n.doctor.id,name:"".concat(n.doctor.fname," ").concat(n.doctor.lname).trim(),department:n.doctor.departmentId,designation:n.doctor.designationId,licenseNumber:n.doctor.pinNo}:null,episode:n.episode?{id:n.episode.id,number:n.episode.epNumber,status:n.episode.epStatus,isInsuranceApplied:1===n.episode.isInsuranceApplied}:null},e.next=4,this.fetchVitals(n.id);case 4:o=e.sent,this.dispatchEvent(new CustomEvent("visit-selected",{detail:{visit:i,vitals:(null==o?void 0:o[0])||null},bubbles:!0,composed:!0})),(null==o?void 0:o.length)>0&&this.dispatchEvent(new CustomEvent("vitals-update",{detail:{vitals:o[0]},bubbles:!0,composed:!0})),n.doctor&&this.dispatchEvent(new CustomEvent("care-team-update",{detail:{provider:{id:n.doctor.id,name:"".concat(n.doctor.fname," ").concat(n.doctor.lname).trim(),type:"primary",department:n.doctor.departmentId,designation:n.doctor.designationId,licenseNumber:n.doctor.pinNo}},bubbles:!0,composed:!0})),n.episode&&this.dispatchEvent(new CustomEvent("episode-update",{detail:{episode:{id:n.episode.id,number:n.episode.epNumber,status:n.episode.epStatus,isInsuranceApplied:1===n.episode.isInsuranceApplied}},bubbles:!0,composed:!0}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"fetchVitals",value:(t=yd(vd().mark((function e(n){var t,r,i,o,a,s,c;return vd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Dn.VITALS.OUTPATIENT_BMI,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:1,pageSize:10,filters:"visitId=="+n})});case 3:return r=e.sent,i=null,e.next=7,r.json();case 7:if(!((o=e.sent).isSuccessfull&&(null===(t=o.dynamicResult)||void 0===t?void 0:t.length)>0)){e.next=12;break}i=this.processVitalsData(o.dynamicResult[0]),e.next=19;break;case 12:return e.next=14,fetch(Dn.VITALS.INPATIENT_BMI,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:1,pageSize:10,filters:"NurseVisitId=="+n})});case 14:return s=e.sent,e.next=17,s.json();case 17:(c=e.sent).isSuccessfull&&(null===(a=c.dynamicResult)||void 0===a?void 0:a.length)>0&&(i=this.processVitalsData(c.dynamicResult[0]));case 19:return e.abrupt("return",i?[i]:[]);case 22:return e.prev=22,e.t0=e.catch(0),console.error("Error fetching vitals:",e.t0),this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:"Error fetching vitals information",type:"error"},bubbles:!0,composed:!0})),e.abrupt("return",[]);case 27:case"end":return e.stop()}}),e,this,[[0,22]])}))),function(e){return t.apply(this,arguments)})},{key:"processVitalsData",value:function(e){return{height:parseFloat(e.height)||0,weight:parseFloat(e.weight)||0,bmi:parseFloat(e.bmi)||0,systolic:parseFloat(e.systolicBP)||0,diastolic:parseFloat(e.diastolicBP)||0,pulseRate:parseFloat(e.pulseRate)||0,temperature:parseFloat(e.temperature)||0,spo2:parseFloat(e.spo2)||0,respRate:parseFloat(e.respiratoryRate)||0,bloodSugar:parseFloat(e.bloodSugar)||0,chiefComplaint:e.chiefComplaint||"",creationDate:e.creationDate||e.createdDate||(new Date).toISOString()}}},{key:"getVisitTypeName",value:function(e){return{1:"New Patient Consultation",2:"Follow Up",3:"Emergency",4:"Day Care"}[e]||"Unknown"}},{key:"getVisitStatusName",value:function(e){return{1:"New",2:"In Progress",3:"Completed",4:"Cancelled"}[e]||"Unknown"}},{key:"getStatusClass",value:function(e){return{New:"status-scheduled","In Progress":"status-active",Completed:"status-completed"}[e]||""}},{key:"formatDate",value:function(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}},{key:"render",value:function(){var e=this;return this.disabled?U(al||(al=md(['\n                <div class="section-content">\n                    <div class="notice">\n                        Please select a patient first to view visits.\n                    </div>\n                </div>\n            ']))):U(sl||(sl=md(['\n            <div class="section-content">\n                <h3 class="section-title">Visit Information</h3>\n                \n                ',"\n            </div>\n        "])),this.isLoading?U(cl||(cl=md(['\n                    <div class="loading-container">\n                        <div class="loading-spinner"></div>\n                    </div>\n                ']))):0===this.visits.length?U(ll||(ll=md(['\n                    <div class="empty-state">\n                        No visits found for this patient.\n                    </div>\n                ']))):U(dl||(dl=md(['\n                    <div class="visit-grid">\n                        ',"\n                    </div>\n                "])),this.visits.map((function(n){var t,r,i,o;return U(ul||(ul=md(['\n                            <div class="visit-card ','"\n                                 @click=','>\n                                <div class="visit-header">\n                                    <span class="visit-date">','</span>\n                                    <span class="visit-type">\n                                        ','\n                                    </span>\n                                </div>\n                                <div class="visit-details">\n                                    <div class="detail-item">\n                                        <span class="detail-label">Status:</span>\n                                        <span class="status-badge ','">\n                                            ',"\n                                        </span>\n                                    </div>\n                                    ","\n                                    ","\n                                    ","\n                                </div>\n                            </div>\n                        "])),(null===(t=e.selectedVisit)||void 0===t?void 0:t.id)===n.id?"selected":"",(function(){return e.selectVisit(n)}),e.formatDate(n.visitDate),(null===(r=n.fkVisitSubType)||void 0===r?void 0:r.subTypeName)||e.getVisitTypeName(n.fkVisitSubTypeId),e.getStatusClass((null===(i=n.fkPatientVisitStatus)||void 0===i?void 0:i.statusName)||e.getVisitStatusName(n.fkPatientVisitStatusId)),(null===(o=n.fkPatientVisitStatus)||void 0===o?void 0:o.statusName)||e.getVisitStatusName(n.fkPatientVisitStatusId),n.doctor?U(pl||(pl=md(['\n                                        <div class="detail-item">\n                                            <span class="detail-label">Doctor:</span>\n                                            <span class="detail-value">Dr. '," ","</span>\n                                        </div>\n                                    "])),n.doctor.fname,n.doctor.lname):"",n.reasonOfVisit?U(hl||(hl=md(['\n                                        <div class="detail-item">\n                                            <span class="detail-label">Reason:</span>\n                                            <span class="detail-value">',"</span>\n                                        </div>\n                                    "])),n.reasonOfVisit):"",n.episode?U(fl||(fl=md(['\n                                        <div class="episode-tag">\n                                            Episode #',"\n                                            ","\n                                        </div>\n                                    "])),n.episode.epNumber||n.episodeId,1===n.episode.isInsuranceApplied?" (Insurance Applied)":""):"")}))))}}],[{key:"properties",get:function(){return{selectedPatient:{type:Object},selectedVisit:{type:Object},visits:{type:Array},isLoading:{type:Boolean},disabled:{type:Boolean}}}}]);var t,r,i}(se),ol.styles=[vl,c(ml||(ml=md(["\n            :host {\n                display: block;\n            }\n\n            .visit-grid {\n                display: grid;\n                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n                gap: 1rem;\n                margin-top: 1rem;\n            }\n\n            .visit-card {\n                background: white;\n                border: 1px solid var(--gray-200);\n                border-radius: 12px;\n                padding: 1.25rem;\n                cursor: pointer;\n                transition: all 0.3s ease;\n            }\n\n            .visit-card:hover {\n                transform: translateY(-2px);\n                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n            }\n\n            .visit-card.selected {\n                border-color: var(--primary);\n                box-shadow: 0 0 0 2px var(--primary-light);\n            }\n\n            .visit-header {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                margin-bottom: 1rem;\n            }\n\n            .visit-date {\n                font-weight: 600;\n                color: var(--gray-900);\n            }\n\n            .visit-type {\n                padding: 0.25rem 0.75rem;\n                border-radius: 0.25rem;\n                font-size: 0.875rem;\n                background: var(--gray-100);\n                color: var(--gray-700);\n            }\n\n            .visit-details {\n                display: grid;\n                gap: 0.75rem;\n            }\n\n            .detail-item {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n            }\n\n            .detail-label {\n                color: var(--gray-600);\n                font-size: 0.875rem;\n            }\n\n            .detail-value {\n                color: var(--gray-900);\n                font-size: 0.875rem;\n                font-weight: 500;\n            }\n\n            .status-badge {\n                padding: 0.25rem 0.75rem;\n                border-radius: 9999px;\n                font-size: 0.75rem;\n                font-weight: 500;\n            }\n\n            .status-active {\n                background-color: var(--success);\n                color: white;\n            }\n\n            .status-completed {\n                background-color: var(--gray-500);\n                color: white;\n            }\n\n            .status-scheduled {\n                background-color: var(--primary-light);\n                color: white;\n            }\n\n            .loading-container {\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                min-height: 200px;\n            }\n\n            .empty-state {\n                text-align: center;\n                padding: 2rem;\n                color: var(--gray-500);\n            }\n\n            .section-disabled {\n                opacity: 0.5;\n                pointer-events: none;\n            }\n\n            .episode-tag {\n                display: inline-flex;\n                align-items: center;\n                padding: 0.25rem 0.5rem;\n                background: var(--gray-100);\n                border-radius: 4px;\n                font-size: 0.75rem;\n                color: var(--gray-700);\n                margin-top: 0.5rem;\n            }\n        "])))],ol));var Cd=function(){return function(e,n,t){return t&&Pd(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}),0,[{key:"createRequest",value:function(e){var n,t=crypto.randomUUID(),r=(new Date).toISOString();return{resourceType:"Bundle",id:t,meta:{profile:[(null===(n=e.meta)||void 0===n||null===(n=n.profile)||void 0===n?void 0:n[0])||"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/bundle|1.0.0"]},type:"message",timestamp:r,entry:[this.createMessageHeader(e),this.createCoverageEligibilityRequest(e),this.createProviderOrganization(e),this.createPatient(e),this.createInsurerOrganization(e),this.createLocation(e)]}}},{key:"createMessageHeader",value:function(e){var n,t,r,i,o,a;return{fullUrl:"urn:uuid:".concat(e.messageHeaderId),resource:{resourceType:"MessageHeader",id:e.messageHeaderId,meta:{profile:[(null===(n=e.meta)||void 0===n||null===(n=n.profile)||void 0===n?void 0:n[1])||"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/message-header|1.0.0"]},eventCoding:(null===(t=e.meta)||void 0===t?void 0:t.eventCoding)||{system:"http://nphies.sa/terminology/CodeSystem/ksa-message-events",code:"eligibility-request"},destination:[{endpoint:(null===(r=e.insurer)||void 0===r?void 0:r.endpoint)||"http://nphies.sa/license/payer-license/INS-FHIR",receiver:{type:"Organization",identifier:{system:"http://nphies.sa/license/payer-license",value:null===(i=e.insurer)||void 0===i?void 0:i.license}}}],sender:{type:"Organization",identifier:{system:"http://nphies.sa/license/provider-license",value:null===(o=e.provider)||void 0===o?void 0:o.license}},source:{endpoint:(null===(a=e.provider)||void 0===a?void 0:a.endpoint)||"http://provider.com"},focus:[{reference:e.focusReference}]}}}},{key:"createCoverageEligibilityRequest",value:function(e){var n,t,r,i,o,a,s;return{fullUrl:e.focusReference,resource:{resourceType:"CoverageEligibilityRequest",id:e.requestId,meta:{profile:[(null===(n=e.meta)||void 0===n||null===(n=n.profile)||void 0===n?void 0:n[2])||"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/eligibility-request|1.0.0"]},identifier:[{system:"http://provider.com/identifier/coverageeligibilityrequest",value:"req_".concat(e.requestId)}],status:"active",priority:{coding:[{system:"http://terminology.hl7.org/CodeSystem/processpriority",code:"normal"}]},purpose:["discovery"],patient:{reference:null===(t=e.patient)||void 0===t?void 0:t.reference},servicedPeriod:{start:null===(r=e.serviceDate)||void 0===r?void 0:r.start,end:null===(i=e.serviceDate)||void 0===i?void 0:i.end},created:e.created||(new Date).toISOString(),provider:{reference:null===(o=e.provider)||void 0===o?void 0:o.reference},insurer:{reference:null===(a=e.insurer)||void 0===a?void 0:a.reference},facility:{reference:null===(s=e.facility)||void 0===s?void 0:s.reference}}}}},{key:"createProviderOrganization",value:function(e){var n,t,r,i,o,a;return{fullUrl:"http://provider.com/".concat(null===(n=e.provider)||void 0===n?void 0:n.reference),resource:{resourceType:"Organization",id:null===(t=e.provider)||void 0===t?void 0:t.id,meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/provider-organization|1.0.0"]},extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-provider-type",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/provider-type",code:(null===(r=e.provider)||void 0===r?void 0:r.typeCode)||"5",display:(null===(i=e.provider)||void 0===i?void 0:i.typeDisplay)||"Clinic"}]}}],identifier:[{system:"http://nphies.sa/license/provider-license",value:null===(o=e.provider)||void 0===o?void 0:o.license}],active:!0,type:[{coding:[{system:"http://nphies.sa/terminology/CodeSystem/organization-type",code:"prov"}]}],name:null===(a=e.provider)||void 0===a?void 0:a.name}}}},{key:"createPatient",value:function(e){var n,t,r,i,o,a,s,c,l,d,u,p,h;return{fullUrl:"http://provider.com/".concat(null===(n=e.patient)||void 0===n?void 0:n.reference),resource:{resourceType:"Patient",id:null===(t=e.patient)||void 0===t?void 0:t.id,meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/patient|1.0.0"]},extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-occupation",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/occupation",code:(null===(r=e.patient)||void 0===r?void 0:r.occupation)||"student"}]}}],identifier:[{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0203",code:"PRC",display:"Permanent Resident Card Number"}]},system:"http://nphies.sa/identifier/iqama",value:null===(i=e.patient)||void 0===i?void 0:i.identifier}],active:!0,name:[{use:"official",text:null===(o=e.patient)||void 0===o?void 0:o.fullName,family:null===(a=e.patient)||void 0===a?void 0:a.familyName,given:null===(s=e.patient)||void 0===s?void 0:s.givenNames}],telecom:[{system:"phone",value:null===(c=e.patient)||void 0===c?void 0:c.phone}],gender:null===(l=e.patient)||void 0===l?void 0:l.gender,_gender:{extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-ksa-administrative-gender",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/ksa-administrative-gender",code:null===(d=e.patient)||void 0===d?void 0:d.gender,display:"male"===(null===(u=e.patient)||void 0===u?void 0:u.gender)?"Male":"Female"}]}}]},birthDate:null===(p=e.patient)||void 0===p?void 0:p.birthDate,maritalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-MaritalStatus",code:(null===(h=e.patient)||void 0===h?void 0:h.maritalStatus)||"U"}]}}}}},{key:"createInsurerOrganization",value:function(e){var n,t,r,i;return{fullUrl:"http://provider.com/".concat(null===(n=e.insurer)||void 0===n?void 0:n.reference),resource:{resourceType:"Organization",id:null===(t=e.insurer)||void 0===t?void 0:t.id,meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/insurer-organization|1.0.0"]},identifier:[{system:"http://nphies.sa/license/payer-license",value:null===(r=e.insurer)||void 0===r?void 0:r.license}],active:!0,type:[{coding:[{system:"http://nphies.sa/terminology/CodeSystem/organization-type",code:"ins"}]}],name:null===(i=e.insurer)||void 0===i?void 0:i.name}}}},{key:"createLocation",value:function(e){var n,t,r,i,o,a;return{fullUrl:"http://provider.com/".concat(null===(n=e.facility)||void 0===n?void 0:n.reference),resource:{resourceType:"Location",id:null===(t=e.facility)||void 0===t?void 0:t.id,meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/location|1.0.0"]},identifier:[{system:"http://nphies.sa/license/location-license",value:null===(r=e.facility)||void 0===r?void 0:r.license}],status:"active",name:null===(i=e.facility)||void 0===i?void 0:i.name,type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-RoleCode",code:(null===(o=e.facility)||void 0===o?void 0:o.type)||"GACH"}]}],managingOrganization:{reference:null===(a=e.provider)||void 0===a?void 0:a.reference}}}}},{key:"mapRequestParams",value:function(e){return{messageHeaderId:e.messageHeaderId,requestId:e.requestId,focusReference:e.focusReference,patient:e.patient,provider:e.provider,insurer:e.insurer,facility:e.facility,serviceDate:e.serviceDate,created:(new Date).toISOString(),meta:e.meta}}}])}();function Ad(e,n){return function(){return e.apply(n,arguments)}}const{toString:Td}=Object.prototype,{getPrototypeOf:Dd}=Object,Id=(jd=Object.create(null),e=>{const n=Td.call(e);return jd[n]||(jd[n]=n.slice(8,-1).toLowerCase())});var jd;const Nd=e=>(e=e.toLowerCase(),n=>Id(n)===e),Ld=e=>n=>typeof n===e,{isArray:Rd}=Array,_d=Ld("undefined"),Fd=Nd("ArrayBuffer"),Md=Ld("string"),zd=Ld("function"),Bd=Ld("number"),Ud=e=>null!==e&&"object"==typeof e,Vd=e=>{if("object"!==Id(e))return!1;const n=Dd(e);return!(null!==n&&n!==Object.prototype&&null!==Object.getPrototypeOf(n)||Symbol.toStringTag in e||Symbol.iterator in e)},qd=Nd("Date"),Hd=Nd("File"),Gd=Nd("Blob"),$d=Nd("FileList"),Yd=Nd("URLSearchParams"),[Jd,Wd,Qd,Kd]=["ReadableStream","Request","Response","Headers"].map(Nd);function Xd(e,n,{allOwnKeys:t=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),Rd(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const i=t?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],n.call(null,e[a],a,e)}}function Zd(e,n){n=n.toLowerCase();const t=Object.keys(e);let r,i=t.length;for(;i-- >0;)if(r=t[i],n===r.toLowerCase())return r;return null}const eu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,nu=e=>!_d(e)&&e!==eu,tu=(ru="undefined"!=typeof Uint8Array&&Dd(Uint8Array),e=>ru&&e instanceof ru);var ru;const iu=Nd("HTMLFormElement"),ou=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),au=Nd("RegExp"),su=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};Xd(t,((t,i)=>{let o;!1!==(o=n(t,i,e))&&(r[i]=o||t)})),Object.defineProperties(e,r)},cu="abcdefghijklmnopqrstuvwxyz",lu="0123456789",du={DIGIT:lu,ALPHA:cu,ALPHA_DIGIT:cu+cu.toUpperCase()+lu},uu=Nd("AsyncFunction"),pu=(hu="function"==typeof setImmediate,fu=zd(eu.postMessage),hu?setImmediate:fu?(mu=`axios@${Math.random()}`,vu=[],eu.addEventListener("message",(({source:e,data:n})=>{e===eu&&n===mu&&vu.length&&vu.shift()()}),!1),e=>{vu.push(e),eu.postMessage(mu,"*")}):e=>setTimeout(e));var hu,fu,mu,vu;const gu="undefined"!=typeof queueMicrotask?queueMicrotask.bind(eu):"undefined"!=typeof process&&process.nextTick||pu,yu={isArray:Rd,isArrayBuffer:Fd,isBuffer:function(e){return null!==e&&!_d(e)&&null!==e.constructor&&!_d(e.constructor)&&zd(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let n;return e&&("function"==typeof FormData&&e instanceof FormData||zd(e.append)&&("formdata"===(n=Id(e))||"object"===n&&zd(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let n;return n="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Fd(e.buffer),n},isString:Md,isNumber:Bd,isBoolean:e=>!0===e||!1===e,isObject:Ud,isPlainObject:Vd,isReadableStream:Jd,isRequest:Wd,isResponse:Qd,isHeaders:Kd,isUndefined:_d,isDate:qd,isFile:Hd,isBlob:Gd,isRegExp:au,isFunction:zd,isStream:e=>Ud(e)&&zd(e.pipe),isURLSearchParams:Yd,isTypedArray:tu,isFileList:$d,forEach:Xd,merge:function e(){const{caseless:n}=nu(this)&&this||{},t={},r=(r,i)=>{const o=n&&Zd(t,i)||i;Vd(t[o])&&Vd(r)?t[o]=e(t[o],r):Vd(r)?t[o]=e({},r):Rd(r)?t[o]=r.slice():t[o]=r};for(let e=0,n=arguments.length;e<n;e++)arguments[e]&&Xd(arguments[e],r);return t},extend:(e,n,t,{allOwnKeys:r}={})=>(Xd(n,((n,r)=>{t&&zd(n)?e[r]=Ad(n,t):e[r]=n}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},toFlatObject:(e,n,t,r)=>{let i,o,a;const s={};if(n=n||{},null==e)return n;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,n)||s[a]||(n[a]=e[a],s[a]=!0);e=!1!==t&&Dd(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},kindOf:Id,kindOfTest:Nd,endsWith:(e,n,t)=>{e=String(e),(void 0===t||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return-1!==r&&r===t},toArray:e=>{if(!e)return null;if(Rd(e))return e;let n=e.length;if(!Bd(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},forEachEntry:(e,n)=>{const t=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=t.next())&&!r.done;){const t=r.value;n.call(e,t[0],t[1])}},matchAll:(e,n)=>{let t;const r=[];for(;null!==(t=e.exec(n));)r.push(t);return r},isHTMLForm:iu,hasOwnProperty:ou,hasOwnProp:ou,reduceDescriptors:su,freezeMethods:e=>{su(e,((n,t)=>{if(zd(e)&&-1!==["arguments","caller","callee"].indexOf(t))return!1;const r=e[t];zd(r)&&(n.enumerable=!1,"writable"in n?n.writable=!1:n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")}))}))},toObjectSet:(e,n)=>{const t={},r=e=>{e.forEach((e=>{t[e]=!0}))};return Rd(e)?r(e):r(String(e).split(n)),t},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,n,t){return n.toUpperCase()+t})),noop:()=>{},toFiniteNumber:(e,n)=>null!=e&&Number.isFinite(e=+e)?e:n,findKey:Zd,global:eu,isContextDefined:nu,ALPHABET:du,generateString:(e=16,n=du.ALPHA_DIGIT)=>{let t="";const{length:r}=n;for(;e--;)t+=n[Math.random()*r|0];return t},isSpecCompliantForm:function(e){return!!(e&&zd(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const n=new Array(10),t=(e,r)=>{if(Ud(e)){if(n.indexOf(e)>=0)return;if(!("toJSON"in e)){n[r]=e;const i=Rd(e)?[]:{};return Xd(e,((e,n)=>{const o=t(e,r+1);!_d(o)&&(i[n]=o)})),n[r]=void 0,i}}return e};return t(e,0)},isAsyncFn:uu,isThenable:e=>e&&(Ud(e)||zd(e))&&zd(e.then)&&zd(e.catch),setImmediate:pu,asap:gu};function bu(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}yu.inherits(bu,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yu.toJSONObject(this.config),code:this.code,status:this.status}}});const wu=bu.prototype,xu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{xu[e]={value:e}})),Object.defineProperties(bu,xu),Object.defineProperty(wu,"isAxiosError",{value:!0}),bu.from=(e,n,t,r,i,o)=>{const a=Object.create(wu);return yu.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),bu.call(a,e.message,n,t,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const Su=bu;function ku(e){return yu.isPlainObject(e)||yu.isArray(e)}function Eu(e){return yu.endsWith(e,"[]")?e.slice(0,-2):e}function Pu(e,n,t){return e?e.concat(n).map((function(e,n){return e=Eu(e),!t&&n?"["+e+"]":e})).join(t?".":""):n}const Ou=yu.toFlatObject(yu,{},null,(function(e){return/^is[A-Z]/.test(e)})),Cu=function(e,n,t){if(!yu.isObject(e))throw new TypeError("target must be an object");n=n||new FormData;const r=(t=yu.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,n){return!yu.isUndefined(n[e])}))).metaTokens,i=t.visitor||l,o=t.dots,a=t.indexes,s=(t.Blob||"undefined"!=typeof Blob&&Blob)&&yu.isSpecCompliantForm(n);if(!yu.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(yu.isDate(e))return e.toISOString();if(!s&&yu.isBlob(e))throw new Su("Blob is not supported. Use a Buffer instead.");return yu.isArrayBuffer(e)||yu.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,t,i){let s=e;if(e&&!i&&"object"==typeof e)if(yu.endsWith(t,"{}"))t=r?t:t.slice(0,-2),e=JSON.stringify(e);else if(yu.isArray(e)&&function(e){return yu.isArray(e)&&!e.some(ku)}(e)||(yu.isFileList(e)||yu.endsWith(t,"[]"))&&(s=yu.toArray(e)))return t=Eu(t),s.forEach((function(e,r){!yu.isUndefined(e)&&null!==e&&n.append(!0===a?Pu([t],r,o):null===a?t:t+"[]",c(e))})),!1;return!!ku(e)||(n.append(Pu(i,t,o),c(e)),!1)}const d=[],u=Object.assign(Ou,{defaultVisitor:l,convertValue:c,isVisitable:ku});if(!yu.isObject(e))throw new TypeError("data must be an object");return function e(t,r){if(!yu.isUndefined(t)){if(-1!==d.indexOf(t))throw Error("Circular reference detected in "+r.join("."));d.push(t),yu.forEach(t,(function(t,o){!0===(!(yu.isUndefined(t)||null===t)&&i.call(n,t,yu.isString(o)?o.trim():o,r,u))&&e(t,r?r.concat(o):[o])})),d.pop()}}(e),n};function Au(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return n[e]}))}function Tu(e,n){this._pairs=[],e&&Cu(e,this,n)}const Du=Tu.prototype;Du.append=function(e,n){this._pairs.push([e,n])},Du.toString=function(e){const n=e?function(n){return e.call(this,n,Au)}:Au;return this._pairs.map((function(e){return n(e[0])+"="+n(e[1])}),"").join("&")};const Iu=Tu;function ju(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Nu(e,n,t){if(!n)return e;const r=t&&t.encode||ju;yu.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(o=i?i(n,t):yu.isURLSearchParams(n)?n.toString():new Iu(n,t).toString(r),o){const n=e.indexOf("#");-1!==n&&(e=e.slice(0,n)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const Lu=class{constructor(){this.handlers=[]}use(e,n,t){return this.handlers.push({fulfilled:e,rejected:n,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){yu.forEach(this.handlers,(function(n){null!==n&&e(n)}))}},Ru={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_u={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Iu,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Fu="undefined"!=typeof window&&"undefined"!=typeof document,Mu="object"==typeof navigator&&navigator||void 0,zu=Fu&&(!Mu||["ReactNative","NativeScript","NS"].indexOf(Mu.product)<0),Bu="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Uu=Fu&&window.location.href||"http://localhost",Vu={...n,..._u},qu=function(e){function n(e,t,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;return o=!o&&yu.isArray(r)?r.length:o,s?(yu.hasOwnProp(r,o)?r[o]=[r[o],t]:r[o]=t,!a):(r[o]&&yu.isObject(r[o])||(r[o]=[]),n(e,t,r[o],i)&&yu.isArray(r[o])&&(r[o]=function(e){const n={},t=Object.keys(e);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],n[o]=e[o];return n}(r[o])),!a)}if(yu.isFormData(e)&&yu.isFunction(e.entries)){const t={};return yu.forEachEntry(e,((e,r)=>{n(function(e){return yu.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,t,0)})),t}return null},Hu={transitional:Ru,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const t=n.getContentType()||"",r=t.indexOf("application/json")>-1,i=yu.isObject(e);if(i&&yu.isHTMLForm(e)&&(e=new FormData(e)),yu.isFormData(e))return r?JSON.stringify(qu(e)):e;if(yu.isArrayBuffer(e)||yu.isBuffer(e)||yu.isStream(e)||yu.isFile(e)||yu.isBlob(e)||yu.isReadableStream(e))return e;if(yu.isArrayBufferView(e))return e.buffer;if(yu.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return function(e,n){return Cu(e,new Vu.classes.URLSearchParams,Object.assign({visitor:function(e,n,t,r){return Vu.isNode&&yu.isBuffer(e)?(this.append(n,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},n))}(e,this.formSerializer).toString();if((o=yu.isFileList(e))||t.indexOf("multipart/form-data")>-1){const n=this.env&&this.env.FormData;return Cu(o?{"files[]":e}:e,n&&new n,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),function(e){if(yu.isString(e))try{return(0,JSON.parse)(e),yu.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const n=this.transitional||Hu.transitional,t=n&&n.forcedJSONParsing,r="json"===this.responseType;if(yu.isResponse(e)||yu.isReadableStream(e))return e;if(e&&yu.isString(e)&&(t&&!this.responseType||r)){const t=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(t){if("SyntaxError"===e.name)throw Su.from(e,Su.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vu.classes.FormData,Blob:Vu.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};yu.forEach(["delete","get","head","post","put","patch"],(e=>{Hu.headers[e]={}}));const Gu=Hu,$u=yu.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yu=Symbol("internals");function Ju(e){return e&&String(e).trim().toLowerCase()}function Wu(e){return!1===e||null==e?e:yu.isArray(e)?e.map(Wu):String(e)}function Qu(e,n,t,r,i){return yu.isFunction(r)?r.call(this,n,t):(i&&(n=t),yu.isString(n)?yu.isString(r)?-1!==n.indexOf(r):yu.isRegExp(r)?r.test(n):void 0:void 0)}class Ku{constructor(e){e&&this.set(e)}set(e,n,t){const r=this;function i(e,n,t){const i=Ju(n);if(!i)throw new Error("header name must be a non-empty string");const o=yu.findKey(r,i);(!o||void 0===r[o]||!0===t||void 0===t&&!1!==r[o])&&(r[o||n]=Wu(e))}const o=(e,n)=>yu.forEach(e,((e,t)=>i(e,t,n)));if(yu.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(yu.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const n={};let t,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),t=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!t||n[t]&&$u[t]||("set-cookie"===t?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)})),n})(e),n);else if(yu.isHeaders(e))for(const[n,r]of e.entries())i(r,n,t);else null!=e&&i(n,e,t);return this}get(e,n){if(e=Ju(e)){const t=yu.findKey(this,e);if(t){const e=this[t];if(!n)return e;if(!0===n)return function(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}(e);if(yu.isFunction(n))return n.call(this,e,t);if(yu.isRegExp(n))return n.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ju(e)){const t=yu.findKey(this,e);return!(!t||void 0===this[t]||n&&!Qu(0,this[t],t,n))}return!1}delete(e,n){const t=this;let r=!1;function i(e){if(e=Ju(e)){const i=yu.findKey(t,e);!i||n&&!Qu(0,t[i],i,n)||(delete t[i],r=!0)}}return yu.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let t=n.length,r=!1;for(;t--;){const i=n[t];e&&!Qu(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const n=this,t={};return yu.forEach(this,((r,i)=>{const o=yu.findKey(t,i);if(o)return n[o]=Wu(r),void delete n[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,n,t)=>n.toUpperCase()+t))}(i):String(i).trim();a!==i&&delete n[i],n[a]=Wu(r),t[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return yu.forEach(this,((t,r)=>{null!=t&&!1!==t&&(n[r]=e&&yu.isArray(t)?t.join(", "):t)})),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,n])=>e+": "+n)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const t=new this(e);return n.forEach((e=>t.set(e))),t}static accessor(e){const n=(this[Yu]=this[Yu]={accessors:{}}).accessors,t=this.prototype;function r(e){const r=Ju(e);n[r]||(function(e,n){const t=yu.toCamelCase(" "+n);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+t,{value:function(e,t,i){return this[r].call(this,n,e,t,i)},configurable:!0})}))}(t,e),n[r]=!0)}return yu.isArray(e)?e.forEach(r):r(e),this}}Ku.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),yu.reduceDescriptors(Ku.prototype,(({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(e){this[t]=e}}})),yu.freezeMethods(Ku);const Xu=Ku;function Zu(e,n){const t=this||Gu,r=n||t,i=Xu.from(r.headers);let o=r.data;return yu.forEach(e,(function(e){o=e.call(t,o,i.normalize(),n?n.status:void 0)})),i.normalize(),o}function ep(e){return!(!e||!e.__CANCEL__)}function np(e,n,t){Su.call(this,null==e?"canceled":e,Su.ERR_CANCELED,n,t),this.name="CanceledError"}yu.inherits(np,Su,{__CANCEL__:!0});const tp=np;function rp(e,n,t){const r=t.config.validateStatus;t.status&&r&&!r(t.status)?n(new Su("Request failed with status code "+t.status,[Su.ERR_BAD_REQUEST,Su.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t)):e(t)}const ip=(e,n,t=3)=>{let r=0;const i=function(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i,o=0,a=0;return n=void 0!==n?n:1e3,function(s){const c=Date.now(),l=r[a];i||(i=c),t[o]=s,r[o]=c;let d=a,u=0;for(;d!==o;)u+=t[d++],d%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<n)return;const p=l&&c-l;return p?Math.round(1e3*u/p):void 0}}(50,250);return function(e,n){let t,r,i=0,o=1e3/n;const a=(n,o=Date.now())=>{i=o,t=null,r&&(clearTimeout(r),r=null),e.apply(null,n)};return[(...e)=>{const n=Date.now(),s=n-i;s>=o?a(e,n):(t=e,r||(r=setTimeout((()=>{r=null,a(t)}),o-s)))},()=>t&&a(t)]}((t=>{const o=t.loaded,a=t.lengthComputable?t.total:void 0,s=o-r,c=i(s);r=o,e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&o<=a?(a-o)/c:void 0,event:t,lengthComputable:null!=a,[n?"download":"upload"]:!0})}),t)},op=(e,n)=>{const t=null!=e;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},ap=e=>(...n)=>yu.asap((()=>e(...n))),sp=Vu.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,Vu.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(Vu.origin),Vu.navigator&&/(msie|trident)/i.test(Vu.navigator.userAgent)):()=>!0,cp=Vu.hasStandardBrowserEnv?{write(e,n,t,r,i,o){const a=[e+"="+encodeURIComponent(n)];yu.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),yu.isString(r)&&a.push("path="+r),yu.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function lp(e,n){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)?function(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}(e,n):n}const dp=e=>e instanceof Xu?{...e}:e;function up(e,n){n=n||{};const t={};function r(e,n,t,r){return yu.isPlainObject(e)&&yu.isPlainObject(n)?yu.merge.call({caseless:r},e,n):yu.isPlainObject(n)?yu.merge({},n):yu.isArray(n)?n.slice():n}function i(e,n,t,i){return yu.isUndefined(n)?yu.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,n,0,i)}function o(e,n){if(!yu.isUndefined(n))return r(void 0,n)}function a(e,n){return yu.isUndefined(n)?yu.isUndefined(e)?void 0:r(void 0,e):r(void 0,n)}function s(t,i,o){return o in n?r(t,i):o in e?r(void 0,t):void 0}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,n,t)=>i(dp(e),dp(n),0,!0)};return yu.forEach(Object.keys(Object.assign({},e,n)),(function(r){const o=c[r]||i,a=o(e[r],n[r],r);yu.isUndefined(a)&&o!==s||(t[r]=a)})),t}const pp=e=>{const n=up({},e);let t,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:c}=n;if(n.headers=s=Xu.from(s),n.url=Nu(lp(n.baseURL,n.url),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),yu.isFormData(r))if(Vu.hasStandardBrowserEnv||Vu.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(t=s.getContentType())){const[e,...n]=t?t.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...n].join("; "))}if(Vu.hasStandardBrowserEnv&&(i&&yu.isFunction(i)&&(i=i(n)),i||!1!==i&&sp(n.url))){const e=o&&a&&cp.read(a);e&&s.set(o,e)}return n},hp="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(n,t){const r=pp(e);let i=r.data;const o=Xu.from(r.headers).normalize();let a,s,c,l,d,{responseType:u,onUploadProgress:p,onDownloadProgress:h}=r;function f(){l&&l(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function v(){if(!m)return;const r=Xu.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());rp((function(e){n(e),f()}),(function(e){t(e),f()}),{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(v)},m.onabort=function(){m&&(t(new Su("Request aborted",Su.ECONNABORTED,e,m)),m=null)},m.onerror=function(){t(new Su("Network Error",Su.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let n=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||Ru;r.timeoutErrorMessage&&(n=r.timeoutErrorMessage),t(new Su(n,i.clarifyTimeoutError?Su.ETIMEDOUT:Su.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&yu.forEach(o.toJSON(),(function(e,n){m.setRequestHeader(n,e)})),yu.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),u&&"json"!==u&&(m.responseType=r.responseType),h&&([c,d]=ip(h,!0),m.addEventListener("progress",c)),p&&m.upload&&([s,l]=ip(p),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",l)),(r.cancelToken||r.signal)&&(a=n=>{m&&(t(!n||n.type?new tp(null,e,m):n),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const g=function(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}(r.url);g&&-1===Vu.protocols.indexOf(g)?t(new Su("Unsupported protocol "+g+":",Su.ERR_BAD_REQUEST,e)):m.send(i||null)}))},fp=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let t,r=new AbortController;const i=function(e){if(!t){t=!0,a();const n=e instanceof Error?e:this.reason;r.abort(n instanceof Su?n:new tp(n instanceof Error?n.message:n))}};let o=n&&setTimeout((()=>{o=null,i(new Su(`timeout ${n} of ms exceeded`,Su.ETIMEDOUT))}),n);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=()=>yu.asap(a),s}},mp=function*(e,n){let t=e.byteLength;if(!n||t<n)return void(yield e);let r,i=0;for(;i<t;)r=i+n,yield e.slice(i,r),i=r},vp=(e,n,t,r)=>{const i=async function*(e,n){for await(const t of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const n=e.getReader();try{for(;;){const{done:e,value:t}=await n.read();if(e)break;yield t}}finally{await n.cancel()}}(e))yield*mp(t,n)}(e,n);let o,a=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:n,value:r}=await i.next();if(n)return s(),void e.close();let o=r.byteLength;if(t){let e=a+=o;t(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},gp="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,yp=gp&&"function"==typeof ReadableStream,bp=gp&&("function"==typeof TextEncoder?(wp=new TextEncoder,e=>wp.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var wp;const xp=(e,...n)=>{try{return!!e(...n)}catch(e){return!1}},Sp=yp&&xp((()=>{let e=!1;const n=new Request(Vu.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n})),kp=yp&&xp((()=>yu.isReadableStream(new Response("").body))),Ep={stream:kp&&(e=>e.body)};var Pp;gp&&(Pp=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ep[e]&&(Ep[e]=yu.isFunction(Pp[e])?n=>n[e]():(n,t)=>{throw new Su(`Response type '${e}' is not supported`,Su.ERR_NOT_SUPPORT,t)})})));const Op={http:null,xhr:hp,fetch:gp&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:d,withCredentials:u="same-origin",fetchOptions:p}=pp(e);l=l?(l+"").toLowerCase():"text";let h,f=fp([i,o&&o.toAbortSignal()],a);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let v;try{if(c&&Sp&&"get"!==t&&"head"!==t&&0!==(v=await(async(e,n)=>{const t=yu.toFiniteNumber(e.getContentLength());return null==t?(async e=>{if(null==e)return 0;if(yu.isBlob(e))return e.size;if(yu.isSpecCompliantForm(e)){const n=new Request(Vu.origin,{method:"POST",body:e});return(await n.arrayBuffer()).byteLength}return yu.isArrayBufferView(e)||yu.isArrayBuffer(e)?e.byteLength:(yu.isURLSearchParams(e)&&(e+=""),yu.isString(e)?(await bp(e)).byteLength:void 0)})(n):t})(d,r))){let e,t=new Request(n,{method:"POST",body:r,duplex:"half"});if(yu.isFormData(r)&&(e=t.headers.get("content-type"))&&d.setContentType(e),t.body){const[e,n]=op(v,ip(ap(c)));r=vp(t.body,65536,e,n)}}yu.isString(u)||(u=u?"include":"omit");const i="credentials"in Request.prototype;h=new Request(n,{...p,signal:f,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:i?u:void 0});let o=await fetch(h);const a=kp&&("stream"===l||"response"===l);if(kp&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((n=>{e[n]=o[n]}));const n=yu.toFiniteNumber(o.headers.get("content-length")),[t,r]=s&&op(n,ip(ap(s),!0))||[];o=new Response(vp(o.body,65536,t,(()=>{r&&r(),m&&m()})),e)}l=l||"text";let g=await Ep[yu.findKey(Ep,l)||"text"](o,e);return!a&&m&&m(),await new Promise(((n,t)=>{rp(n,t,{data:g,headers:Xu.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:h})}))}catch(n){if(m&&m(),n&&"TypeError"===n.name&&/fetch/i.test(n.message))throw Object.assign(new Su("Network Error",Su.ERR_NETWORK,e,h),{cause:n.cause||n});throw Su.from(n,n&&n.code,e,h)}})};yu.forEach(Op,((e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch(e){}Object.defineProperty(e,"adapterName",{value:n})}}));const Cp=e=>`- ${e}`,Ap=e=>yu.isFunction(e)||null===e||!1===e,Tp=e=>{e=yu.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let o=0;o<n;o++){let n;if(t=e[o],r=t,!Ap(t)&&(r=Op[(n=String(t)).toLowerCase()],void 0===r))throw new Su(`Unknown adapter '${n}'`);if(r)break;i[n||"#"+o]=r}if(!r){const e=Object.entries(i).map((([e,n])=>`adapter ${e} `+(!1===n?"is not supported by the environment":"is not available in the build")));let t=n?e.length>1?"since :\n"+e.map(Cp).join("\n"):" "+Cp(e[0]):"as no adapter specified";throw new Su("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r};function Dp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new tp(null,e)}function Ip(e){return Dp(e),e.headers=Xu.from(e.headers),e.data=Zu.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Tp(e.adapter||Gu.adapter)(e).then((function(n){return Dp(e),n.data=Zu.call(e,e.transformResponse,n),n.headers=Xu.from(n.headers),n}),(function(n){return ep(n)||(Dp(e),n&&n.response&&(n.response.data=Zu.call(e,e.transformResponse,n.response),n.response.headers=Xu.from(n.response.headers))),Promise.reject(n)}))}const jp={};["object","boolean","number","function","string","symbol"].forEach(((e,n)=>{jp[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}}));const Np={};jp.transitional=function(e,n,t){function r(e,n){return"[Axios v1.7.9] Transitional option '"+e+"'"+n+(t?". "+t:"")}return(t,i,o)=>{if(!1===e)throw new Su(r(i," has been removed"+(n?" in "+n:"")),Su.ERR_DEPRECATED);return n&&!Np[i]&&(Np[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),!e||e(t,i,o)}},jp.spelling=function(e){return(n,t)=>(console.warn(`${t} is likely a misspelling of ${e}`),!0)};const Lp={assertOptions:function(e,n,t){if("object"!=typeof e)throw new Su("options must be an object",Su.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=n[o];if(a){const n=e[o],t=void 0===n||a(n,o,e);if(!0!==t)throw new Su("option "+o+" must be "+t,Su.ERR_BAD_OPTION_VALUE)}else if(!0!==t)throw new Su("Unknown option "+o,Su.ERR_BAD_OPTION)}},validators:jp},Rp=Lp.validators;class _p{constructor(e){this.defaults=e,this.interceptors={request:new Lu,response:new Lu}}async request(e,n){try{return await this._request(e,n)}catch(e){if(e instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const t=n.stack?n.stack.replace(/^.+\n/,""):"";try{e.stack?t&&!String(e.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+t):e.stack=t}catch(e){}}throw e}}_request(e,n){"string"==typeof e?(n=n||{}).url=e:n=e||{},n=up(this.defaults,n);const{transitional:t,paramsSerializer:r,headers:i}=n;void 0!==t&&Lp.assertOptions(t,{silentJSONParsing:Rp.transitional(Rp.boolean),forcedJSONParsing:Rp.transitional(Rp.boolean),clarifyTimeoutError:Rp.transitional(Rp.boolean)},!1),null!=r&&(yu.isFunction(r)?n.paramsSerializer={serialize:r}:Lp.assertOptions(r,{encode:Rp.function,serialize:Rp.function},!0)),Lp.assertOptions(n,{baseUrl:Rp.spelling("baseURL"),withXsrfToken:Rp.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&yu.merge(i.common,i[n.method]);i&&yu.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),n.headers=Xu.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(n)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let d,u=0;if(!s){const e=[Ip.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,c),d=e.length,l=Promise.resolve(n);u<d;)l=l.then(e[u++],e[u++]);return l}d=a.length;let p=n;for(u=0;u<d;){const e=a[u++],n=a[u++];try{p=e(p)}catch(e){n.call(this,e);break}}try{l=Ip.call(this,p)}catch(e){return Promise.reject(e)}for(u=0,d=c.length;u<d;)l=l.then(c[u++],c[u++]);return l}getUri(e){return Nu(lp((e=up(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}yu.forEach(["delete","get","head","options"],(function(e){_p.prototype[e]=function(n,t){return this.request(up(t||{},{method:e,url:n,data:(t||{}).data}))}})),yu.forEach(["post","put","patch"],(function(e){function n(n){return function(t,r,i){return this.request(up(i||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:t,data:r}))}}_p.prototype[e]=n(),_p.prototype[e+"Form"]=n(!0)}));const Fp=_p;class Mp{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let n;this.promise=new Promise((function(e){n=e}));const t=this;this.promise.then((e=>{if(!t._listeners)return;let n=t._listeners.length;for(;n-- >0;)t._listeners[n](e);t._listeners=null})),this.promise.then=e=>{let n;const r=new Promise((e=>{t.subscribe(e),n=e})).then(e);return r.cancel=function(){t.unsubscribe(n)},r},e((function(e,r,i){t.reason||(t.reason=new tp(e,r,i),n(t.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);-1!==n&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=n=>{e.abort(n)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;const n=new Mp((function(n){e=n}));return{token:n,cancel:e}}}const zp=Mp,Bp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bp).forEach((([e,n])=>{Bp[n]=e}));const Up=Bp,Vp=function e(n){const t=new Fp(n),r=Ad(Fp.prototype.request,t);return yu.extend(r,Fp.prototype,t,{allOwnKeys:!0}),yu.extend(r,t,null,{allOwnKeys:!0}),r.create=function(t){return e(up(n,t))},r}(Gu);Vp.Axios=Fp,Vp.CanceledError=tp,Vp.CancelToken=zp,Vp.isCancel=ep,Vp.VERSION="1.7.9",Vp.toFormData=Cu,Vp.AxiosError=Su,Vp.Cancel=Vp.CanceledError,Vp.all=function(e){return Promise.all(e)},Vp.spread=function(e){return function(n){return e.apply(null,n)}},Vp.isAxiosError=function(e){return yu.isObject(e)&&!0===e.isAxiosError},Vp.mergeConfig=up,Vp.AxiosHeaders=Xu,Vp.formToJSON=e=>qu(yu.isHTMLForm(e)?new FormData(e):e),Vp.getAdapter=Tp,Vp.HttpStatusCode=Up,Vp.default=Vp;const qp=Vp;function Hp(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(s.push(r.value),s.length!==n);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return Gp(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Gp(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gp(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function $p(e){return $p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(e)}function Yp(){Yp=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==$p(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError($p(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function Jp(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function Wp(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){Jp(o,r,i,a,s,"next",e)}function s(e){Jp(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Qp(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Kp(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Qp(Object(t),!0).forEach((function(n){Xp(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qp(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Xp(e,n,t){return(n=eh(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Zp(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eh(r.key),r)}}function eh(e){var n=function(e){if("object"!=$p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=$p(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$p(n)?n:n+""}var nh=function(){return function(e,n){return n&&Zp(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.FHIR.SendMessage;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t,this.axiosInstance=qp.create({baseURL:this.baseUrl,headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:3e4,transformResponse:[function(e){return e}],withCredentials:!1,maxRedirects:5}),this.axiosInstance.interceptors.request.use((function(e){var t=Date.now().toString();return e.headers["X-Request-ID"]=t,e.data&&(e.data=n.processDatesInResource(e.data)),console.log("[".concat(t,"] FHIR Request:"),{url:e.url,method:e.method,headers:e.headers,data:e.data}),e})),this.axiosInstance.interceptors.response.use((function(e){var t=e.config.headers["X-Request-ID"];console.log("[".concat(t,"] FHIR Response:"),{status:e.status,headers:e.headers,data:e.data});try{var r="string"==typeof e.data?JSON.parse(e.data):e.data;if("isSuccessfull"in r){if(!r.isSuccessfull)throw new Error(r.errorMessage||"API request failed");if(!r.dynamicResult)throw new Error("No dynamicResult in API response");return n.processFhirResource(r.dynamicResult)}return n.processFhirResource(r)}catch(e){throw console.error("[".concat(t,"] Error parsing FHIR response:"),e),new Error("Invalid FHIR response: ".concat(e.message))}}),(function(e){var n,t,r=null===(n=e.config)||void 0===n?void 0:n.headers["X-Request-ID"];if(console.error("[".concat(r,"] FHIR request failed:"),e),null!==(t=e.response)&&void 0!==t&&t.data){var i="string"==typeof e.response.data?JSON.parse(e.response.data):e.response.data;if("isSuccessfull"in i&&!i.isSuccessfull){var o={resourceType:"OperationOutcome",issue:[{severity:"error",code:"processing",diagnostics:i.errorMessage||"Unknown error",details:{text:i.errorStackTrace||""}}]};return Promise.reject({resourceType:"Bundle",type:"collection",entry:[{resource:o}]})}}return Promise.reject(e)}))}),[{key:"createHeaders",value:function(){var e=Kp({"Content-Type":"application/fhir+json",Accept:"application/fhir+json"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),n=localStorage.getItem("auth_token");return n&&(e.Authorization="Bearer ".concat(n)),e}},{key:"handleStreamingResponse",value:(l=Wp(Yp().mark((function e(n){var t,r,i,o,a,s;return Yp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.body.getReader(),r=new TextDecoder,i="";case 3:return e.next=6,t.read();case 6:if(o=e.sent,a=o.done,s=o.value,!a){e.next=11;break}return e.abrupt("break",14);case 11:i+=r.decode(s,{stream:!0}),e.next=3;break;case 14:return i+=r.decode(),e.prev=15,e.abrupt("return",JSON.parse(i));case 19:throw e.prev=19,e.t0=e.catch(15),console.error("Error parsing FHIR response:",e.t0),new Error("Invalid FHIR response format");case 23:case"end":return e.stop()}}),e,null,[[15,19]])}))),function(e){return l.apply(this,arguments)})},{key:"formatFhirDate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var t=new Date(e);if(isNaN(t.getTime()))throw new Error("Invalid date");var r=t.toISOString().split("T")[0];return n?t.toISOString():r}catch(n){return console.error("Error formatting date:",e,n),e}}},{key:"processDatesInResource",value:function(e){var n=this;if("string"==typeof e)try{e=JSON.parse(e)}catch(n){return e}var t=["birthDate","date","issued","recorded","lastUpdated"],r=["timestamp","period.start","period.end","effectiveDateTime"],i=Kp({},e);return Object.entries(i).forEach((function(e){var o=Hp(e,2),a=o[0],s=o[1];t.includes(a)?i[a]=n.formatFhirDate(s,!1):r.includes(a)?i[a]=n.formatFhirDate(s,!0):i[a]=function(e){return Array.isArray(e)?e.map((function(e){return n.processDatesInResource(e)})):"object"===$p(e)&&null!==e?n.processDatesInResource(e):e}(s)})),i}},{key:"processFhirResource",value:function(e){var n=this;if(!e||"object"!==$p(e))return e;if(Array.isArray(e))return e.map((function(e){return n.processFhirResource(e)}));for(var t={},r=0,i=Object.entries(e);r<i.length;r++){var o=Hp(i[r],2),a=o[0],s=o[1];s&&"object"===$p(s)?"value"in s?t[a]=s.value:Array.isArray(s)?t[a]=s.map((function(e){return n.processFhirResource(e)})):t[a]=this.processFhirResource(s):t[a]=s}return t}},{key:"request",value:(c=Wp(Yp().mark((function e(n){var t,r,i,o,a=arguments;return Yp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:{},e.prev=1,r=n===this.baseUrl?"":n,i={url:r,method:t.method||"GET",headers:Kp(Kp({},this.axiosInstance.defaults.headers),t.headers)},t.body&&(o=this.processDatesInResource(t.body),i.data="string"==typeof o?o:JSON.stringify(o)),e.next=7,this.axiosInstance(i);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),console.error("FHIR request error:",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,10]])}))),function(e){return c.apply(this,arguments)})},{key:"search",value:(s=Wp(Yp().mark((function e(n){var t,r=arguments;return Yp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(r.length>1&&void 0!==r[1]?r[1]:{}),e.abrupt("return",this.request("/".concat(n,"/_search?").concat(t.toString()),{method:"POST"}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"create",value:(a=Wp(Yp().mark((function e(n,t){return Yp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request("/".concat(n),{method:"POST",body:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return a.apply(this,arguments)})},{key:"update",value:(o=Wp(Yp().mark((function e(n,t,r){return Yp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request("/".concat(n,"/").concat(t),{method:"PUT",body:JSON.stringify(r)}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n,t){return o.apply(this,arguments)})},{key:"read",value:(i=Wp(Yp().mark((function e(n,t){return Yp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request("/".concat(n,"/").concat(t)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return i.apply(this,arguments)})},{key:"delete",value:(r=Wp(Yp().mark((function e(n,t){return Yp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request("/".concat(n,"/").concat(t),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return r.apply(this,arguments)})},{key:"transaction",value:(t=Wp(Yp().mark((function e(n){return Yp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.processMessage(n));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"processMessage",value:(n=Wp(Yp().mark((function e(n){return Yp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.resourceType&&"Bundle"===n.resourceType){e.next=2;break}throw new Error("Invalid FHIR Bundle - missing or incorrect resourceType");case 2:if("message"===n.type){e.next=4;break}throw new Error("Bundle must be of type 'message' for $process-message operation");case 4:return e.prev=4,e.next=7,this.request(this.baseUrl,{method:"POST",body:n});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),console.error("Error processing FHIR message:",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return n.apply(this,arguments)})},{key:"operation",value:(e=Wp(Yp().mark((function e(n,t){var r,i=arguments;return Yp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},e.abrupt("return",this.request("/".concat(n,"/$").concat(t),{method:"POST",body:r}));case 2:case"end":return e.stop()}}),e,this)}))),function(n,t){return e.apply(this,arguments)})},{key:"cancelRequest",value:function(e){var n=this.abortControllers.get(e);n&&(n.abort(),this.abortControllers.delete(e))}}]);var e,n,t,r,i,o,a,s,c,l}();const th=new nh;function rh(e){return rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(e)}var ih,oh,ah,sh,ch,lh,dh,uh,ph,hh,fh,mh,vh,gh,yh,bh,wh,xh,Sh,kh,Eh,Ph,Oh,Ch,Ah,Th,Dh,Ih,jh,Nh,Lh,Rh,_h,Fh,Mh,zh,Bh,Uh,Vh,qh,Hh,Gh;function $h(){$h=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==rh(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(rh(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function Yh(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function Jh(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){Yh(o,r,i,a,s,"next",e)}function s(e){Yh(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Wh(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Qh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kh(r.key),r)}}function Kh(e){var n=function(e){if("object"!=rh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=rh(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rh(n)?n:n+""}function Xh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xh=function(){return!!e})()}function Zh(e){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zh(e)}function ef(e,n){return ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},ef(e,n)}function nf(e){return nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(e)}function tf(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function rf(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?tf(Object(t),!0).forEach((function(n){of(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tf(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function of(e,n,t){return(n=df(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function af(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function sf(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(s.push(r.value),s.length!==n);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return cf(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?cf(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cf(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function lf(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,df(r.key),r)}}function df(e){var n=function(e){if("object"!=nf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=nf(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nf(n)?n:n+""}function uf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uf=function(){return!!e})()}function pf(e,n,t,r){var i=hf(ff(1&r?e.prototype:e),n,t);return 2&r&&"function"==typeof i?function(e){return i.apply(t,e)}:i}function hf(){return hf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,n,t){var r=function(e,n){for(;!{}.hasOwnProperty.call(e,n)&&null!==(e=ff(e)););return e}(e,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(arguments.length<3?e:t):i.value}},hf.apply(null,arguments)}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ff(e)}function mf(e,n){return mf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},mf(e,n)}function vf(e){return vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(e)}function gf(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function yf(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function bf(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?yf(Object(t),!0).forEach((function(n){wf(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yf(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function wf(e,n,t){return(n=Of(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function xf(){xf=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==vf(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(vf(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function Sf(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function kf(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Ef(e,n,t,r){t&&Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function Pf(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Of(r.key),r)}}function Of(e){var n=function(e){if("object"!=vf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=vf(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vf(n)?n:n+""}function Cf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Cf=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Af(e)}function Tf(e,n){return Tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},Tf(e,n)}function Df(e,n,t,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce((function(t,r){return r(e,n,t)||t}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,n,o),null):o}En("eligibility-section")((ih=function(e){function n(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,n,t){return n=Zh(n),function(e,n){if(n&&("object"==rh(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xh()?Reflect.construct(n,t||[],Zh(e).constructor):n.apply(e,t))}(this,n)).eligibility=null,e.coverage=null,e.patient=null,e.visit=null,e.isLoading=!1,e.error=null,e.facilityLicense="",e.insuranceLicense="",e.providerLicense="",e.serviceDateFrom=(new Date).toISOString().split("T")[0],e.serviceDateTo=new Date(Date.now()+864e5).toISOString().split("T")[0],e.isTestMode=!1,e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&ef(e,n)}(n,e),function(e,n,t){return n&&Qh(e.prototype,n),t&&Qh(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"render",value:function(){var e=this;return this.patient&&this.visit?U(ah||(ah=Wh(['\n            <div class="license-inputs">\n                <div class="license-title">Required License Information</div>\n                <div class="form-row">\n                    <div class="form-group">\n                        <label class="form-label">Provider License (PR-FHIR)</label>\n                        <input \n                            type="text" \n                            class="form-control"\n                            .value=',"\n                            @input=",'\n                            placeholder="Enter provider license"\n                        >\n                    </div>\n                    <div class="form-group">\n                        <label class="form-label">Facility License (GACH)</label>\n                        <input \n                            type="text" \n                            class="form-control"\n                            .value=',"\n                            @input=",'\n                            placeholder="Enter facility license"\n                        >\n                    </div>\n                    <div class="form-group">\n                        <label class="form-label">Insurance License (INS-FHIR)</label>\n                        <input \n                            type="text" \n                            class="form-control"\n                            .value=',"\n                            @input=",'\n                            placeholder="Enter insurance license"\n                        >\n                    </div>\n                </div>\n                <div class="form-row">\n                    <div class="form-group">\n                        <label class="form-label">Service Date Range</label>\n                        <div class="date-inputs">\n                            <input \n                                type="date" \n                                class="form-control"\n                                .value=',"\n                                @input=",'\n                            >\n                            <input \n                                type="date" \n                                class="form-control"\n                                .value=',"\n                                @input=",'\n                            >\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="eligibility-grid">\n                ',"\n                ","\n                ","\n            </div>\n\n            ","\n\n            ","\n        "])),this.providerLicense,(function(n){return e.providerLicense=n.target.value}),this.facilityLicense,(function(n){return e.facilityLicense=n.target.value}),this.insuranceLicense,(function(n){return e.insuranceLicense=n.target.value}),this.serviceDateFrom,(function(n){return e.serviceDateFrom=n.target.value}),this.serviceDateTo,(function(n){return e.serviceDateTo=n.target.value}),this.renderCoverageCard(),this.renderBenefitsCard(),this.renderLimitsCard(),this.eligibility?"":U(sh||(sh=Wh(['\n                <div class="button-group">\n                    <button class="button button-primary check-eligibility-btn"\n                            ?disabled=',"\n                            @click=",">\n                        ",'\n                    </button>\n                    <button class="button test-button"\n                            ?disabled=',"\n                            @click=",">\n                        Run Test Request\n                    </button>\n                </div>\n            "])),!this.isFormValid()||this.isLoading,this.checkEligibility,this.isLoading?"Checking Eligibility...":"Check Latest Eligibility",this.isLoading,this.runTestEligibility),this.error?U(ch||(ch=Wh(['\n                <div class="error-message">\n                    ',"\n                </div>\n            "])),this.error):""):U(oh||(oh=Wh(['\n                <div class="empty-state">\n                    <p>Please select a patient and visit to view eligibility information.</p>\n                </div>\n            '])))}},{key:"isFormValid",value:function(){return this.patient&&this.visit&&this.facilityLicense&&this.insuranceLicense&&this.providerLicense&&this.serviceDateFrom&&this.serviceDateTo}},{key:"formatPhoneNumber",value:function(e){if(!e)return"";var n=e.replace(/\D/g,"");return n.startsWith("966")?"+".concat(n):"+966".concat(n.replace(/^0+/,""))}},{key:"formatPatientName",value:function(e){return[e.firstName,e.middleName,e.lastName].filter(Boolean).join(" ")}},{key:"checkEligibility",value:(r=Jh($h().mark((function e(){var n,t,r,i,o,a,s,c,l;return $h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isFormValid()){e.next=3;break}return this.error="Please fill in all required fields",e.abrupt("return");case 3:return this.isLoading=!0,this.error=null,e.prev=5,i=crypto.randomUUID(),o=crypto.randomUUID(),a=this.patient.id,s={messageHeaderId:o,requestId:i,focusReference:"http://provider.com/CoverageEligibilityRequest/".concat(i),meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/bundle|1.0.0","http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/message-header|1.0.0","http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/eligibility-request|1.0.0"]},patient:{id:a,reference:"Patient/".concat(a),identifier:this.patient.pinNo,fullName:this.formatPatientName(this.patient),familyName:this.patient.lastName,givenNames:[this.patient.firstName,this.patient.middleName].filter(Boolean),phone:this.formatPhoneNumber(this.patient.cellPhoneNo),gender:(this.patient.gender.genderName||"unknown").toLowerCase(),birthDate:this.patient.dateOfBirth,occupation:"student"},provider:{id:this.providerLicense,reference:"Organization/".concat(this.providerLicense),license:this.providerLicense,name:(null===(n=this.visit.facility)||void 0===n?void 0:n.name)||"Saudi General Clinic",endpoint:"http://provider.com",typeCode:"5",typeDisplay:"Clinic"},insurer:{id:this.insuranceLicense,reference:"Organization/".concat(this.insuranceLicense),license:this.insuranceLicense,name:(null===(t=this.patient.patientInsurances)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.payer)||void 0===t?void 0:t.companyName)||"Test Payer",endpoint:"http://nphies.sa/license/payer-license/INS-FHIR"},facility:{id:this.facilityLicense,reference:"Location/".concat(this.facilityLicense),license:this.facilityLicense,name:(null===(r=this.visit.facility)||void 0===r?void 0:r.name)||"Test Provider",type:"GACH"},serviceDate:{start:new Date(this.serviceDateFrom).toISOString().split("T")[0],end:new Date(this.serviceDateTo).toISOString().split("T")[0]}},c=Cd.createRequest(s),console.log("Generated FHIR Bundle:",c),e.next=14,th.processMessage(c);case 14:if("success"!==(l=e.sent).messageType){e.next=19;break}this.dispatchEvent(new CustomEvent("eligibility-checked",{detail:{eligibility:l.eligibility,coverage:l.coverage,requestBundle:c,responseBundle:l.bundle},bubbles:!0,composed:!0})),e.next=20;break;case 19:throw new Error(l.message||"Failed to check eligibility");case 20:e.next=27;break;case 22:e.prev=22,e.t0=e.catch(5),console.error("Error checking eligibility:",e.t0),this.error=e.t0.message,this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:e.t0.message,type:"error"},bubbles:!0,composed:!0}));case 27:return e.prev=27,this.isLoading=!1,e.finish(27);case 30:case"end":return e.stop()}}),e,this,[[5,22,27,30]])}))),function(){return r.apply(this,arguments)})},{key:"runTestEligibility",value:(t=Jh($h().mark((function e(){var n,t,r,i,o;return $h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,this.error=null,this.isTestMode=!0,e.prev=3,n=crypto.randomUUID(),t=crypto.randomUUID(),r={messageHeaderId:t,requestId:n,focusReference:"http://provider.com/CoverageEligibilityRequest/".concat(n),meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/bundle|1.0.0","http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/message-header|1.0.0","http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/eligibility-request|1.0.0"]},patient:{id:"test-patient-001",reference:"Patient/test-patient-001",identifier:"1234567890",fullName:"Test Patient",familyName:"Patient",givenNames:["Test"],phone:"+966500000000",gender:"male",birthDate:"1990-01-01",occupation:"student"},provider:{id:"PR-FHIR",reference:"Organization/PR-FHIR",license:"PR-FHIR",name:"Test Provider Organization",endpoint:"http://provider.com",typeCode:"5",typeDisplay:"Clinic"},insurer:{id:"INS-FHIR",reference:"Organization/INS-FHIR",license:"INS-FHIR",name:"Test Insurance Company",endpoint:"http://nphies.sa/license/payer-license/INS-FHIR"},facility:{id:"GACH",reference:"Location/GACH",license:"GACH",name:"Test Facility",type:"GACH"},serviceDate:{start:(new Date).toISOString().split("T")[0],end:new Date(Date.now()+864e5).toISOString().split("T")[0]}},i=Cd.createRequest(r),console.log("Generated Test FHIR Bundle:",i),e.next=11,th.processMessage(i);case 11:if("success"!==(o=e.sent).messageType){e.next=16;break}this.dispatchEvent(new CustomEvent("eligibility-checked",{detail:{eligibility:o.eligibility,coverage:o.coverage,requestBundle:i,responseBundle:o.bundle,isTestMode:!0},bubbles:!0,composed:!0})),e.next=17;break;case 16:throw new Error(o.message||"Failed to check test eligibility");case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(3),console.error("Error running test eligibility:",e.t0),this.error="Test Error: ".concat(e.t0.message),this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:"Test Error: ".concat(e.t0.message),type:"error"},bubbles:!0,composed:!0}));case 24:return e.prev=24,this.isLoading=!1,this.isTestMode=!1,e.finish(24);case 28:case"end":return e.stop()}}),e,this,[[3,19,24,28]])}))),function(){return t.apply(this,arguments)})},{key:"renderCoverageCard",value:function(){var e,n=this.coverage||(null===(e=this.patient)||void 0===e?void 0:e.coverageDetails);return n?U(lh||(lh=Wh(['\n            <div class="eligibility-card">\n                <div class="card-header">\n                    <span class="card-icon"></span>\n                    <div>\n                        <div class="card-title">Coverage Information</div>\n                        <div class="card-subtitle">Insurance Details</div>\n                    </div>\n                </div>\n                <div class="info-grid">\n                    <div class="info-item">\n                        <span class="info-label">Coverage Type</span>\n                        <span class="info-value">','</span>\n                    </div>\n                    <div class="info-item">\n                        <span class="info-label">Network Type</span>\n                        <span class="info-value">','</span>\n                    </div>\n                    <div class="info-item">\n                        <span class="info-label">Plan Name</span>\n                        <span class="info-value">','</span>\n                    </div>\n                    <div class="info-item">\n                        <span class="info-label">Group Name</span>\n                        <span class="info-value">','</span>\n                    </div>\n                    <div class="info-item">\n                        <span class="info-label">Effective Date</span>\n                        <span class="info-value">','</span>\n                    </div>\n                    <div class="info-item">\n                        <span class="info-label">Expiry Date</span>\n                        <span class="info-value">',"</span>\n                    </div>\n                </div>\n            </div>\n        "])),n.type,n.network,n.planName,n.groupName,this.formatDate(n.startDate),this.formatDate(n.endDate)):""}},{key:"renderBenefitsCard",value:function(){var e,n,t=this.coverage||(null===(e=this.patient)||void 0===e?void 0:e.coverageDetails);return t?U(dh||(dh=Wh(['\n            <div class="eligibility-card">\n                <div class="card-header">\n                    <span class="card-icon"></span>\n                    <div>\n                        <div class="card-title">Benefits</div>\n                        <div class="card-subtitle">Coverage Benefits</div>\n                    </div>\n                </div>\n                <div class="info-grid">\n                    <div class="info-item">\n                        <span class="info-label">Co-Payment</span>\n                        <span class="info-value">','%</span>\n                    </div>\n                    <div class="info-item">\n                        <span class="info-label">Deductible</span>\n                        <span class="info-value">SAR ',"</span>\n                    </div>\n                    ","\n                </div>\n            </div>\n        "])),t.copayment||"0",t.deductible||"0",null===(n=t.benefits)||void 0===n?void 0:n.map((function(e){return U(uh||(uh=Wh(['\n                        <div class="info-item">\n                            <span class="info-label">','</span>\n                            <span class="info-value">',"</span>\n                        </div>\n                    "])),e.name,e.value)}))):""}},{key:"renderLimitsCard",value:function(){var e,n=this.coverage||(null===(e=this.patient)||void 0===e?void 0:e.coverageDetails);return n?U(ph||(ph=Wh(['\n            <div class="eligibility-card">\n                <div class="card-header">\n                    <span class="card-icon"></span>\n                    <div>\n                        <div class="card-title">Limits & Restrictions</div>\n                        <div class="card-subtitle">Coverage Limitations</div>\n                    </div>\n                </div>\n                <div class="info-grid">\n                    <div class="info-item">\n                        <span class="info-label">Subrogation</span>\n                        <span class="info-value">','</span>\n                    </div>\n                    <div class="info-item">\n                        <span class="info-label">Last Verification</span>\n                        <span class="info-value">','</span>\n                    </div>\n                    <div class="info-item">\n                        <span class="info-label">NPHIES Status</span>\n                        <span class="status-badge ','">\n                            ',"\n                        </span>\n                    </div>\n                </div>\n            </div>\n        "])),n.subrogation,this.formatDate(n.lastEligibilityVerificationDate),n.isNphiesVerified?"status-active":"status-inactive",n.isNphiesVerified?"Verified":"Not Verified"):""}},{key:"formatDate",value:function(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}}],[{key:"properties",get:function(){return{eligibility:{type:Object},coverage:{type:Object},patient:{type:Object},visit:{type:Object},isLoading:{type:Boolean,state:!0},error:{type:String,state:!0},facilityLicense:{type:String,state:!0},insuranceLicense:{type:String,state:!0},providerLicense:{type:String,state:!0},serviceDateFrom:{type:String,state:!0},serviceDateTo:{type:String,state:!0},isTestMode:{type:Boolean,state:!0}}}}]);var t,r}(se),ih.styles=[vl,c(hh||(hh=Wh(["\n            :host {\n                display: block;\n            }\n\n            .eligibility-grid {\n                display: grid;\n                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n                gap: 1.5rem;\n                margin-top: 1rem;\n            }\n\n            .eligibility-card {\n                background: white;\n                border: 1px solid var(--gray-200);\n                border-radius: 12px;\n                padding: 1.25rem;\n                transition: all 0.2s ease;\n            }\n\n            .eligibility-card:hover {\n                border-color: var(--primary-light);\n                box-shadow: 0 2px 4px rgba(133, 0, 216, 0.1);\n            }\n\n            .card-header {\n                display: flex;\n                align-items: center;\n                gap: 1rem;\n                margin-bottom: 1rem;\n            }\n\n            .card-icon {\n                width: 40px;\n                height: 40px;\n                color: var(--primary);\n                padding: 8px;\n                background: var(--gray-50);\n                border-radius: 10px;\n            }\n\n            .card-title {\n                color: var(--gray-900);\n                font-weight: 500;\n                margin-bottom: 0.25rem;\n            }\n\n            .card-subtitle {\n                color: var(--gray-600);\n                font-size: 0.875rem;\n            }\n\n            .info-grid {\n                display: grid;\n                gap: 0.75rem;\n            }\n\n            .info-item {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n            }\n\n            .info-label {\n                color: var(--gray-600);\n                font-size: 0.875rem;\n            }\n\n            .info-value {\n                color: var(--gray-900);\n                font-size: 0.875rem;\n                font-weight: 500;\n            }\n\n            .status-badge {\n                padding: 0.25rem 0.75rem;\n                border-radius: 9999px;\n                font-size: 0.75rem;\n                font-weight: 500;\n            }\n\n            .status-active {\n                background-color: var(--success);\n                color: white;\n            }\n\n            .status-inactive {\n                background-color: var(--error);\n                color: white;\n            }\n\n            .status-pending {\n                background-color: var(--warning);\n                color: white;\n            }\n\n            .check-eligibility {\n                margin-top: 1.5rem;\n                padding-top: 1.5rem;\n                border-top: 1px solid var(--gray-100);\n            }\n\n            .check-eligibility-btn {\n                width: 100%;\n            }\n\n            .loading-overlay {\n                position: absolute;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background: rgba(255, 255, 255, 0.9);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                z-index: 10;\n            }\n\n            .empty-state {\n                text-align: center;\n                padding: 2rem;\n                color: var(--gray-500);\n            }\n\n            .form-row {\n                display: grid;\n                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n                gap: 1rem;\n                margin-bottom: 1rem;\n            }\n\n            .date-inputs {\n                display: grid;\n                grid-template-columns: 1fr 1fr;\n                gap: 1rem;\n            }\n\n            .license-inputs {\n                background: var(--gray-50);\n                padding: 1rem;\n                border-radius: 8px;\n                margin-bottom: 1rem;\n            }\n\n            .license-title {\n                font-weight: 500;\n                color: var(--gray-700);\n                margin-bottom: 0.5rem;\n            }\n\n            .button-group {\n                display: flex;\n                gap: 1rem;\n                margin-top: 1.5rem;\n                padding-top: 1.5rem;\n                border-top: 1px solid var(--gray-100);\n            }\n\n            .test-button {\n                background-color: var(--warning);\n                color: white;\n            }\n        "])))],ih)),En("supporting-info-section")((fh=function(e){function n(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,n,t){return n=ff(n),function(e,n){if(n&&("object"==nf(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uf()?Reflect.construct(n,t||[],ff(e).constructor):n.apply(e,t))}(this,n)).vitalsData=null,e.selectedVitals=[],e.editingVital=null,e.temporaryVitalValue="",e.showHistory={},e.visitDate=null,e.supportingInfo=[],e.handleVisitSelected=e.handleVisitSelected.bind(e),e.handleVitalsUpdate=e.handleVitalsUpdate.bind(e),e.handleSupportingInfoUpdate=e.handleSupportingInfoUpdate.bind(e),e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&mf(e,n)}(n,e),function(e,n,t){return n&&lf(e.prototype,n),t&&lf(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"connectedCallback",value:function(){pf(n,"connectedCallback",this,3)([]),window.addEventListener("visit-selected",this.handleVisitSelected),window.addEventListener("vitals-update",this.handleVitalsUpdate),window.addEventListener("supporting-info-update",this.handleSupportingInfoUpdate)}},{key:"disconnectedCallback",value:function(){pf(n,"disconnectedCallback",this,3)([]),window.removeEventListener("visit-selected",this.handleVisitSelected),window.removeEventListener("vitals-update",this.handleVitalsUpdate),window.removeEventListener("supporting-info-update",this.handleSupportingInfoUpdate)}},{key:"handleVisitSelected",value:function(e){var n=e.detail,t=n.visit,r=n.vitals;r&&(this.vitalsData=r,this.visitDate=t.visitDate,this.requestUpdate())}},{key:"handleVitalsUpdate",value:function(e){var n=e.detail.vitals;n&&(this.vitalsData=n,this.requestUpdate())}},{key:"handleSupportingInfoUpdate",value:function(e){var n=e.detail.supportingInfo;n&&(this.supportingInfo=n,this.mapSupportingInfoToVitals())}},{key:"mapSupportingInfoToVitals",value:function(){var e={"vital-sign-systolic":"systolic","vital-sign-diastolic":"diastolic","vital-sign-height":"height","vital-sign-weight":"weight",pulse:"pulseRate",temperature:"temperature","oxygen-saturation":"spo2","respiratory-rate":"respiratoryRate","chief-complaint":"chiefComplaint"},n={};if(this.supportingInfo.forEach((function(t){var r,i=null===(r=t.category)||void 0===r||null===(r=r.coding)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.code;if(i&&e[i]){var o,a=e[i];t.valueQuantity?n[a]=t.valueQuantity.value:t.valueString?n[a]=t.valueString:null!==(o=t.code)&&void 0!==o&&null!==(o=o.coding)&&void 0!==o&&null!==(o=o[0])&&void 0!==o&&o.code&&(n[a]=t.code.coding[0].code)}})),n.height&&n.weight){var t=n.height/100;n.bmi=+(n.weight/(t*t)).toFixed(2)}this.vitalsData=n,this.requestUpdate()}},{key:"getFHIRSupportingInfo",value:function(){var e=this.getVitalsConfig(),n=[],t=1;return Object.entries(this.vitalsData||{}).forEach((function(r){var i=sf(r,2),o=i[0],a=i[1];if(null!=a){var s=e[o];if(s&&s.code){var c={sequence:t++,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:s.code}]}};"chiefComplaint"===o?c.code={coding:[{system:"http://hl7.org/fhir/sid/icd-10-am",code:a}]}:c.valueQuantity={value:parseFloat(a),system:"http://unitsofmeasure.org",code:s.unit},n.push(c)}}})),n}},{key:"render",value:function(){var e=this;return U(mh||(mh=af(['\n            <div class="form-section">\n                <h3 class="section-title">\n                    Supporting Information\n                    <button class="button button-secondary add-vital-btn" @click=','>\n                        + Add Info\n                    </button>\n                </h3>\n                <div class="document-grid">\n                    ',"\n                </div>\n            </div>\n        "])),this.handleAddVital,Object.entries(this.getVitalsConfig()).map((function(n){var t,r=sf(n,2),i=r[0],o=r[1],a=null===(t=e.vitalsData)||void 0===t?void 0:t[i],s=e.selectedVitals.includes(i);return U(vh||(vh=af(['\n                            <div class="document-card ','">\n                                <div class="document-header">\n                                    <span class="document-icon">','</span>\n                                    <span class="document-info">\n                                        <span class="document-title">','</span>\n                                        <div class="document-meta">\n                                            <span class="meta-item">\n                                                <span class="meta-icon">',"</span>\n                                                ","\n                                            </span>\n                                            ","\n                                        </div>\n                                    </span>\n                                    ",'\n                                </div>\n                                <div class="document-content">\n                                    ',"\n                                </div>\n                            </div>\n                        "])),s?"selected":"",o.icon,o.label,o.unit?"":"",o.unit||"",e.visitDate?U(gh||(gh=af(['\n                                                <span class="meta-item">\n                                                    <span class="meta-icon"></span>\n                                                    ',"\n                                                </span>\n                                            "])),e.formatDate(e.visitDate)):"",void 0!==a?U(yh||(yh=af(['\n                                        <button class="action-button" @click=',">\n                                            \n                                        </button>\n                                    "])),(function(n){return e.handleVitalEdit(n,i,a,o)})):"",e.editingVital===i?U(bh||(bh=af(['\n                                        <div class="vital-edit-form">\n                                            <input type="text" \n                                                   class="form-control" \n                                                   .value='," \n                                                   @change=",'\n                                            >\n                                            <div class="edit-actions">\n                                                <button class="button button-primary" \n                                                        @click=','>\n                                                    Save\n                                                </button>\n                                                <button class="button button-secondary" \n                                                        @click=',">\n                                                    Cancel\n                                                </button>\n                                            </div>\n                                        </div>\n                                    "])),a||"",(function(n){return e.handleVitalUpdate(i,n.target.value,o)}),(function(){return e.saveVitalEdit(i)}),e.cancelVitalEdit):U(wh||(wh=af(['\n                                        <div class="vital-value">\n                                            ',"\n                                        </div>\n                                    "])),void 0!==a?U(xh||(xh=af(["\n                                                "," ","\n                                            "])),a,o.unit||""):U(Sh||(Sh=af(['\n                                                <button class="button button-secondary" \n                                                        @click=',">\n                                                    Add Value\n                                                </button>\n                                            "])),(function(n){return e.handleVitalEdit(n,i,"",o)}))))})))}},{key:"formatDate",value:function(e){return e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}},{key:"getVitalsConfig",value:function(){return{height:{icon:"",label:"Height",unit:"cm",code:"vital-sign-height"},weight:{icon:"",label:"Weight",unit:"kg",code:"vital-sign-weight"},bmi:{icon:"",label:"BMI",unit:"kg/m",code:"bmi"},systolic:{icon:"",label:"Systolic",unit:"mm[Hg]",code:"vital-sign-systolic"},diastolic:{icon:"",label:"Diastolic",unit:"mm[Hg]",code:"vital-sign-diastolic"},pulseRate:{icon:"",label:"Pulse Rate",unit:"/min",code:"pulse"},temperature:{icon:"",label:"Temperature",unit:"Cel",code:"temperature"},spo2:{icon:"",label:"SpO2",unit:"%",code:"oxygen-saturation"},respiratoryRate:{icon:"",label:"Respiratory Rate",unit:"/min",code:"respiratory-rate"},chiefComplaint:{icon:"",label:"Chief Complaint",code:"chief-complaint"},bloodSugar:{icon:"",label:"Blood Sugar",unit:"mg/dL",code:"blood-sugar"}}}},{key:"handleVitalSelect",value:function(e,n,t){this.selectedVitals.includes(e)?this.dispatchEvent(new CustomEvent("vital-deselected",{detail:{key:e},bubbles:!0,composed:!0})):this.dispatchEvent(new CustomEvent("vital-selected",{detail:{key:e,value:n,config:t},bubbles:!0,composed:!0}))}},{key:"handleVitalEdit",value:function(e,n,t,r){e.stopPropagation(),this.editingVital=n,this.temporaryVitalValue=t}},{key:"handleVitalUpdate",value:function(e,n,t){this.temporaryVitalValue=n}},{key:"saveVitalEdit",value:function(e){if(void 0!==this.temporaryVitalValue){var n=this.temporaryVitalValue;this.vitalsData=rf(rf({},this.vitalsData),{},of({},e,n)),this.dispatchEvent(new CustomEvent("vital-updated",{detail:{key:e,value:n},bubbles:!0,composed:!0}));var t=this.getFHIRSupportingInfo();this.dispatchEvent(new CustomEvent("supporting-info-update",{detail:{supportingInfo:t},bubbles:!0,composed:!0}))}this.editingVital=null,this.temporaryVitalValue=""}},{key:"cancelVitalEdit",value:function(){this.editingVital=null,this.temporaryVitalValue=""}},{key:"handleAddVital",value:function(){this.dispatchEvent(new CustomEvent("add-vital",{bubbles:!0,composed:!0}))}}],[{key:"properties",get:function(){return{vitalsData:{type:Object},selectedVitals:{type:Array},editingVital:{type:String,state:!0},temporaryVitalValue:{type:String,state:!0},showHistory:{type:Object,state:!0},visitDate:{type:String},supportingInfo:{type:Array}}}}])}(se),fh.styles=[vl,c(kh||(kh=af(["\n            :host {\n                display: block;\n            }\n\n            .document-grid {\n                display: grid;\n                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n                gap: 1.5rem;\n                margin-top: 1rem;\n            }\n\n            .document-card {\n                background: white;\n                border: 1px solid var(--gray-200);\n                border-radius: 12px;\n                padding: 1.25rem;\n                transition: all 0.2s ease;\n            }\n\n            .document-card:hover {\n                border-color: var(--primary-light);\n                box-shadow: 0 2px 4px rgba(133, 0, 216, 0.1);\n            }\n\n            .document-header {\n                display: flex;\n                align-items: center;\n                gap: 1rem;\n                margin-bottom: 1rem;\n            }\n\n            .document-icon {\n                width: 40px;\n                height: 40px;\n                color: var(--primary);\n                padding: 8px;\n                background: var(--gray-50);\n                border-radius: 10px;\n            }\n\n            .document-info {\n                flex: 1;\n            }\n\n            .document-title {\n                color: var(--gray-900);\n                font-weight: 500;\n                margin-bottom: 0.25rem;\n            }\n\n            .document-meta {\n                color: var(--gray-500);\n                font-size: 0.875rem;\n                display: flex;\n                gap: 1rem;\n            }\n\n            .meta-item {\n                display: flex;\n                align-items: center;\n                gap: 0.5rem;\n            }\n\n            .meta-icon {\n                width: 16px;\n                height: 16px;\n                color: var(--gray-400);\n            }\n\n            .document-actions {\n                display: flex;\n                gap: 0.75rem;\n            }\n\n            .action-button {\n                background: var(--gray-50);\n                border: none;\n                border-radius: 8px;\n                color: var(--gray-700);\n                cursor: pointer;\n                padding: 0.5rem;\n                transition: all 0.2s ease;\n            }\n\n            .action-button:hover {\n                background: var(--gray-100);\n                color: var(--gray-900);\n            }\n\n            .action-icon {\n                width: 20px;\n                height: 20px;\n            }\n\n            .upload-zone {\n                border: 2px dashed var(--gray-200);\n                border-radius: 12px;\n                padding: 2rem;\n                text-align: center;\n                transition: all 0.2s ease;\n                background: var(--gray-50);\n                cursor: pointer;\n            }\n\n            .upload-zone:hover,\n            .upload-zone.dragging {\n                border-color: var(--primary);\n                background: white;\n            }\n\n            .upload-icon {\n                width: 48px;\n                height: 48px;\n                color: var(--primary);\n                margin-bottom: 1rem;\n            }\n\n            .upload-text {\n                color: var(--gray-700);\n                font-size: 1rem;\n                margin-bottom: 0.5rem;\n            }\n\n            .upload-subtext {\n                color: var(--gray-500);\n                font-size: 0.875rem;\n            }\n\n            .progress-bar {\n                height: 4px;\n                background: var(--gray-100);\n                border-radius: 2px;\n                margin-top: 1rem;\n                overflow: hidden;\n            }\n\n            .progress-fill {\n                height: 100%;\n                background: var(--primary);\n                transition: width 0.3s ease;\n            }\n\n            .document-preview {\n                margin-top: 1rem;\n                padding-top: 1rem;\n                border-top: 1px solid var(--gray-100);\n            }\n\n            .preview-image {\n                width: 100%;\n                height: auto;\n                border-radius: 8px;\n            }\n\n            .error-message {\n                color: var(--error);\n                font-size: 0.875rem;\n                margin-top: 0.5rem;\n            }\n\n            .success-message {\n                color: var(--success);\n                font-size: 0.875rem;\n                margin-top: 0.5rem;\n            }\n        "])))],fh));var If=(Eh=Cn(),Ph=Cn(),Oh=Cn(),Ch=Cn(),Ah=On({type:Boolean}),Rh=function(e){function n(){var e;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Ef(e=function(e,n,t){return n=Af(n),function(e,n){if(n&&("object"==vf(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Cf()?Reflect.construct(n,t||[],Af(e).constructor):n.apply(e,t))}(this,n,[].concat(r)),"procedures",Dh,e),Ef(e,"procedureSearchResults",Ih,e),Ef(e,"isLoadingProcedures",jh,e),Ef(e,"showProcedureResults",Nh,e),Ef(e,"isTestMode",Lh,e),e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Tf(e,n)}(n,e),function(e,n){return n&&Pf(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"render",value:function(){var e=this;return U(_h||(_h=kf(['\n            <div class="form-section">\n                <div class="search-section">\n                    <div class="form-group">\n                        <label class="form-label">Search Procedure</label>\n                        <div class="search-container">\n                            <input \n                                type="text" \n                                class="form-control" \n                                placeholder="Search by CPT code or procedure name..."\n                                @input=',"\n                                @focus=","\n                                @blur=","\n                            >\n                            ","\n                        </div>\n                    </div>\n                </div>\n\n                ","\n            </div>\n        "])),this.handleProcedureSearch,(function(){return e.showProcedureResults=!0}),(function(){return setTimeout((function(){return e.showProcedureResults=!1}),200)}),this.renderSearchResults(),this.renderProcedureTable())}},{key:"renderSearchResults",value:function(){var e,n=this;return this.showProcedureResults?U(Fh||(Fh=kf(['\n            <div class="search-results">\n                ',"\n            </div>\n        "])),this.isLoadingProcedures?U(Mh||(Mh=kf(['\n                    <div class="search-status">Searching...</div>\n                ']))):(null===(e=this.procedureSearchResults)||void 0===e?void 0:e.length)>0?U(zh||(zh=kf(["\n                    ","\n                "])),this.procedureSearchResults.map((function(e){var t;return U(Bh||(Bh=kf(['\n                        <div class="search-result-item" @click=','>\n                            <div class="patient-name">','</div>\n                            <div class="patient-info">\n                                <span class="highlight">CPT: ',"</span> | \n                                Charge: SAR ",'\n                            </div>\n                            <div class="search-info">\n                                Facility: ',"\n                            </div>\n                        </div>\n                    "])),(function(){return n.selectProcedure(e)}),e.name,e.cptCode,(null===(t=e.standardCharges)||void 0===t?void 0:t.toFixed(2))||"0.00",e.facilityName||"N/A")}))):U(Uh||(Uh=kf(['\n                    <div class="search-status">No procedures found</div>\n                '])))):""}},{key:"renderProcedureTable",value:function(){var e=this;return Array.isArray(this.procedures)&&0!==this.procedures.length?U(qh||(qh=kf(['\n            <table class="procedure-table">\n                <thead>\n                    <tr>\n                        <th>CPT Code</th>\n                        <th>Name</th>\n                        <th>Type</th>\n                        <th>Facility</th>\n                        <th>Status</th>\n                        <th>Auth Required</th>\n                        <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    ',"\n                </tbody>\n            </table>\n        "])),this.procedures.map((function(n){return U(Hh||(Hh=kf(['\n                        <tr>\n                            <td>\n                                <span class="highlight">',"</span>\n                            </td>\n                            <td>",'</td>\n                            <td>\n                                <select class="form-control" \n                                        .value=',"\n                                        @change=",'>\n                                    <option value="primary">Primary</option>\n                                    <option value="secondary">Secondary</option>\n                                    <option value="supporting">Supporting</option>\n                                </select>\n                            </td>\n                            <td>','</td>\n                            <td>\n                                <select class="form-control"\n                                        .value=',"\n                                        @change=",'>\n                                    <option value="planned">Planned</option>\n                                    <option value="scheduled">Scheduled</option>\n                                    <option value="completed">Completed</option>\n                                </select>\n                            </td>\n                            <td>\n                                <input type="checkbox"\n                                       .checked=',"\n                                       @change=",'\n                                >\n                            </td>\n                            <td class="actions-cell">\n                                <button class="button button-secondary" \n                                        @click=',">\n                                    Remove\n                                </button>\n                            </td>\n                        </tr>\n                    "])),n.cptCode,n.name,n.type,(function(t){return e.updateProcedure(n,"type",t.target.value)}),n.facilityName||"N/A",n.status,(function(t){return e.updateProcedure(n,"status",t.target.value)}),n.authRequired,(function(t){return e.updateProcedure(n,"authRequired",t.target.checked)}),(function(){return e.removeProcedure(n)}))}))):U(Vh||(Vh=kf(['\n                <div class="empty-state">\n                    <p>No procedures added yet. Use the search above to add procedures.</p>\n                </div>\n            '])))}},{key:"handleProcedureSearch",value:(t=function(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){Sf(o,r,i,a,s,"next",e)}function s(e){Sf(o,r,i,a,s,"throw",e)}a(void 0)}))}}(xf().mark((function e(n){var t,r,i,o;return xf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(t=n.target.value)||void 0===t?void 0:t.trim()){e.next=4;break}return this.procedureSearchResults=[],e.abrupt("return");case 4:return this.isLoadingProcedures=!0,e.prev=5,e.next=8,fetch("/api/procedures/search?term=".concat(encodeURIComponent(r)));case 8:if((i=e.sent).ok){e.next=11;break}throw new Error("Failed to fetch procedures");case 11:return e.next=13,i.json();case 13:o=e.sent,this.procedureSearchResults=o,e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),console.error("Error searching procedures:",e.t0),this.procedureSearchResults=[];case 21:return e.prev=21,this.isLoadingProcedures=!1,e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[5,17,21,24]])}))),function(e){return t.apply(this,arguments)})},{key:"selectProcedure",value:function(e){if(!this.procedures.some((function(n){return n.cptCode===e.cptCode}))){var n=bf(bf({},e),{},{type:0===this.procedures.length?"primary":"secondary",status:"planned",authRequired:!0,sequence:this.procedures.length+1});this.procedures=[].concat(function(e){return function(e){if(Array.isArray(e))return gf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return gf(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gf(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.procedures),[n]),this.requestUpdate(),this.dispatchEvent(new CustomEvent("procedures-changed",{detail:{procedures:this.procedures},bubbles:!0,composed:!0}))}}},{key:"updateProcedure",value:function(e,n,t){this.procedures=this.procedures.map((function(r){return r.cptCode===e.cptCode?bf(bf({},r),{},wf({},n,t)):r})),this.requestUpdate(),this.dispatchEvent(new CustomEvent("procedures-changed",{detail:{procedures:this.procedures},bubbles:!0,composed:!0}))}},{key:"removeProcedure",value:function(e){this.procedures=this.procedures.filter((function(n){return n.cptCode!==e.cptCode})),this.requestUpdate(),this.dispatchEvent(new CustomEvent("procedures-changed",{detail:{procedures:this.procedures},bubbles:!0,composed:!0}))}}]);var t}(se),Rh.styles=[vl,c(Gh||(Gh=kf(["\n            :host {\n                display: block;\n            }\n\n            .procedure-table {\n                width: 100%;\n                border-collapse: collapse;\n                margin-top: 1rem;\n                background: white;\n                border-radius: 8px;\n                overflow: hidden;\n                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n            }\n\n            .procedure-table th {\n                background: var(--gray-50);\n                padding: 1rem;\n                text-align: left;\n                font-weight: 500;\n                color: var(--gray-700);\n                border-bottom: 1px solid var(--gray-200);\n            }\n\n            .procedure-table td {\n                padding: 1rem;\n                border-bottom: 1px solid var(--gray-100);\n                vertical-align: middle;\n            }\n\n            .procedure-table tr:last-child td {\n                border-bottom: none;\n            }\n\n            .procedure-table .form-control {\n                width: 100%;\n                min-width: 120px;\n            }\n\n            .procedure-table .actions-cell {\n                text-align: right;\n                white-space: nowrap;\n            }\n\n            .highlight {\n                font-family: monospace;\n                padding: 0.25rem 0.5rem;\n                background: var(--gray-50);\n                border-radius: 4px;\n                color: var(--primary);\n            }\n\n            .empty-state {\n                text-align: center;\n                padding: 2rem;\n                background: white;\n                border-radius: 8px;\n                border: 2px dashed var(--gray-200);\n                color: var(--gray-500);\n                margin-top: 1rem;\n            }\n        "])))],Dh=Df((Th=Rh).prototype,"procedures",[Eh],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ih=Df(Th.prototype,"procedureSearchResults",[Ph],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jh=Df(Th.prototype,"isLoadingProcedures",[Oh],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nh=Df(Th.prototype,"showProcedureResults",[Ch],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lh=Df(Th.prototype,"isTestMode",[Ah],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Th);function jf(e){return jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(e)}function Nf(e,n,t){return(n=function(e){var n=function(e){if("object"!=jf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=jf(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jf(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}customElements.define("procedure-section",If);var Lf=Nf(Nf({BUNDLE:{resourceType:"Bundle",id:"".concat(Date.now()),meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/bundle|1.0.0"]},type:"message",timestamp:"2023-12-04T07:40:00+03:00",entry:[{fullUrl:"urn:uuid:a7e4caf2-0441-40e5-97d2-5ae1802730ff",resource:{resourceType:"MessageHeader",id:"a7e4caf2-0441-40e5-97d2-5ae1802730ff",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/message-header|1.0.0"]},eventCoding:{system:"http://nphies.sa/terminology/CodeSystem/ksa-message-events",code:"priorauth-request"},destination:[{endpoint:"http://nphies.sa/license/payer-license/INS-FHIR",receiver:{type:"Organization",identifier:{system:"http://nphies.sa/license/payer-license",value:"INS-FHIR"}}}],sender:{type:"Organization",identifier:{system:"http://nphies.sa/license/provider-license",value:"PR-FHIR"}},source:{endpoint:"http://provider.com"},focus:[{reference:"http://provider.com/Claim/483070"}]}}]},CLAIM:{fullUrl:"http://provider.com/Claim/483070",resource:{resourceType:"Claim",id:"483070",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/institutional-priorauth|1.0.0"]},extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-eligibility-offline-reference",valueString:"EligResp-31212432"},{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-eligibility-offline-date",valueDateTime:"2023-12-04"},{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-encounter",valueReference:{reference:"http://provider.com/Encounter/1"}}],identifier:[{system:"http://provider.com/authorization",value:"req_1188070"}],status:"active",type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/claim-type",code:"institutional"}]},subType:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-subtype",code:"ip"}]},use:"preauthorization",patient:{reference:"http://provider.com/Patient/173826788"},created:"2023-12-04T07:40:00+03:00",insurer:{reference:"http://provider.com/Organization/bff3aa1fbd3648619ac082357bf135db"},provider:{reference:"http://provider.com/Organization/b1b3432921324f97af3be9fd0b1a14ae"},priority:{coding:[{system:"http://terminology.hl7.org/CodeSystem/processpriority",code:"normal"}]},payee:{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/payeetype",code:"provider"}]}},careTeam:[{sequence:1,provider:{reference:"http://provider.com/Practitioner/7"},role:{coding:[{system:"http://terminology.hl7.org/CodeSystem/claimcareteamrole",code:"primary"}]},qualification:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/practice-codes",code:"08.11",display:"Oncology"}]}}],supportingInfo:[{sequence:1,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"vital-sign-systolic"}]},valueQuantity:{value:120,system:"http://unitsofmeasure.org",code:"mm[Hg]"}},{sequence:2,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"vital-sign-diastolic"}]},valueQuantity:{value:80,system:"http://unitsofmeasure.org",code:"mm[Hg]"}},{sequence:3,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"vital-sign-height"}]},valueQuantity:{value:160,system:"http://unitsofmeasure.org",code:"cm"}},{sequence:4,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"vital-sign-weight"}]},valueQuantity:{value:129,system:"http://unitsofmeasure.org",code:"kg"}},{sequence:5,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"pulse"}]},valueQuantity:{value:100,system:"http://unitsofmeasure.org",code:"/min"}},{sequence:6,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"temperature"}]},valueQuantity:{value:37.5,system:"http://unitsofmeasure.org",code:"Cel"}},{sequence:7,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"chief-complaint"}]},code:{coding:[{system:"http://hl7.org/fhir/sid/icd-10-am",code:"C25.4"}]}},{sequence:8,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"oxygen-saturation"}]},valueQuantity:{value:100,system:"http://unitsofmeasure.org",code:"%"}},{sequence:9,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"respiratory-rate"}]},valueQuantity:{value:70,system:"http://unitsofmeasure.org",code:"/min"}},{sequence:11,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"estimated-Length-of-Stay"}]},valueQuantity:{value:14,system:"http://unitsofmeasure.org",code:"d"}},{sequence:12,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"patient-history"}]},valueString:"pancreatic cancer stage 1"},{sequence:13,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"investigation-result"}]},code:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/investigation-result",code:"INP"}]}},{sequence:14,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"treatment-plan"}]},valueString:"Surgical excision of lesion of pancreas"},{sequence:15,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"physical-examination"}]},valueString:"Stable"},{sequence:16,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"history-of-present-illness"}]},valueString:"adenocarcinoma of pancreas diagnosed one year ago"},{sequence:17,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"morphology"}]},code:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/morphology-code",code:"M8002/3",display:"Malignant tumour, small cell type"}]}}],diagnosis:[{sequence:1,onAdmission:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/diagnosis-on-admission",code:"y"}]},diagnosisCodeableConcept:{coding:[{system:"http://hl7.org/fhir/sid/icd-10-am",code:"C25.4",display:"Malignant neoplasm of endocrine pancreas"}]},type:[{coding:[{system:"http://nphies.sa/terminology/CodeSystem/diagnosis-type",code:"principal"}]}]}],insurance:[{sequence:1,focal:!0,coverage:{reference:"http://provider.com/Coverage/1333"}}],item:[{extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-maternity",valueBoolean:!1},{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-patient-share",valueMoney:{value:0,currency:"SAR"}},{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-package",valueBoolean:!0}],sequence:2,careTeamSequence:[1],diagnosisSequence:[1],informationSequence:[1,2,3,4,5,6,7,8,9,11,12,13,14,15,16],productOrService:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/procedures",code:"30578-00-00",display:"Excision of lesion of pancreas or pancreatic duct"}]},servicedDate:"2023-12-15",quantity:{value:1},unitPrice:{value:5e3,currency:"SAR"},net:{value:5e3,currency:"SAR"}}],total:{value:5e3,currency:"SAR"}}},ENCOUNTER:{fullUrl:"http://provider.com/Encounter/1",resource:{resourceType:"Encounter",id:"1",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/encounter|1.0.0"]},identifier:[{system:"http://provider.com/encounter",value:"Encounter1"}],status:"planned",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActCode",code:"IMP",display:"inpatient encounter"},serviceType:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/service-type",code:"sub-acute-care"}]},subject:{reference:"http://provider.com/Patient/173826788"},period:{start:"2023-12-15T09:25:00+03:00"},hospitalization:{extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-admissionSpecialty",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/practice-codes",code:"19.08",display:"General Surgery"}]}}],origin:{reference:"http://provider.com/Organization/070bdd8e753a4cf9b2e64db808dfd9dc"},admitSource:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/admit-source",code:"WKIN",display:"Walk-in"}]}},serviceProvider:{reference:"http://provider.com/Organization/b1b3432921324f97af3be9fd0b1a14ae"}}},PROVIDER:{fullUrl:"http://provider.com/Organization/b1b3432921324f97af3be9fd0b1a14ae",resource:{resourceType:"Organization",id:"b1b3432921324f97af3be9fd0b1a14ae",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/provider-organization|1.0.0"]},extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-provider-type",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/provider-type",code:"1",display:"Hospital"}]}}],identifier:[{system:"http://nphies.sa/license/provider-license",value:"PR-FHIR"}],active:!0,type:[{coding:[{system:"http://nphies.sa/terminology/CodeSystem/organization-type",code:"prov"}]}]}},PATIENT:{fullUrl:"http://provider.com/Patient/173826788",resource:{resourceType:"Patient",id:"173826788",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/patient|1.0.0"]},extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-occupation",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/occupation",code:"student"}]}}],identifier:[{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0203",code:"PRC",display:"Permanent Resident Card Number"}]},system:"http://nphies.sa/identifier/iqama",value:"2000000002"}],active:!0,name:[{use:"official",text:"Muhammad Ali Abbas",family:"Abbas",given:["Muhammad","Ali"]}],telecom:[{system:"phone",value:"+966517382691"}],gender:"male",_gender:{extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-ksa-administrative-gender",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/ksa-administrative-gender",code:"male",display:"Male"}]}}]},birthDate:"2010-08-21",maritalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-MaritalStatus",code:"U"}]}}},INSURER:{fullUrl:"http://provider.com/Organization/bff3aa1fbd3648619ac082357bf135db",resource:{resourceType:"Organization",id:"bff3aa1fbd3648619ac082357bf135db",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/insurer-organization|1.0.0"]},identifier:[{system:"http://nphies.sa/license/payer-license",value:"INS-FHIR"}],active:!0,type:[{coding:[{system:"http://nphies.sa/terminology/CodeSystem/organization-type",code:"ins"}]}],name:"Test Payer"}},POLICYHOLDER:{fullUrl:"http://provider.com/Organization/13",resource:{resourceType:"Organization",id:"13",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/policyholder-organization|1.0.0"]},identifier:[{system:"http://nphies.sa/identifier/organization",value:"5009"}],active:!0,name:"Policy Holder Organization"}},COVERAGE:{fullUrl:"http://provider.com/Coverage/1333",resource:{resourceType:"Coverage",id:"1333",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/coverage|1.0.0"]},identifier:[{system:"http://pseudo-payer.com.sa/memberid",value:"0000000002"}],status:"active",type:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/coverage-type",code:"EHCPOL",display:"extended healthcare"}]},policyHolder:{reference:"http://provider.com/Organization/13"},subscriber:{reference:"http://provider.com/Patient/3662364643"},beneficiary:{reference:"http://provider.com/Patient/173826788"},relationship:{coding:[{system:"http://terminology.hl7.org/CodeSystem/subscriber-relationship",code:"child",display:"Child"}]},payor:[{reference:"http://provider.com/Organization/bff3aa1fbd3648619ac082357bf135db"}],class:[{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/coverage-class",code:"plan"}]},value:"CB135",name:"Insurance Plan A"}],network:"Golden C"}},PRACTITIONER:{fullUrl:"http://provider.com/Practitioner/7",resource:{resourceType:"Practitioner",id:"7",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/practitioner|1.0.0"]},identifier:[{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0203",code:"MD"}]},system:"http://nphies.sa/license/practitioner-license",value:"N-P-00001"}],active:!0,name:[{use:"official",text:"Dr. Ameera Hassan",family:"Hassan",given:["Ameera"]}]}}},"PATIENT",{fullUrl:"http://provider.com/Patient/3662364643",resource:{resourceType:"Patient",id:"3662364643",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/patient|1.0.0"]},extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-occupation",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/occupation",code:"business"}]}}],identifier:[{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0203",code:"PRC",display:"Permanent Resident Card Number"}]},system:"http://nphies.sa/identifier/iqama",value:"2000000001"}],active:!0,name:[{use:"official",text:"Ahmad Khaled Abbas",family:"Abbas",given:["Ahmad","Khaled"]}],telecom:[{system:"phone",value:"+966517382643"}],gender:"male",_gender:{extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-ksa-administrative-gender",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/ksa-administrative-gender",code:"male",display:"Male"}]}}]},birthDate:"1984-12-25",maritalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-MaritalStatus",code:"M"}]}}}),"PROVIDER",{fullUrl:"http://provider.com/Organization/070bdd8e753a4cf9b2e64db808dfd9dc",resource:{resourceType:"Organization",id:"070bdd8e753a4cf9b2e64db808dfd9dc",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/provider-organization|1.0.0"]},extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-provider-type",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/provider-type",code:"1",display:"Hospital"}]}}],identifier:[{system:"http://nphies.sa/license/provider-license",value:"PR-FHIR"}],active:!0,type:[{coding:[{system:"http://nphies.sa/terminology/CodeSystem/organization-type",code:"prov"}]}],name:"Test Provider"}});function Rf(e){return function(e){if(Array.isArray(e))return Ff(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _f(e,n){if(e){if("string"==typeof e)return Ff(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ff(e,n):void 0}}function Ff(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var Mf=function(e){return{height:"Body height",weight:"Body weight",bmi:"Body mass index",systolic:"Systolic blood pressure",diastolic:"Diastolic blood pressure",pulseRate:"Heart rate",temperature:"Body temperature",spo2:"Oxygen saturation",respRate:"Respiratory rate",bloodSugar:"Glucose [Mass/volume] in Blood"}[e]||""},zf=function(e){return{height:"cm",weight:"kg",bmi:"kg/m2",systolic:"mmHg",diastolic:"mmHg",pulseRate:"/min",temperature:"Cel",spo2:"%",respRate:"/min",bloodSugar:"mg/dL"}[e]||""},Bf=function(e){return{height:"cm",weight:"kg",bmi:"kg/m2",systolic:"mm[Hg]",diastolic:"mm[Hg]",pulseRate:"/min",temperature:"Cel",spo2:"%",respRate:"/min",bloodSugar:"mg/dL"}[e]||""};const Uf=function(e){var n,t=e.patient,r=e.visit,i=(e.eligibility,e.coverage),o=e.medications,a=e.diagnoses,s=e.careTeam,c=(e.supportingInfo,e.vitals);return{resourceType:"Bundle",type:"collection",entry:[{resource:{resourceType:"Claim",status:"active",type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/claim-type",code:"institutional",display:"Institutional"}]},use:"preauthorization",patient:{reference:"Patient/".concat(null==t?void 0:t.id),display:null==t?void 0:t.name},created:(new Date).toISOString(),provider:(null==s||null===(n=s.find((function(e){return"primary"===e.role.code})))||void 0===n?void 0:n.reference)||null,priority:{coding:[{system:"http://terminology.hl7.org/CodeSystem/processpriority",code:"normal"}]},insurance:[{sequence:1,focal:!0,coverage:{reference:"Coverage/".concat(null==i?void 0:i.id)}}],diagnosis:null==a?void 0:a.map((function(e,n){return{sequence:n+1,diagnosisCodeableConcept:{coding:[{system:1===e.icdtype?"http://hl7.org/fhir/sid/icd-9-cm":"http://hl7.org/fhir/sid/icd-10",code:e.code,display:e.description}]},type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/ex-diagnosistype",code:e.type,display:e.type.charAt(0).toUpperCase()+e.type.slice(1)}]}],onAdmission:e.presentOnAdmission?{coding:[{system:"http://terminology.hl7.org/CodeSystem/diagnosis-on-admission",code:"y",display:"Yes"}]}:null}})),careTeam:null==s?void 0:s.map((function(e,n){return{sequence:n+1,provider:{reference:"Practitioner/".concat(e.id),display:e.name.text},role:{coding:[{system:"http://terminology.hl7.org/CodeSystem/claimcareteamrole",code:e.role.code,display:e.role.display}]},qualification:{coding:[{system:e.qualification.system,code:e.qualification.code,display:e.qualification.display}]}}})),supportingInfo:[{sequence:1,category:{coding:[{system:"http://terminology.hl7.org/CodeSystem/claiminformationcategory",code:"info",display:"Information"}]},valueReference:{reference:"Encounter/".concat(null==r?void 0:r.id),display:"Visit on ".concat(null==r?void 0:r.visitDate)}}].concat(Rf(Object.entries(c||{}).map((function(e,n){var t,r=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(s.push(r.value),s.length!==n);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,n)||_f(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),i=r[0],o=r[1];return{sequence:n+2,category:{coding:[{system:"http://terminology.hl7.org/CodeSystem/claiminformationcategory",code:"vital",display:"Vital Sign"}]},code:{coding:[{system:"http://loinc.org",code:(t=i,{height:"8302-2",weight:"29463-7",bmi:"39156-5",systolic:"8480-6",diastolic:"8462-4",pulseRate:"8867-4",temperature:"8310-5",spo2:"59408-5",respRate:"9279-1",bloodSugar:"2339-0"}[t]||""),display:Mf(i)}]},valueQuantity:{value:parseFloat(o)||0,unit:zf(i),system:"http://unitsofmeasure.org",code:Bf(i)},timingDateTime:null==c?void 0:c.creationDate}})))),item:null==o?void 0:o.map((function(e,n){return{sequence:n+1,productOrService:{coding:[{system:"http://snomed.info/sct",code:e.code,display:e.name}]},servicedPeriod:{start:null==r?void 0:r.startTime,end:null==r?void 0:r.endTime},quantity:{value:1},unitPrice:{value:e.price||0,currency:"SAR"}}}))}}]}};function Vf(e){return Vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(e)}function qf(){qf=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Vf(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(Vf(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function Hf(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function Gf(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function $f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Gf(Object(t),!0).forEach((function(n){Yf(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gf(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Yf(e,n,t){return(n=Kf(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Jf(e){return function(e){if(Array.isArray(e))return Wf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return Wf(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Wf(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wf(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function Qf(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kf(r.key),r)}}function Kf(e){var n=function(e){if("object"!=Vf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Vf(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vf(n)?n:n+""}var Xf=function(){return function(e,n,t){return t&&Qf(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}),0,[{key:"createRequest",value:function(e){var n,t,r=crypto.randomUUID(),i=crypto.randomUUID(),o=crypto.randomUUID(),a=crypto.randomUUID(),s={resourceType:"Bundle",id:r,meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/oral-priorauth|1.0.0"]},type:"message",timestamp:(new Date).toISOString(),entry:[]};return s.entry.push(this.createMessageHeader(i,o,e)),s.entry.push(this.createClaim(o,e,a)),(n=s.entry).push.apply(n,Jf(this.createPatientResources(e))),s.entry.push(this.createCoverageResource(e)),(t=s.entry).push.apply(t,Jf(this.createPractitionerResources(e))),s.entry.push(this.createEncounterResource(a,e)),s.entry.push(this.createProviderOrganization(e)),s.entry.push(this.createInsurerOrganization(e)),s.entry.push(this.createPolicyHolderOrganization(e)),s}},{key:"createMessageHeader",value:function(e,n,t){return{fullUrl:"urn:uuid:".concat(e),resource:{resourceType:"MessageHeader",id:e,meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/message-header|1.0.0"]},eventCoding:{system:"http://nphies.sa/terminology/CodeSystem/ksa-message-events",code:"priorauth-request"},destination:[{endpoint:"http://nphies.sa/license/payer-license/INS-FHIR",receiver:{type:"Organization",identifier:{system:"http://nphies.sa/license/payer-license",value:"INS-FHIR"}}}],sender:{type:"Organization",identifier:{system:"http://nphies.sa/license/provider-license",value:t.provider.licenseNumber}},source:{endpoint:t.provider.endpoint},focus:[{reference:"https://provider.com.sa/Claim/".concat(n)}]}}}},{key:"createClaim",value:function(e,n,t){return{fullUrl:"https://provider.com.sa/Claim/".concat(e),resource:{resourceType:"Claim",id:e,meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/oral-priorauth|1.0.0"]},extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-encounter",valueReference:{reference:"http://provider.com.sa/Encounter/".concat(t)}}],identifier:[{system:"http://provider.com.sa/authorization",value:"req_".concat(e)}],status:"active",type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/claim-type",code:"oral"}]},subType:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-subtype",code:"op"}]},use:"preauthorization",patient:{reference:"http://provider.com.sa/Patient/".concat(n.patient.id)},created:(new Date).toISOString(),insurer:{reference:"http://provider.com.sa/Organization/".concat(n.insurer.id)},provider:{reference:"http://provider.com.sa/Organization/".concat(n.provider.id)},priority:{coding:[{system:"http://terminology.hl7.org/CodeSystem/processpriority",code:"normal"}]},payee:{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/payeetype",code:"provider"}]}},careTeam:n.careTeam.map((function(e,n){return{sequence:n+1,provider:{reference:"http://provider.com.sa/Practitioner/".concat(e.id)},role:{coding:[{system:"http://terminology.hl7.org/CodeSystem/claimcareteamrole",code:e.role}]},qualification:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/practice-codes",code:e.qualificationCode}]}}})),diagnosis:n.diagnoses.map((function(e,n){return{sequence:n+1,diagnosisCodeableConcept:{coding:[{system:"http://hl7.org/fhir/sid/icd-10-am",code:e.code,display:e.description}]},type:[{coding:[{system:"http://nphies.sa/terminology/CodeSystem/diagnosis-type",code:"principal"}]}]}})),insurance:[{sequence:1,focal:!0,coverage:{reference:"http://provider.com.sa/Coverage/".concat(n.coverage.id)}}],item:n.items.map((function(e){return $f({sequence:e.sequence,careTeamSequence:Array.isArray(e.careTeamMembers)?e.careTeamMembers.map((function(e){return Number(e.sequence)})):[1],diagnosisSequence:Array.isArray(e.diagnosisReferences)?e.diagnosisReferences.map((function(e){return Number(e)})):[1],extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-patient-share",valueMoney:{value:e.patientShare,currency:"SAR"}},{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-package",valueBoolean:e.isPackage||!1}],productOrService:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/oral-health-op",code:e.serviceCode,display:e.serviceName}]},servicedDate:e.servicedDate||(new Date).toISOString().split("T")[0],quantity:{value:e.quantity||1},unitPrice:{value:e.unitPrice,currency:"SAR"},net:{value:e.net.value,currency:"SAR"}},e.bodySite?{bodySite:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/fdi-oral-region",code:e.bodySite.code,display:e.bodySite.display}]}}:{})})),supportingInfo:this.createSupportingInfo(n.supportingInfo),total:{value:n.items.reduce((function(e,n){return e+n.net.value}),0),currency:"SAR"}}}}},{key:"createPatientResources",value:function(e){var n=e.patient;return[{fullUrl:"https://provider.com.sa/Patient/".concat(n.id),resource:{resourceType:"Patient",id:n.id,identifier:[{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0203",code:"PRC",display:"Permanent Resident Card Number"}]},system:"http://nphies.sa/identifier/iqama",value:n.nationalId}],name:[{family:n.lastName,given:[n.firstName]}],gender:n.gender,birthDate:n.dob,telecom:[{system:"phone",value:n.phone}],extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-occupation",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/occupation",code:n.occupation}]}},{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-ksa-administrative-gender",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/ksa-administrative-gender",code:n.gender}]}}],maritalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-MaritalStatus",code:n.maritalStatus}]},_gender:{extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-ksa-administrative-gender",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/ksa-administrative-gender",code:n.gender}]}}]}}}]}},{key:"createCoverageResource",value:function(e){var n=e.coverage;return{fullUrl:"https://provider.com.sa/Coverage/".concat(n.id),resource:{resourceType:"Coverage",id:n.id,status:"active",type:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/coverage-type",code:"EHCPOL",display:"extended healthcare"}]},beneficiary:{reference:"https://provider.com.sa/Patient/".concat(n.beneficiaryId)},payor:[{reference:"https://provider.com.sa/Organization/".concat(n.payorId)}],policyHolder:{reference:"https://provider.com.sa/Organization/".concat(n.policyHolderId)},subscriber:{reference:"https://provider.com.sa/Patient/".concat(n.subscriberId)},relationship:{coding:[{system:"http://terminology.hl7.org/CodeSystem/subscriber-relationship",code:n.relationship,display:this.relationshipDisplayMap[n.relationship]}]},class:[{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/coverage-class",code:"plan"}]},value:n.planNumber,name:n.planName}],network:n.network}}}},{key:"createEncounterResource",value:function(e,n){var t=n.visit,r=n.patient;return{fullUrl:"https://provider.com.sa/Encounter/".concat(e),resource:{resourceType:"Encounter",id:e,meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/encounter|1.0.0"]},status:"planned",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActCode",code:"AMB",display:"ambulatory"},serviceType:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/service-type",code:"dental-care"}]},subject:{reference:"Patient/".concat(r.id)},period:{start:t.startDate,end:t.endDate},serviceProvider:{reference:"https://provider.com.sa/Organization/".concat(formData.provider.id)},extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-serviceEventType",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/service-event-type",code:"ICSE"}]}}]}}}},{key:"createProviderOrganization",value:function(e){return{fullUrl:"https://provider.com.sa/Organization/".concat(e.provider.id),resource:{resourceType:"Organization",id:e.provider.id,meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/provider-organization|1.0.0"]},identifier:[{system:"http://nphies.sa/license/provider-license",value:"PR-FHIR"}],type:[{coding:[{system:"http://nphies.sa/terminology/CodeSystem/organization-type",code:"prov"}]}],name:"Test Provider",extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-provider-type",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/provider-type",code:"5",display:"Clinic"}]}}]}}}},{key:"createInsurerOrganization",value:function(e){return{fullUrl:"https://provider.com.sa/Organization/".concat(e.insurer.id),resource:{resourceType:"Organization",id:e.insurer.id,meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/insurer-organization|1.0.0"]},identifier:[{system:"http://nphies.sa/license/payer-license",value:"INS-FHIR"}],type:[{coding:[{system:"http://nphies.sa/terminology/CodeSystem/organization-type",code:"ins"}]}],name:"Test Payer"}}}},{key:"createPractitionerResources",value:function(e){return e.careTeam.map((function(e){return{fullUrl:"https://provider.com.sa/Practitioner/".concat(e.id),resource:{resourceType:"Practitioner",id:e.id,identifier:[{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0203",code:"MD"}]},system:"http://nphies.sa/license/practitioner-license",value:e.licenseNumber}],name:[{text:e.name,family:e.lastName,given:[e.firstName,e.title]}]}}}))}},{key:"createPolicyHolderOrganization",value:function(e){return{fullUrl:"https://provider.com.sa/Organization/".concat(e.policyHolder.id),resource:{resourceType:"Organization",id:e.policyHolder.id,meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/policyholder-organization|1.0.0"]},identifier:[{system:"http://nphies.sa/identifier/organization",value:"".concat(e.insurer.id)}],active:!0,name:"Policy Holder Organization"}}}},{key:"createSupportingInfo",value:function(e){return e.map((function(e){return $f($f({sequence:e.sequence,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:e.category}]}},e.code?{code:{coding:[e.code]}}:{}),e.valueString?{valueString:e.valueString}:{})}))}},{key:"createStaticTestRequest",value:function(){return{resourceType:"Bundle",id:"c0fb859a-3e83-4e3b-9b85-ec2f64383093",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/bundle|1.0.0"]},type:"message",timestamp:(new Date).toISOString(),entry:[{fullUrl:"urn:uuid:d2f4ecea-e519-4f65-b21b-979ff7c33093",resource:{resourceType:"MessageHeader",id:"d2f4ecea-e519-4f65-b21b-979ff7c33093",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/message-header|1.0.0"]},eventCoding:{system:"http://nphies.sa/terminology/CodeSystem/ksa-message-events",code:"priorauth-request"},destination:[{endpoint:"http://nphies.sa/license/payer-license/INS-FHIR",receiver:{type:"Organization",identifier:{system:"http://nphies.sa/license/payer-license",value:"INS-FHIR"}}}],sender:{type:"Organization",identifier:{system:"http://nphies.sa/license/provider-license",value:"PR-FHIR"}},source:{endpoint:"http://provider.com.sa/PR-FHIR"},focus:[{reference:"http://provider.com.sa/Claim/293093"}]}},{fullUrl:"http://provider.com.sa/Claim/293093",resource:{resourceType:"Claim",id:"293093",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/oral-priorauth|1.0.0"]},extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-encounter",valueReference:{reference:"http://provider.com.sa/Encounter/1"}}],identifier:[{system:"http://provider.com.sa/authorization",value:"req_293093"}],status:"active",type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/claim-type",code:"oral"}]},subType:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-subtype",code:"op"}]},use:"preauthorization",patient:{reference:"http://provider.com.sa/Patient/3"},created:(new Date).toISOString(),insurer:{reference:"http://provider.com.sa/Organization/bff3aa1fbd3648619ac082357bf135db"},provider:{reference:"http://provider.com.sa/Organization/b1b3432921324f97af3be9fd0b1a14ae"},priority:{coding:[{system:"http://terminology.hl7.org/CodeSystem/processpriority",code:"normal"}]},payee:{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/payeetype",code:"provider"}]}},careTeam:[{sequence:1,provider:{reference:"http://provider.com.sa/Practitioner/7"},role:{coding:[{system:"http://terminology.hl7.org/CodeSystem/claimcareteamrole",code:"primary"}]},qualification:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/practice-codes",code:"22.00"}]}}],diagnosis:[{sequence:1,diagnosisCodeableConcept:{coding:[{system:"http://hl7.org/fhir/sid/icd-10-am",code:"K02.0"}]},type:[{coding:[{system:"http://nphies.sa/terminology/CodeSystem/diagnosis-type",code:"principal"}]}]}],insurance:[{sequence:1,focal:!0,coverage:{reference:"http://provider.com.sa/Coverage/3"}}],supportingInfo:[{sequence:7,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"chief-complaint"}]},code:{coding:[{system:"http://hl7.org/fhir/sid/icd-10-am",code:"K02.0",display:"Caries limited to enamel"}]}},{sequence:12,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"patient-history"}]},valueString:"No systemic disease"},{sequence:13,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"investigation-result"}]},code:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/investigation-result",code:"INP",display:"Investigation(s) not performed"}]}},{sequence:14,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"treatment-plan"}]},valueString:"Composite Restoration"},{sequence:15,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"physical-examination"}]},valueString:"Stable"},{sequence:16,category:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/claim-information-category",code:"history-of-present-illness"}]},valueString:"No history"}],item:[{sequence:1,careTeamSequence:[1],diagnosisSequence:[1],extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-patient-share",valueMoney:{value:40,currency:"SAR"}},{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-package",valueBoolean:!1}],productOrService:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/oral-health-op",code:"97011-00-00",display:"Comprehensive oral examination"}]},servicedDate:"2023-12-04",quantity:{value:1},unitPrice:{value:200,currency:"SAR"},net:{value:200,currency:"SAR"}},{sequence:2,careTeamSequence:[1],diagnosisSequence:[1],extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-patient-share",valueMoney:{value:60,currency:"SAR"}},{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-package",valueBoolean:!1}],productOrService:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/oral-health-op",code:"97043-00-00",display:"Dental antibiotic sensitivity test"}]},servicedDate:"2023-12-04",quantity:{value:1},unitPrice:{value:300,currency:"SAR"},net:{value:300,currency:"SAR"},bodySite:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/fdi-oral-region",code:"13",display:"UPPER RIGHT; PERMANENT TEETH # 3"}]}},{sequence:3,careTeamSequence:[1],diagnosisSequence:[1],extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-patient-share",valueMoney:{value:100,currency:"SAR"}},{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-package",valueBoolean:!1}],productOrService:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/oral-health-op",code:"97613-07-00",display:"Lithium disilicate ceramic crown (e max), indirect; per crown"}]},servicedDate:"2023-12-04",quantity:{value:1},unitPrice:{value:1300,currency:"SAR"},net:{value:1300,currency:"SAR"},bodySite:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/fdi-oral-region",code:"37",display:"LOWER LEFT; PERMANENT TEETH # 7"}]}}],total:{value:1800,currency:"SAR"}}},{fullUrl:"http://provider.com.sa/Encounter/1",resource:{resourceType:"Encounter",id:"1",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/encounter|1.0.0"]},extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-serviceEventType",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/service-event-type",code:"ICSE"}]}}],identifier:[{system:"http://provider.com.sa/encounter",value:"Encounter1"}],status:"planned",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActCode",code:"AMB",display:"ambulatory"},serviceType:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/service-type",code:"dental-care"}]},subject:{reference:"http://provider.com.sa/Patient/3"},period:{start:"2023-12-04T11:38:00+03:00",end:"2023-12-04T13:38:00+03:00"},serviceProvider:{reference:"http://provider.com.sa/Organization/b1b3432921324f97af3be9fd0b1a14ae"}}},{fullUrl:"http://provider.com.sa/Organization/b1b3432921324f97af3be9fd0b1a14ae",resource:{resourceType:"Organization",id:"b1b3432921324f97af3be9fd0b1a14ae",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/provider-organization|1.0.0"]},extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-provider-type",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/provider-type",code:"5",display:"Clinic"}]}}],identifier:[{system:"http://nphies.sa/license/provider-license",value:"PR-FHIR"}],active:!0,type:[{coding:[{system:"http://nphies.sa/terminology/CodeSystem/organization-type",code:"prov"}]}],name:"Test Provider"}},{fullUrl:"http://provider.com.sa/Patient/3",resource:{resourceType:"Patient",id:"3",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/patient|1.0.0"]},extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-occupation",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/occupation",code:"housewife"}]}}],identifier:[{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0203",code:"PRC"}]},system:"http://nphies.sa/identifier/iqama",value:"2000000003"}],active:!0,name:[{text:"Sara Khan",family:"Khan",given:["Sara"]}],gender:"female",_gender:{extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-ksa-administrative-gender",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/ksa-administrative-gender",code:"female"}]}}]},birthDate:"1974-03-13",maritalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-MaritalStatus",code:"M"}]}}},{fullUrl:"http://provider.com.sa/Patient/123454186",resource:{resourceType:"Patient",id:"123454186",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/patient|1.0.0"]},extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-occupation",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/occupation",code:"business"}]}}],identifier:[{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0203",code:"PRC",display:"Permanent Resident Card Number"}]},system:"http://nphies.sa/identifier/iqama",value:"2000000001"}],active:!0,name:[{use:"official",text:"Ahmad Khaled Abbas",family:"Ahmad",given:["Khaled","Abbas"]}],telecom:[{system:"phone",value:"+966512345691"}],gender:"male",_gender:{extension:[{url:"http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/extension-ksa-administrative-gender",valueCodeableConcept:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/ksa-administrative-gender",code:"male",display:"Male"}]}}]},birthDate:"1984-12-25",maritalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-MaritalStatus",code:"M"}]}}},{fullUrl:"http://provider.com.sa/Organization/bff3aa1fbd3648619ac082357bf135db",resource:{resourceType:"Organization",id:"bff3aa1fbd3648619ac082357bf135db",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/insurer-organization|1.0.0"]},identifier:[{system:"http://nphies.sa/license/payer-license",value:"INS-FHIR"}],active:!0,type:[{coding:[{system:"http://nphies.sa/terminology/CodeSystem/organization-type",code:"ins"}]}],name:"Test Payer"}},{fullUrl:"http://provider.com.sa/Coverage/3",resource:{resourceType:"Coverage",id:"3",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/coverage|1.0.0"]},identifier:[{system:"http://pseudo-payer.com.sa/memberid",value:"0000000003"}],status:"active",type:{coding:[{system:"http://nphies.sa/terminology/CodeSystem/coverage-type",code:"EHCPOL",display:"extended healthcare"}]},policyHolder:{reference:"http://provider.com.sa/Organization/13"},subscriber:{reference:"http://provider.com.sa/Patient/123454186"},beneficiary:{reference:"http://provider.com.sa/Patient/3"},relationship:{coding:[{system:"http://terminology.hl7.org/CodeSystem/subscriber-relationship",code:"spouse",display:"Spouse"}]},payor:[{reference:"http://provider.com.sa/Organization/bff3aa1fbd3648619ac082357bf135db"}],class:[{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/coverage-class",code:"plan"}]},value:"ABC123",name:"Insurance Plan A"}],network:"Golden C"}},{fullUrl:"http://provider.com.sa/Organization/13",resource:{resourceType:"Organization",id:"13",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/policyholder-organization|1.0.0"]},identifier:[{system:"http://nphies.sa/identifier/organization",value:"5009"}],active:!0,name:"Policy Holder Organization"}},{fullUrl:"http://provider.com.sa/Practitioner/7",resource:{resourceType:"Practitioner",id:"7",meta:{profile:["http://nphies.sa/fhir/ksa/nphies-fs/StructureDefinition/practitioner|1.0.0"]},identifier:[{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0203",code:"MD"}]},system:"http://nphies.sa/license/practitioner-license",value:"N-P-00002"}],active:!0,name:[{use:"official",text:"Dr. Yasser Mahfooz",family:"Yasser",given:["Dr.","Mahfooz"]}]}}]}}},{key:"sendStaticTestRequest",value:(e=function(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){Hf(o,r,i,a,s,"next",e)}function s(e){Hf(o,r,i,a,s,"throw",e)}a(void 0)}))}}(qf().mark((function e(){var n,t;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.createStaticTestRequest(),console.log("Sending static test bundle:",n),e.next=5,th.processMessage(n);case 5:return t=e.sent,console.log("Static test response:",t),e.abrupt("return",t);case 10:throw e.prev=10,e.t0=e.catch(0),console.error("Error sending static test request:",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return e.apply(this,arguments)})}]);var e}();const Zf=Xf;function em(e){return em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(e)}var nm,tm,rm,im;function om(){om=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:O(e,t,s)}),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==em(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new n((function(n,i){t(e,r,n,i)}))}return o=o?o.then(i,i):i()}})}function O(n,t,r){var i=p;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(n,t,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function C(n,t){var r=t.method,i=n.iterator[r];if(i===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,C(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(i,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function t(){for(;++i<n.length;)if(r.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(em(n)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},E(P.prototype),l(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(r,i){return s.type="throw",s.arg=n,t.next=r,i&&(t.method="next",t.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;T(t)}return i}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:I(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function am(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function sm(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){am(o,r,i,a,s,"next",e)}function s(e){am(o,r,i,a,s,"throw",e)}a(void 0)}))}}function cm(e){return function(e){if(Array.isArray(e))return lm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return lm(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?lm(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lm(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function dm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function um(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?dm(Object(t),!0).forEach((function(n){pm(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dm(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function pm(e,n,t){return(n=mm(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function hm(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function fm(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mm(r.key),r)}}function mm(e){var n=function(e){if("object"!=em(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=em(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==em(n)?n:n+""}function vm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vm=function(){return!!e})()}function gm(e){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gm(e)}function ym(e,n){return ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},ym(e,n)}var bm=En("prior-auth-form-widget")(nm=function(e){function n(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,n,t){return n=gm(n),function(e,n){if(n&&("object"==em(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vm()?Reflect.construct(n,t||[],gm(e).constructor):n.apply(e,t))}(this,n)).formData={patient:null,visit:null,eligibility:null,coverage:null,medications:[],diagnoses:[],careTeam:[],procedures:[],supportingInfo:[],vitals:{}},e.selectedClaimType="institutional",e.isLoading=!1,e.fhirData=Lf,e.diagnoses=[],e.medications=[],e.careTeam=[],e.procedures=[],e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&ym(e,n)}(n,e),function(e,n,t){return n&&fm(e.prototype,n),t&&fm(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"render",value:function(){var e,n,t,r;return U(tm||(tm=hm(['\n            <div class="card">\n                <div class="card-header">\n                    <div class="header-content">\n                        <h2 class="card-title">Prior Authorization Request</h2>\n                        <div class="claim-type-selector">\n                            <select class="form-control" \n                                    @change=',"\n                                    .value=",'>\n                                <option value="institutional">Institutional</option>\n                                <option value="dental">Dental</option>\n                                <option value="vision">Vision</option>\n                                <option value="professional">Professional</option>\n                                <option value="prescription">Prescription</option>\n                                <option value="pharmacy">Pharmacy</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n                <div class="card-body">\n                    <form @submit=','>\n                        <div class="sections-container">\n                            <patient-section\n                                class="section ','"\n                                .patient=',"\n                                @patient-selected=",'\n                            >\n                                <div class="section-status ','">\n                                    ','\n                                </div>\n                            </patient-section>\n\n                            <visit-section\n                                class="section ','"\n                                .selectedPatient=',"\n                                .selectedVisit=","\n                                .disabled=","\n                                @visit-selected=",'\n                            >\n                                <div class="section-status ','">\n                                    ',"\n                                </div>\n                            </visit-section>\n\n                            <vitals-section\n                                .vitalsData=","\n                                .visitDate=","\n                                ?disabled=",'\n                            ></vitals-section>\n\n                            <eligibility-section\n                                class="section ','"\n                                .patient=',"\n                                .visit=","\n                                .eligibility=","\n                                .coverage=","\n                                @eligibility-checked=",'\n                            >\n                                <div class="section-status ','">\n                                    ','\n                                </div>\n                            </eligibility-section>\n\n                            <diagnosis-section\n                                class="section"\n                                .diagnoses=',"\n                                @diagnosis-selected=","\n                                @diagnosis-updated=","\n                                @diagnosis-removed=","\n                                @show-notification=",'\n                            >\n                                <div class="section-status ','">\n                                    ','\n                                </div>\n                            </diagnosis-section>\n\n                            <medication-section\n                                class="section"\n                                .medications=',"\n                                @medication-selected=","\n                                @medication-updated=","\n                                @medication-removed=","\n                                @show-notification=",'\n                            >\n                                <div class="section-status ','">\n                                    ','\n                                </div>\n                            </medication-section>\n\n                            <care-team-section\n                                class="section"\n                                .careTeam=',"\n                                @care-team-member-selected=","\n                                @care-team-member-updated=","\n                                @care-team-member-removed=","\n                                @show-notification=",'\n                            >\n                                <div class="section-status ','">\n                                    ','\n                                </div>\n                            </care-team-section>\n\n                            <procedure-section\n                                class="section"\n                                .procedures=',"\n                                @procedures-changed=","\n                                @show-notification=",'\n                            >\n                                <div class="section-status ','">\n                                    ','\n                                </div>\n                            </procedure-section>\n\n                            <supporting-info-section\n                                class="section ','"\n                                .supportingInfo=',"\n                                .vitalsData=","\n                                .visitDate=","\n                                @vital-updated=","\n                                @supporting-info-update=",'\n                            >\n                                <div class="section-status ','">\n                                    ','\n                                </div>\n                            </supporting-info-section>\n                        </div>\n\n                        <div class="form-actions">\n                            <button \n                                type="button" \n                                class="button test-button"\n                                ?disabled=',"\n                                @click=",'\n                            >\n                                Run Mapper Test\n                            </button>\n                            <button \n                                type="button" \n                                class="button test-button"\n                                ?disabled=',"\n                                @click=",'\n                            >\n                                Run Static Dental Test\n                            </button>\n                            <button \n                                type="button" \n                                class="button button-secondary"\n                                @click=','\n                            >\n                                Cancel\n                            </button>\n                            <button \n                                type="submit" \n                                class="button button-primary"\n                                ?disabled=',"\n                            >\n                                Submit Prior Authorization\n                            </button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n\n            ","\n        "])),this.handleClaimTypeChange,this.selectedClaimType,this.handleSubmit,"patient"===this.activeSection?"section-active":"",this.formData.patient,this.handlePatientSelected,this.formData.patient?"status-complete":"status-active",this.formData.patient?"":"1",this.formData.patient?"visit"===this.activeSection?"section-active":"":"section-disabled",this.formData.patient,this.formData.visit,!this.formData.patient,this.handleVisitSelected,this.formData.visit?"status-complete":this.formData.patient?"status-active":"status-pending",this.formData.visit?"":"2",null===(e=this.formData)||void 0===e?void 0:e.vitals,null===(n=this.formData)||void 0===n||null===(n=n.visit)||void 0===n?void 0:n.visitDate,!(null!==(t=this.formData)&&void 0!==t&&t.visit)||this.isLoading,this.formData.visit?"eligibility"===this.activeSection?"section-active":"":"section-disabled",this.formData.patient,this.formData.visit,this.formData.eligibility,this.formData.coverage,this.handleEligibilityChecked,this.formData.eligibility?"status-complete":this.formData.visit?"status-active":"status-pending",this.formData.eligibility?"":"3",this.diagnoses,this.handleDiagnosisSelected,this.handleDiagnosisUpdated,this.handleDiagnosisRemoved,this.handleNotification,this.formData.diagnoses.length>0?"status-complete":"status-active",this.formData.diagnoses.length>0?"":"4",this.medications,this.handleMedicationSelected,this.handleMedicationUpdated,this.handleMedicationRemoved,this.handleNotification,this.formData.medications.length>0?"status-complete":"status-active",this.formData.medications.length>0?"":"5",this.careTeam,this.handleCareTeamMemberSelected,this.handleCareTeamMemberUpdated,this.handleCareTeamMemberRemoved,this.handleNotification,this.formData.careTeam.length>0?"status-complete":"status-active",this.formData.careTeam.length>0?"":"6",this.procedures,this.handleProceduresChanged,this.handleNotification,this.formData.procedures.length>0?"status-complete":"status-active",this.formData.procedures.length>0?"":"7",this.formData.visit?"":"section-disabled",this.formData.supportingInfo,this.formData.vitals,null===(r=this.formData.visit)||void 0===r?void 0:r.visitDate,this.handleVitalUpdated,this.handleSupportingInfoUpdate,this.formData.supportingInfo.length>0?"status-complete":this.formData.visit?"status-active":"status-pending",this.formData.supportingInfo.length>0?"":"8",this.isLoading,this.runMapperTest,this.isLoading,this.runStaticDentalTest,this.handleCancel,!this.isFormValid(),this.isLoading?U(rm||(rm=hm(['\n                <div class="loading-overlay">\n                    <div class="loading-content">\n                        <div class="loading-spinner"></div>\n                        <div class="loading-text">Processing your request...</div>\n                    </div>\n                </div>\n            ']))):"")}},{key:"handleClaimTypeChange",value:function(e){this.selectedClaimType=e.target.value}},{key:"handlePatientSelected",value:function(e){var n=e.detail.patient;this.formData=um(um({},this.formData),{},{patient:n,visit:null,eligibility:null,coverage:null,medications:[],diagnoses:[],careTeam:[],procedures:[],supportingInfo:[],vitals:{}}),this.dispatchEvent(new CustomEvent("patient-update",{detail:{patient:n},bubbles:!0,composed:!0})),this.activeSection="visit"}},{key:"handleVisitSelected",value:function(e){var n,t=e.detail,r=t.visit,i=t.vitals;this.selectedVisit=r,this.formData=um(um({},this.formData),{},{visit:r,vitals:i}),null!==(n=this.fhirData)&&void 0!==n&&null!==(n=n.CLAIM)&&void 0!==n&&null!==(n=n.resource)&&void 0!==n&&n.supportingInfo&&(this.formData.supportingInfo=this.fhirData.CLAIM.resource.supportingInfo,this.dispatchEvent(new CustomEvent("supporting-info-update",{detail:{supportingInfo:this.formData.supportingInfo},bubbles:!0,composed:!0})));var o=this.shadowRoot.querySelector("vitals-section");o&&(o.vitalsData=i,o.visitDate=r.visitDate);var a=this.shadowRoot.querySelector("supporting-info-section");a&&(a.supportingInfo=this.formData.supportingInfo,a.vitalsData=i,a.visitDate=r.visitDate),this.updateSectionStates(),this.dispatchFormUpdateEvent()}},{key:"handleEligibilityChecked",value:function(e){this.formData=um(um({},this.formData),{},{eligibility:e.detail.eligibility,coverage:e.detail.coverage})}},{key:"handleMedicationSelected",value:function(e){this.medications=[].concat(cm(this.medications),[e.detail]),this.formData=um(um({},this.formData),{},{medications:this.medications}),this.requestUpdate()}},{key:"handleMedicationUpdated",value:function(e){var n=e.detail,t=n.medication,r=n.field,i=n.value;this.medications=this.medications.map((function(e){return e.id===t.id?um(um({},e),{},pm({},r,i)):e})),this.formData=um(um({},this.formData),{},{medications:this.medications}),this.requestUpdate()}},{key:"handleMedicationRemoved",value:function(e){this.medications=this.medications.filter((function(n){return n.id!==e.detail.id})),this.formData=um(um({},this.formData),{},{medications:this.medications}),this.requestUpdate()}},{key:"handleDiagnosisSelected",value:function(e){this.diagnoses=[].concat(cm(this.diagnoses),[e.detail]),this.formData=um(um({},this.formData),{},{diagnoses:this.diagnoses}),this.requestUpdate()}},{key:"handleDiagnosisUpdated",value:function(e){var n=e.detail,t=n.diagnosis,r=n.field,i=n.value;this.diagnoses=this.diagnoses.map((function(e){return e.id===t.id?um(um({},e),{},pm({},r,i)):e})),this.formData=um(um({},this.formData),{},{diagnoses:this.diagnoses}),this.requestUpdate()}},{key:"handleDiagnosisRemoved",value:function(e){this.diagnoses=this.diagnoses.filter((function(n){return n.id!==e.detail.id})),this.formData=um(um({},this.formData),{},{diagnoses:this.diagnoses}),this.requestUpdate()}},{key:"handleCareTeamMemberSelected",value:function(e){this.careTeam=[].concat(cm(this.careTeam),[e.detail]),this.formData=um(um({},this.formData),{},{careTeam:this.careTeam}),this.requestUpdate()}},{key:"handleCareTeamMemberUpdated",value:function(e){var n=e.detail,t=n.member,r=n.path,i=n.value;this.careTeam=this.careTeam.map((function(e){return e.id===t.id?um({},function(e,n,t){var r=n.split("."),i=r.pop();return r.reduce((function(e,n){return e[n]}),e)[i]=t,e}(um({},e),r,i)):e})),this.formData=um(um({},this.formData),{},{careTeam:this.careTeam}),this.requestUpdate()}},{key:"handleCareTeamMemberRemoved",value:function(e){this.careTeam=this.careTeam.filter((function(n){return n.id!==e.detail.id})),this.formData=um(um({},this.formData),{},{careTeam:this.careTeam}),this.requestUpdate()}},{key:"handleSupportingInfoUpdate",value:function(e){var n,t=e.detail.supportingInfo;this.formData=um(um({},this.formData),{},{supportingInfo:t}),null!==(n=this.fhirData)&&void 0!==n&&null!==(n=n.CLAIM)&&void 0!==n&&n.resource&&(this.fhirData.CLAIM.resource.supportingInfo=t),this.dispatchFormUpdateEvent()}},{key:"handleVitalUpdated",value:function(e){var n=e.detail,t=n.key,r=n.value;this.formData=um(um({},this.formData),{},{vitals:um(um({},this.formData.vitals),{},pm({},t,r))}),this.dispatchFormUpdateEvent()}},{key:"handleNotification",value:function(e){var n=e.detail,t=n.message,r=n.type;this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:t,type:r},bubbles:!0,composed:!0}))}},{key:"handleCancel",value:function(){this.dispatchEvent(new CustomEvent("cancel",{bubbles:!0,composed:!0}))}},{key:"isFormValid",value:function(){return this.formData.patient&&this.formData.visit&&this.formData.diagnoses.length>0&&this.formData.eligibility}},{key:"handleSubmit",value:(i=sm(om().mark((function e(n){var t,r,i;return om().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),this.isFormValid()){e.next=4;break}return this.handleNotification({detail:{message:"Please fill in all required fields",type:"error"}}),e.abrupt("return");case 4:return e.prev=4,this.isLoading=!0,r=this.createFhirBundle(),e.next=9,th.processMessage(r);case 9:if(i=e.sent,null===(t=i.entry)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.resource)||void 0===t||null===(t=t.issue)||void 0===t||!t.some((function(e){return"error"===e.severity}))){e.next=12;break}throw new Error("Submission completed with warnings");case 12:this.handleNotification({detail:{message:"Prior auth submitted successfully",type:"success"}}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),this.handleNotification({detail:{message:e.t0.message,type:"error"}});case 18:return e.prev=18,this.isLoading=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[4,15,18,21]])}))),function(e){return i.apply(this,arguments)})},{key:"createFhirBundle",value:function(){try{return Uf(this.formData)}catch(e){return console.error("Error creating FHIR bundle:",e),this.handleNotification({detail:{message:"Error creating FHIR bundle: "+e.message,type:"error"}}),null}}},{key:"updateSectionStates",value:function(){this.shadowRoot.querySelectorAll(".section").forEach((function(e){e.classList.remove("section-disabled")}))}},{key:"dispatchFormUpdateEvent",value:function(){}},{key:"runMapperTest",value:(r=sm(om().mark((function e(){var n,t,r;return om().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.prev=1,n={patient:{id:"test-patient-001",nationalId:"1234567890",firstName:"Test",lastName:"Patient",gender:"male",dob:"1990-01-01",phone:"+966500000000",occupation:"student",maritalStatus:"U"},provider:{id:"PR-FHIR",licenseNumber:"PR-FHIR",name:"Test Provider Organization",endpoint:"http://provider.com"},insurer:{id:"INS-FHIR",name:"Test Insurance Company"},policyHolder:{id:"POL-001"},coverage:{id:"COV-001",beneficiaryId:"test-patient-001",payorId:"INS-FHIR",policyHolderId:"POL-001",subscriberId:"test-patient-001",relationship:"self",planNumber:"PLAN-001",planName:"Test Insurance Plan",network:"Test Network"},visit:{startDate:(new Date).toISOString(),endDate:new Date(Date.now()+864e5).toISOString()},diagnoses:[{code:"K02.9",description:"Dental caries, unspecified"}],items:[{sequence:1,serviceCode:"D2391",serviceName:"Resin-based composite - one surface, posterior",bodySite:{code:"46",display:"Mandibular Right First Molar"},patientShare:0,isPackage:!1,careTeamMembers:[{sequence:1}],diagnosisReferences:[1],net:{value:500}}],careTeam:[{id:"PRACT-001",licenseNumber:"MD12345",firstName:"Doctor",lastName:"Test",title:"Dr",name:"Dr. Test Doctor",role:"primary",qualificationCode:"DEN"}],supportingInfo:[{sequence:1,category:"info",valueString:"Test supporting information"}]},t=Zf.createRequest(n),console.log("Generated Test Prior Auth Bundle:",t),e.next=7,th.processMessage(t);case 7:r=e.sent,console.log("Test Prior Auth Response:",r),this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:"Prior Auth Mapper test completed successfully",type:"success"},bubbles:!0,composed:!0})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error in Prior Auth Mapper test:",e.t0),this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:"Test Error: ".concat(e.t0.message),type:"error"},bubbles:!0,composed:!0}));case 16:return e.prev=16,this.isLoading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,12,16,19]])}))),function(){return r.apply(this,arguments)})},{key:"runStaticDentalTest",value:(t=sm(om().mark((function e(){var n;return om().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.prev=1,e.next=4,Zf.sendStaticTestRequest();case 4:n=e.sent,this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:"Static Dental Prior Auth test completed successfully",type:"success"},bubbles:!0,composed:!0})),console.log("Static Dental Test Response:",n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error in Static Dental test:",e.t0),this.dispatchEvent(new CustomEvent("show-notification",{detail:{message:"Static Dental Test Error: ".concat(e.t0.message),type:"error"},bubbles:!0,composed:!0}));case 13:return e.prev=13,this.isLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[1,9,13,16]])}))),function(){return t.apply(this,arguments)})},{key:"handleProceduresChanged",value:function(e){var n=e.detail.procedures;this.procedures=n,this.formData=um(um({},this.formData),{},{procedures:n}),this.requestUpdate()}}],[{key:"properties",get:function(){return{formData:{type:Object},selectedClaimType:{type:String},isLoading:{type:Boolean},activeSection:{type:String},selectedPatient:{type:Object},selectedVisit:{type:Object},fhirData:{type:Object},diagnoses:{type:Array},medications:{type:Array},careTeam:{type:Array},procedures:{type:Array}}}},{key:"styles",get:function(){return[vl,c(im||(im=hm(["\n                :host {\n                    display: block;\n                }\n\n                .card {\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n                    margin-bottom: 2rem;\n                }\n\n                .card-header {\n                    padding: 1.5rem;\n                    border-bottom: 1px solid var(--gray-200);\n                }\n\n                .header-content {\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                }\n\n                .card-title {\n                    color: var(--gray-900);\n                    font-size: 1.5rem;\n                    font-weight: 600;\n                    margin: 0;\n                }\n\n                .card-body {\n                    padding: 1.5rem;\n                }\n\n                .sections-container {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 1.5rem;\n                }\n\n                .section {\n                    position: relative;\n                    opacity: 1;\n                    pointer-events: auto;\n                    transition: all 0.3s ease;\n                }\n\n                .section-disabled {\n                    opacity: 0.6;\n                    pointer-events: none;\n                }\n\n                .section-status {\n                    position: absolute;\n                    left: -2rem;\n                    top: 1rem;\n                    width: 24px;\n                    height: 24px;\n                    border-radius: 12px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    font-size: 0.875rem;\n                    font-weight: 500;\n                }\n\n                .status-pending {\n                    background: var(--gray-200);\n                    color: var(--gray-600);\n                }\n\n                .status-active {\n                    background: var(--primary-light);\n                    color: white;\n                }\n\n                .status-complete {\n                    background: var(--success);\n                    color: white;\n                }\n\n                .form-actions {\n                    display: flex;\n                    justify-content: flex-end;\n                    gap: 1rem;\n                    margin-top: 2rem;\n                    padding-top: 1.5rem;\n                    border-top: 1px solid var(--gray-200);\n                }\n\n                .loading-overlay {\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    background: rgba(255, 255, 255, 0.9);\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    z-index: 1000;\n                }\n\n                .loading-content {\n                    text-align: center;\n                }\n\n                .loading-spinner {\n                    width: 40px;\n                    height: 40px;\n                    border: 3px solid var(--gray-200);\n                    border-top-color: var(--primary);\n                    border-radius: 50%;\n                    animation: spin 1s linear infinite;\n                }\n\n                .loading-text {\n                    margin-top: 1rem;\n                    color: var(--gray-700);\n                }\n\n                @keyframes spin {\n                    to { transform: rotate(360deg); }\n                }\n\n                .test-button {\n                    background-color: var(--warning);\n                    color: white;\n                    margin-right: 1rem;\n                }\n            "])))]}}]);var t,r,i}(se))||nm;function wm(e){return wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(e)}function xm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Sm(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xm(Object(t),!0).forEach((function(n){km(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xm(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function km(e,n,t){return(n=function(e){var n=function(e){if("object"!=wm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=wm(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wm(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Em(e,n){if(!customElements.get(e))try{customElements.define(e,n)}catch(n){console.warn("Warning: ".concat(e," already registered"))}}Em("floating-button",Ce),Em("service-table",Ke),Em("modal-component",hn),Em("data-view-modal",Sn),Em("coverage-verification",Gi),Em("prior-auth-claim-management",Oa),Em("prior-auth-widget",ss),Em("prior-auth-grid-modal",Fs),Em("prior-auth-grid",Ss),Em("prior-auth-form-widget",bm);var Pm="\n  flex: 1;\n  overflow-y: auto;\n  padding: 0 2rem;\n",Om="\n  position: sticky;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding: 1rem 2rem;\n  background: white;\n  border-top: 1px solid #E5E7EB;\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1);\n  z-index: 10;\n  width: 100%;\n  box-sizing: border-box;\n",Cm="\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n",Am={FloatingButton:Ce,ServiceTable:Ke,Modal:hn,DataViewModal:Sn,CoverageVerification:Gi,PriorAuthClaimManagement:Oa,PriorAuthWidget:ss,PriorAuthGridModal:Fs,PriorAuthGrid:Ss,PriorAuthFormWidget:bm,createFloatingButton:function(e){var n=document.createElement("floating-button");return e.position&&n.setAttribute("position",e.position),void 0!==e.glowing&&(n.glowing=e.glowing),void 0!==e.disabled&&(n.disabled=e.disabled),e.type&&(n.type=e.type),document.body.appendChild(n),n},createPlanModal:function(e){var n=document.createElement("plan-modal");return e&&(e.title&&(n.title=e.title),void 0!==e.isOpen&&(n.isOpen=e.isOpen)),document.body.appendChild(n),n},createDataViewModal:function(e){var n=document.createElement("data-view-modal");return e&&(void 0!==e.isOpen&&(n.isOpen=e.isOpen),e.patientData&&(n.patientData=e.patientData),e.insuranceData&&(n.insuranceData=e.insuranceData)),document.body.appendChild(n),n},createModalWithFloatingButton:function(e,n){var t=this.createPlanModal(e),r=this.createFloatingButton(n);return r.addEventListener("click",(function(){t.isOpen?t.close():t.isOpen=!0})),{modal:t,button:r}},createDataViewWithFloatingButton:function(e,n){var t=this.createDataViewModal(e),r=this.createFloatingButton(n);return r.addEventListener("click",(function(){t.isOpen?t.close():t.isOpen=!0})),{modal:t,button:r}},createCoverageVerificationWithButton:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.createFloatingButton(Sm(Sm({},e),{},{position:"bottom-right-1",type:"coverage"})),t=document.createElement("div");t.id="coverage-verification-container",t.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100vh;\n            background: rgba(0, 0, 0, 0.5);\n            display: none;\n            z-index: 9998;\n            padding: 2rem;\n            box-sizing: border-box;\n            opacity: 0;\n            transition: opacity 0.3s ease;\n            justify-content: center;\n            align-items: flex-start;\n        ";var r=document.createElement("coverage-verification");r.style.cssText="\n            margin: 0 auto;\n            width: 100%;\n            max-width: 1200px;\n            height: calc(100vh - 4rem);\n            opacity: 0;\n            transform: translateY(20px);\n            transition: all 0.3s ease;\n            position: relative;\n            z-index: 9998;\n            background: white;\n            border-radius: 0.75rem;\n            overflow: hidden;\n            display: flex;\n            flex-direction: column;\n        ";var i=document.createElement("div");i.style.cssText=Cm;var o=document.createElement("div");for(o.style.cssText=Pm;r.firstChild;)o.appendChild(r.firstChild);var a=document.createElement("div");a.style.cssText=Om,i.appendChild(o),i.appendChild(a),r.appendChild(i),t.appendChild(r),document.body.appendChild(t),n.addEventListener("click",(function(){t.style.display="flex",t.offsetHeight,t.style.opacity="1",r.style.opacity="1",r.style.transform="translateY(0)",document.body.style.overflow="hidden"}));var s=function(){t.style.opacity="0",r.style.opacity="0",r.style.transform="translateY(20px)",setTimeout((function(){t.style.display="none",document.body.style.overflow=""}),300)};t.addEventListener("click",(function(e){e.target===t&&s()})),r.addEventListener("close",s);var c=function(e){"Escape"===e.key&&"flex"===t.style.display&&s()};return document.addEventListener("keydown",c),{container:t,btn:n,coverageVerification:r,cleanup:function(){document.removeEventListener("keydown",c),t.remove(),n.remove()}}},createPriorAuthClaimManagementWithButton:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.createFloatingButton(Sm(Sm({},e),{},{position:"bottom-right-2",type:"prior-auth"})),t=document.createElement("div");t.id="prior-auth-container",t.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100vh;\n            background: rgba(0, 0, 0, 0.5);\n            display: none;\n            z-index: 9998;\n            padding: 2rem;\n            box-sizing: border-box;\n            opacity: 0;\n            transition: opacity 0.3s ease;\n            justify-content: center;\n            align-items: flex-start;\n        ";var r=document.createElement("prior-auth-claim-management");r.style.cssText="\n            margin: 0 auto;\n            width: 100%;\n            max-width: 1200px;\n            height: calc(100vh - 4rem);\n            opacity: 0;\n            transform: translateY(20px);\n            transition: all 0.3s ease;\n            position: relative;\n            z-index: 9998;\n            background: white;\n            border-radius: 0.75rem;\n            overflow: hidden;\n            display: flex;\n            flex-direction: column;\n        ";var i=document.createElement("div");i.style.cssText=Cm;var o=document.createElement("div");for(o.style.cssText=Pm;r.firstChild;)o.appendChild(r.firstChild);var a=document.createElement("div");a.style.cssText=Om,i.appendChild(o),i.appendChild(a),r.appendChild(i),t.appendChild(r),document.body.appendChild(t),n.addEventListener("click",(function(){t.style.display="flex",requestAnimationFrame((function(){t.style.opacity="1",r.style.opacity="1",r.style.transform="translateY(0)"})),document.body.style.overflow="hidden"}));var s=function(){t.style.opacity="0",r.style.opacity="0",r.style.transform="translateY(20px)",setTimeout((function(){t.style.display="none",document.body.style.overflow=""}),300)};t.addEventListener("click",(function(e){e.target===t&&s()})),r.addEventListener("close",s);var c=function(e){"Escape"===e.key&&"flex"===t.style.display&&s()};return document.addEventListener("keydown",c),{container:t,btn:n,priorAuthClaimManagement:r,cleanup:function(){document.removeEventListener("keydown",c),t.remove(),n.remove()}}},createPriorAuthGridWithButton:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.createFloatingButton(Sm(Sm({},e),{},{position:"bottom-right-3",type:"prior-auth-grid"})),t=document.createElement("prior-auth-grid-modal");return document.body.appendChild(t),n.addEventListener("click",(function(){t.isOpen=!0})),{modal:t,btn:n,cleanup:function(){t.remove(),n.remove()}}},createPriorAuthFormWithButton:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.createFloatingButton(Sm(Sm({},e),{},{position:"bottom-right-4",type:"prior-auth-form"})),t=document.createElement("div");t.id="prior-auth-form-container",t.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100vh;\n            background: rgba(0, 0, 0, 0.5);\n            display: none;\n            z-index: 9998;\n            padding: 2rem;\n            box-sizing: border-box;\n            opacity: 0;\n            transition: opacity 0.3s ease;\n            justify-content: center;\n            align-items: flex-start;\n        ";var r=document.createElement("prior-auth-form-widget");r.style.cssText="\n            margin: 0 auto;\n            width: 100%;\n            max-width: 1200px;\n            height: calc(100vh - 4rem);\n            opacity: 0;\n            transform: translateY(20px);\n            transition: all 0.3s ease;\n            position: relative;\n            z-index: 9998;\n            background: white;\n            border-radius: 0.75rem;\n            overflow: hidden;\n            display: flex;\n            flex-direction: column;\n        ";var i=document.createElement("div");i.style.cssText=Cm;var o=document.createElement("div");for(o.style.cssText=Pm;r.firstChild;)o.appendChild(r.firstChild);var a=document.createElement("div");a.style.cssText=Om,i.appendChild(o),i.appendChild(a),r.appendChild(i),t.appendChild(r),document.body.appendChild(t),n.addEventListener("click",(function(){t.style.display="flex",requestAnimationFrame((function(){t.style.opacity="1",r.style.opacity="1",r.style.transform="translateY(0)"})),document.body.style.overflow="hidden"}));var s=function(){t.style.opacity="0",r.style.opacity="0",r.style.transform="translateY(20px)",setTimeout((function(){t.style.display="none",document.body.style.overflow=""}),300)};t.addEventListener("click",(function(e){e.target===t&&s()})),r.addEventListener("close",s);var c=function(e){"Escape"===e.key&&"flex"===t.style.display&&s()};return document.addEventListener("keydown",c),{container:t,btn:n,priorAuthForm:r,cleanup:function(){document.removeEventListener("keydown",c),t.remove(),n.remove()}}}};"undefined"!=typeof window&&(window.ShadowWidgets=Am)})();
//# sourceMappingURL=shadow-widgets.js.map